<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.13.2" xml:lang="en-US">
  <compounddef id="hpm__wm8978_8c" kind="file" language="C++">
    <compoundname>hpm_wm8978.c</compoundname>
    <includes refid="hpm__wm8978_8h" local="yes">hpm_wm8978.h</includes>
    <incdepgraph>
      <node id="1">
        <label>components/codec/wm8978/hpm_wm8978.c</label>
        <link refid="hpm__wm8978_8c"/>
        <childnode refid="2" relation="include">
        </childnode>
      </node>
      <node id="2">
        <label>hpm_wm8978.h</label>
        <link refid="hpm__wm8978_8h"/>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="12" relation="include">
        </childnode>
      </node>
      <node id="12">
        <label>hpm_wm8978_regs.h</label>
        <link refid="hpm__wm8978__regs_8h"/>
      </node>
      <node id="4">
        <label>hpm_common.h</label>
        <link refid="hpm__common_8h"/>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="9" relation="include">
        </childnode>
      </node>
      <node id="3">
        <label>hpm_i2c_drv.h</label>
        <link refid="hpm__i2c__drv_8h"/>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="11" relation="include">
        </childnode>
      </node>
      <node id="5">
        <label>assert.h</label>
      </node>
      <node id="10">
        <label>hpm_i2c_regs.h</label>
      </node>
      <node id="11">
        <label>hpm_soc_feature.h</label>
      </node>
      <node id="6">
        <label>stdbool.h</label>
      </node>
      <node id="7">
        <label>stdint.h</label>
      </node>
      <node id="9">
        <label>stdlib.h</label>
      </node>
      <node id="8">
        <label>string.h</label>
      </node>
    </incdepgraph>
    <sectiondef kind="define">
      <memberdef kind="define" id="hpm__wm8978_8c_1ab7db7be2967b231f141cd6dbe91f573d" prot="public" static="no">
        <name>WM8978_I2C_SLAVE_ADDRESS1</name>
        <initializer>(0x1A)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="components/codec/wm8978/hpm_wm8978.c" line="9" column="9" bodyfile="components/codec/wm8978/hpm_wm8978.c" bodystart="9" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="hpm__wm8978_8c_1a9d1ad487a8d36eaec2a37cff902f27ea" prot="public" static="no">
        <name>WM8978_I2C_SLAVE_ADDRESS2</name>
        <initializer>(0x1A)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="components/codec/wm8978/hpm_wm8978.c" line="10" column="9" bodyfile="components/codec/wm8978/hpm_wm8978.c" bodystart="10" bodyend="-1"/>
      </memberdef>
    </sectiondef>
    <sectiondef kind="var">
      <memberdef kind="variable" id="hpm__wm8978_8c_1a47bbe8c1dd9547aa93bd636816f0a8a6" prot="public" static="yes" mutable="no">
        <type>volatile uint16_t</type>
        <definition>volatile uint16_t wm8978_reg_val[]</definition>
        <argsstring>[]</argsstring>
        <name>wm8978_reg_val</name>
        <initializer>= {
    0x000, 0x000, 0x000, 0x000, 0x050, 0x000, 0x140, 0x000,
    0x000, 0x000, 0x000, 0x0FF, 0x0FF, 0x000, 0x100, 0x0FF,
    0x0FF, 0x000, 0x12C, 0x02C, 0x02C, 0x02C, 0x02C, 0x000,
    0x032, 0x000, 0x000, 0x000, 0x000, 0x000, 0x000, 0x000,
    0x038, 0x00B, 0x032, 0x000, 0x008, 0x00C, 0x093, 0x0E9,
    0x000, 0x000, 0x000, 0x000, 0x003, 0x010, 0x010, 0x100,
    0x100, 0x002, 0x001, 0x001, 0x039, 0x039, 0x039, 0x039,
}</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="components/codec/wm8978/hpm_wm8978.c" line="13" column="26" bodyfile="components/codec/wm8978/hpm_wm8978.c" bodystart="13" bodyend="21"/>
      </memberdef>
    </sectiondef>
    <sectiondef kind="func">
      <memberdef kind="function" id="hpm__wm8978_8c_1a61a4f8caa332fd434661e49375d27f05" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref></type>
        <definition>hpm_stat_t wm8979_init</definition>
        <argsstring>(wm8978_context_t *control)</argsstring>
        <name>wm8979_init</name>
        <param>
          <type><ref refid="structwm8978__context__t" kindref="compound">wm8978_context_t</ref> *</type>
          <declname>control</declname>
        </param>
        <briefdescription>
<para>WM8979 initialize function. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">control</parametername>
</parameternamelist>
<parameterdescription>
<para>WM8979 control structure. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<parameterlist kind="retval"><parameteritem>
<parameternamelist>
<parametername><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref></parametername>
</parameternamelist>
<parameterdescription>
<para>status_success if init without any error </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="components/codec/wm8978/hpm_wm8978.c" line="24" column="12" bodyfile="components/codec/wm8978/hpm_wm8978.c" bodystart="24" bodyend="41"/>
      </memberdef>
      <memberdef kind="function" id="hpm__wm8978_8c_1a4ed260479c0eb3ff748d77970efec11d" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref></type>
        <definition>hpm_stat_t wm8978_reset</definition>
        <argsstring>(wm8978_context_t *control)</argsstring>
        <name>wm8978_reset</name>
        <param>
          <type><ref refid="structwm8978__context__t" kindref="compound">wm8978_context_t</ref> *</type>
          <declname>control</declname>
        </param>
        <briefdescription>
<para>Write register to WM8978 using I2C. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">control</parametername>
</parameternamelist>
<parameterdescription>
<para>WM8978 control structure. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<parameterlist kind="retval"><parameteritem>
<parameternamelist>
<parametername><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref></parametername>
</parameternamelist>
<parameterdescription>
<para>status_success if reset without any error </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="components/codec/wm8978/hpm_wm8978.c" line="43" column="12" bodyfile="components/codec/wm8978/hpm_wm8978.c" bodystart="43" bodyend="48"/>
      </memberdef>
      <memberdef kind="function" id="hpm__wm8978_8c_1a7b02376586f3e44ea965e67c67d28531" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref></type>
        <definition>hpm_stat_t wm8978_set_out_volume</definition>
        <argsstring>(wm8978_context_t *control, wm8978_out_channel_t channel, uint8_t volume)</argsstring>
        <name>wm8978_set_out_volume</name>
        <param>
          <type><ref refid="structwm8978__context__t" kindref="compound">wm8978_context_t</ref> *</type>
          <declname>control</declname>
        </param>
        <param>
          <type><ref refid="hpm__wm8978_8h_1abbacf4a48ba752027fe16d75b472b8e1" kindref="member">wm8978_out_channel_t</ref></type>
          <declname>channel</declname>
        </param>
        <param>
          <type>uint8_t</type>
          <declname>volume</declname>
        </param>
        <briefdescription>
<para>WM8979 set out volume function. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">control</parametername>
</parameternamelist>
<parameterdescription>
<para>WM8979 control structure. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">channel</parametername>
</parameternamelist>
<parameterdescription>
<para>out channel </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">volume</parametername>
</parameternamelist>
<parameterdescription>
<para>volume value </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<parameterlist kind="retval"><parameteritem>
<parameternamelist>
<parametername><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref></parametername>
</parameternamelist>
<parameterdescription>
<para>status_success if set without any error </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="components/codec/wm8978/hpm_wm8978.c" line="50" column="12" bodyfile="components/codec/wm8978/hpm_wm8978.c" bodystart="50" bodyend="71"/>
      </memberdef>
      <memberdef kind="function" id="hpm__wm8978_8c_1a2e4b41266e59dbd824f16ab205b78f0c" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref></type>
        <definition>hpm_stat_t wm8978_get_out_volume</definition>
        <argsstring>(wm8978_context_t *control, wm8978_out_channel_t channel, uint8_t *volume)</argsstring>
        <name>wm8978_get_out_volume</name>
        <param>
          <type><ref refid="structwm8978__context__t" kindref="compound">wm8978_context_t</ref> *</type>
          <declname>control</declname>
        </param>
        <param>
          <type><ref refid="hpm__wm8978_8h_1abbacf4a48ba752027fe16d75b472b8e1" kindref="member">wm8978_out_channel_t</ref></type>
          <declname>channel</declname>
        </param>
        <param>
          <type>uint8_t *</type>
          <declname>volume</declname>
        </param>
        <briefdescription>
<para>WM8979 read out volume function. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">control</parametername>
</parameternamelist>
<parameterdescription>
<para>WM8979 control structure. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">channel</parametername>
</parameternamelist>
<parameterdescription>
<para>out channel </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="out">volume</parametername>
</parameternamelist>
<parameterdescription>
<para>volume points value </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<parameterlist kind="retval"><parameteritem>
<parameternamelist>
<parametername><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref></parametername>
</parameternamelist>
<parameterdescription>
<para>status_success if set without any error </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="components/codec/wm8978/hpm_wm8978.c" line="73" column="12" bodyfile="components/codec/wm8978/hpm_wm8978.c" bodystart="73" bodyend="88"/>
      </memberdef>
      <memberdef kind="function" id="hpm__wm8978_8c_1a06f9a4f930260650ef2541a0035f4b0e" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref></type>
        <definition>hpm_stat_t wm8978_set_out_mute</definition>
        <argsstring>(wm8978_context_t *control, wm8978_out_channel_t channel, bool mute)</argsstring>
        <name>wm8978_set_out_mute</name>
        <param>
          <type><ref refid="structwm8978__context__t" kindref="compound">wm8978_context_t</ref> *</type>
          <declname>control</declname>
        </param>
        <param>
          <type><ref refid="hpm__wm8978_8h_1abbacf4a48ba752027fe16d75b472b8e1" kindref="member">wm8978_out_channel_t</ref></type>
          <declname>channel</declname>
        </param>
        <param>
          <type>bool</type>
          <declname>mute</declname>
        </param>
        <briefdescription>
<para>WM8979 set out mute. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">control</parametername>
</parameternamelist>
<parameterdescription>
<para>WM8979 control structure. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">channel</parametername>
</parameternamelist>
<parameterdescription>
<para>out channel </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">mute</parametername>
</parameternamelist>
<parameterdescription>
<para>if mute is set to true </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<parameterlist kind="retval"><parameteritem>
<parameternamelist>
<parametername><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref></parametername>
</parameternamelist>
<parameterdescription>
<para>status_success if set without any error </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="components/codec/wm8978/hpm_wm8978.c" line="90" column="12" bodyfile="components/codec/wm8978/hpm_wm8978.c" bodystart="90" bodyend="121"/>
      </memberdef>
      <memberdef kind="function" id="hpm__wm8978_8c_1accceb19bc6b097365f240a48f0f9f40b" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref></type>
        <definition>hpm_stat_t wm8978_set_mic_gain</definition>
        <argsstring>(wm8978_context_t *control, uint8_t gain)</argsstring>
        <name>wm8978_set_mic_gain</name>
        <param>
          <type><ref refid="structwm8978__context__t" kindref="compound">wm8978_context_t</ref> *</type>
          <declname>control</declname>
        </param>
        <param>
          <type>uint8_t</type>
          <declname>gain</declname>
        </param>
        <briefdescription>
<para>WM8979 set gain of mic. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">control</parametername>
</parameternamelist>
<parameterdescription>
<para>WM8979 control structure. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">gain</parametername>
</parameternamelist>
<parameterdescription>
<para>gain value, range: 0 ~ 63 </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<parameterlist kind="retval"><parameteritem>
<parameternamelist>
<parametername><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref></parametername>
</parameternamelist>
<parameterdescription>
<para>status_success if set without any error </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="components/codec/wm8978/hpm_wm8978.c" line="123" column="12" bodyfile="components/codec/wm8978/hpm_wm8978.c" bodystart="123" bodyend="132"/>
      </memberdef>
      <memberdef kind="function" id="hpm__wm8978_8c_1a77852b3f3547a5c3b1f0b2e1d7b57877" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref></type>
        <definition>hpm_stat_t wm8978_set_line_gain</definition>
        <argsstring>(wm8978_context_t *control, uint8_t gain)</argsstring>
        <name>wm8978_set_line_gain</name>
        <param>
          <type><ref refid="structwm8978__context__t" kindref="compound">wm8978_context_t</ref> *</type>
          <declname>control</declname>
        </param>
        <param>
          <type>uint8_t</type>
          <declname>gain</declname>
        </param>
        <briefdescription>
<para>WM8979 set the gain of the Line input channel. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">control</parametername>
</parameternamelist>
<parameterdescription>
<para>WM8979 control structure. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">gain</parametername>
</parameternamelist>
<parameterdescription>
<para>volume value, range: 0 ~ 7 </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<parameterlist kind="retval"><parameteritem>
<parameternamelist>
<parametername><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref></parametername>
</parameternamelist>
<parameterdescription>
<para>status_success if set without any error </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="components/codec/wm8978/hpm_wm8978.c" line="134" column="12" bodyfile="components/codec/wm8978/hpm_wm8978.c" bodystart="134" bodyend="151"/>
      </memberdef>
      <memberdef kind="function" id="hpm__wm8978_8c_1a66e29ca2885dbafc6889a631e1e2693c" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref></type>
        <definition>hpm_stat_t wm8978_power_down</definition>
        <argsstring>(wm8978_context_t *control)</argsstring>
        <name>wm8978_power_down</name>
        <param>
          <type><ref refid="structwm8978__context__t" kindref="compound">wm8978_context_t</ref> *</type>
          <declname>control</declname>
        </param>
        <briefdescription>
<para>WM8979 enter power down mode. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">control</parametername>
</parameternamelist>
<parameterdescription>
<para>WM8979 control structure. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<parameterlist kind="retval"><parameteritem>
<parameternamelist>
<parametername><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref></parametername>
</parameternamelist>
<parameterdescription>
<para>status_success if set without any error </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="components/codec/wm8978/hpm_wm8978.c" line="153" column="12" bodyfile="components/codec/wm8978/hpm_wm8978.c" bodystart="153" bodyend="156"/>
      </memberdef>
      <memberdef kind="function" id="hpm__wm8978_8c_1a2ceaa356b0ad5868498731e8701cd0f5" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref></type>
        <definition>hpm_stat_t wm8978_cfg_audio_interface</definition>
        <argsstring>(wm8978_context_t *control, wm8978_audio_interface_t standard, wm8978_word_length_t word_len)</argsstring>
        <name>wm8978_cfg_audio_interface</name>
        <param>
          <type><ref refid="structwm8978__context__t" kindref="compound">wm8978_context_t</ref> *</type>
          <declname>control</declname>
        </param>
        <param>
          <type><ref refid="hpm__wm8978_8h_1a699792396dd0f9a2e564da45453975d1" kindref="member">wm8978_audio_interface_t</ref></type>
          <declname>standard</declname>
        </param>
        <param>
          <type><ref refid="hpm__wm8978_8h_1a91718b8a1271a21e13bd771ce29551a4" kindref="member">wm8978_word_length_t</ref></type>
          <declname>word_len</declname>
        </param>
        <briefdescription>
<para>Configuring the audio interface of WM8978. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">control</parametername>
</parameternamelist>
<parameterdescription>
<para>WM8979 control structure. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">standard</parametername>
</parameternamelist>
<parameterdescription>
<para><ref refid="hpm__wm8978_8h_1a699792396dd0f9a2e564da45453975d1" kindref="member">wm8978_audio_interface_t</ref> structure </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">word_len</parametername>
</parameternamelist>
<parameterdescription>
<para><ref refid="hpm__wm8978_8h_1a91718b8a1271a21e13bd771ce29551a4" kindref="member">wm8978_word_length_t</ref> structure </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<parameterlist kind="retval"><parameteritem>
<parameternamelist>
<parametername><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref></parametername>
</parameternamelist>
<parameterdescription>
<para>status_success if set without any error </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="components/codec/wm8978/hpm_wm8978.c" line="158" column="12" bodyfile="components/codec/wm8978/hpm_wm8978.c" bodystart="158" bodyend="166"/>
      </memberdef>
      <memberdef kind="function" id="hpm__wm8978_8c_1af2749912f534798d2e2100b8c6496348" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref></type>
        <definition>hpm_stat_t wm8978_cfg_audio_channel</definition>
        <argsstring>(wm8978_context_t *control, uint8_t in_flags, uint8_t out_flags)</argsstring>
        <name>wm8978_cfg_audio_channel</name>
        <param>
          <type><ref refid="structwm8978__context__t" kindref="compound">wm8978_context_t</ref> *</type>
          <declname>control</declname>
        </param>
        <param>
          <type>uint8_t</type>
          <declname>in_flags</declname>
        </param>
        <param>
          <type>uint8_t</type>
          <declname>out_flags</declname>
        </param>
        <briefdescription>
<para>Configure wm8978 audio channel. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">control</parametername>
</parameternamelist>
<parameterdescription>
<para>WM8979 control structure. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">in_flags</parametername>
</parameternamelist>
<parameterdescription>
<para>Flags for the input channel </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">out_flags</parametername>
</parameternamelist>
<parameterdescription>
<para>Flags for the output channel </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<parameterlist kind="retval"><parameteritem>
<parameternamelist>
<parametername><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref></parametername>
</parameternamelist>
<parameterdescription>
<para>status_success if set without any error </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="components/codec/wm8978/hpm_wm8978.c" line="168" column="12" bodyfile="components/codec/wm8978/hpm_wm8978.c" bodystart="168" bodyend="336"/>
      </memberdef>
      <memberdef kind="function" id="hpm__wm8978_8c_1ab24566b20daf7b6d453e30f233ff2574" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref></type>
        <definition>hpm_stat_t wm8978_notch_filter</definition>
        <argsstring>(wm8978_context_t *control, uint16_t nfa0, uint16_t nfa1)</argsstring>
        <name>wm8978_notch_filter</name>
        <param>
          <type><ref refid="structwm8978__context__t" kindref="compound">wm8978_context_t</ref> *</type>
          <declname>control</declname>
        </param>
        <param>
          <type>uint16_t</type>
          <declname>nfa0</declname>
        </param>
        <param>
          <type>uint16_t</type>
          <declname>nfa1</declname>
        </param>
        <briefdescription>
<para>setting the Notch Filter for WM8978 </para>
        </briefdescription>
        <detaileddescription>
<para><simplesect kind="note"><para>used to suppress positive feedback of microphone sound waves to avoid howling </para>
</simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">control</parametername>
</parameternamelist>
<parameterdescription>
<para>WM8979 control structure. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">nfa0</parametername>
</parameternamelist>
<parameterdescription>
<para>Notch Filter0 value </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">nfa1</parametername>
</parameternamelist>
<parameterdescription>
<para>Notch Filter1 value </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<parameterlist kind="retval"><parameteritem>
<parameternamelist>
<parametername><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref></parametername>
</parameternamelist>
<parameterdescription>
<para>status_success if set without any error </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="components/codec/wm8978/hpm_wm8978.c" line="338" column="12" bodyfile="components/codec/wm8978/hpm_wm8978.c" bodystart="338" bodyend="354"/>
      </memberdef>
      <memberdef kind="function" id="hpm__wm8978_8c_1a6b1086da44ad5ae66043972b3e57ec10" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref></type>
        <definition>hpm_stat_t wm8978_ctrl_gpio1</definition>
        <argsstring>(wm8978_context_t *control, bool value)</argsstring>
        <name>wm8978_ctrl_gpio1</name>
        <param>
          <type><ref refid="structwm8978__context__t" kindref="compound">wm8978_context_t</ref> *</type>
          <declname>control</declname>
        </param>
        <param>
          <type>bool</type>
          <declname>value</declname>
        </param>
        <briefdescription>
<para>Control the GPIO1 pin of WM8978 to output high or low. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">control</parametername>
</parameternamelist>
<parameterdescription>
<para>WM8979 control structure. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">value</parametername>
</parameternamelist>
<parameterdescription>
<para>output high or low. if true, it&apos;s high </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<parameterlist kind="retval"><parameteritem>
<parameternamelist>
<parametername><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref></parametername>
</parameternamelist>
<parameterdescription>
<para>status_success if set without any error </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="components/codec/wm8978/hpm_wm8978.c" line="356" column="12" bodyfile="components/codec/wm8978/hpm_wm8978.c" bodystart="356" bodyend="367"/>
      </memberdef>
      <memberdef kind="function" id="hpm__wm8978_8c_1a5f017b3a0395ce208f789d353cb57fb2" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref></type>
        <definition>hpm_stat_t wm8978_write_reg</definition>
        <argsstring>(wm8978_context_t *control, uint8_t reg, uint16_t val)</argsstring>
        <name>wm8978_write_reg</name>
        <param>
          <type><ref refid="structwm8978__context__t" kindref="compound">wm8978_context_t</ref> *</type>
          <declname>control</declname>
        </param>
        <param>
          <type>uint8_t</type>
          <declname>reg</declname>
        </param>
        <param>
          <type>uint16_t</type>
          <declname>val</declname>
        </param>
        <briefdescription>
<para>Write register to WM8978 using I2C. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">control</parametername>
</parameternamelist>
<parameterdescription>
<para>WM8978 control structure. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">reg</parametername>
</parameternamelist>
<parameterdescription>
<para>The register address in WM8978. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">val</parametername>
</parameternamelist>
<parameterdescription>
<para>Value needs to write into the register. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<parameterlist kind="retval"><parameteritem>
<parameternamelist>
<parametername><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref></parametername>
</parameternamelist>
<parameterdescription>
<para>status_success if write reg without any error </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="components/codec/wm8978/hpm_wm8978.c" line="369" column="12" bodyfile="components/codec/wm8978/hpm_wm8978.c" bodystart="369" bodyend="380"/>
      </memberdef>
      <memberdef kind="function" id="hpm__wm8978_8c_1acd3b28acabcb9a486ca58d0fa819d1fa" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref></type>
        <definition>hpm_stat_t wm8978_read_reg</definition>
        <argsstring>(wm8978_context_t *control, uint8_t reg, uint16_t *val)</argsstring>
        <name>wm8978_read_reg</name>
        <param>
          <type><ref refid="structwm8978__context__t" kindref="compound">wm8978_context_t</ref> *</type>
          <declname>control</declname>
        </param>
        <param>
          <type>uint8_t</type>
          <declname>reg</declname>
        </param>
        <param>
          <type>uint16_t *</type>
          <declname>val</declname>
        </param>
        <briefdescription>
<para>Read register from WM8978 using I2C. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">reg</parametername>
</parameternamelist>
<parameterdescription>
<para>The register address in WM8978. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">reg</parametername>
</parameternamelist>
<parameterdescription>
<para>The register address in WM8978. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="out">val</parametername>
</parameternamelist>
<parameterdescription>
<para>Value point read to. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<parameterlist kind="retval"><parameteritem>
<parameternamelist>
<parametername><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref></parametername>
</parameternamelist>
<parameterdescription>
<para>status_success if read reg without any error </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="components/codec/wm8978/hpm_wm8978.c" line="382" column="12" bodyfile="components/codec/wm8978/hpm_wm8978.c" bodystart="382" bodyend="387"/>
      </memberdef>
      <memberdef kind="function" id="hpm__wm8978_8c_1a5b0db900075eccd77354a2738cd2728f" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref></type>
        <definition>hpm_stat_t wm8978_modify_reg</definition>
        <argsstring>(wm8978_context_t *control, uint8_t reg, uint16_t mask, uint16_t val)</argsstring>
        <name>wm8978_modify_reg</name>
        <param>
          <type><ref refid="structwm8978__context__t" kindref="compound">wm8978_context_t</ref> *</type>
          <declname>control</declname>
        </param>
        <param>
          <type>uint8_t</type>
          <declname>reg</declname>
        </param>
        <param>
          <type>uint16_t</type>
          <declname>mask</declname>
        </param>
        <param>
          <type>uint16_t</type>
          <declname>val</declname>
        </param>
        <briefdescription>
<para>Modify some bits in the register using I2C. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">control</parametername>
</parameternamelist>
<parameterdescription>
<para>WM8978 control structure. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">reg</parametername>
</parameternamelist>
<parameterdescription>
<para>The register address in WM8978. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">mask</parametername>
</parameternamelist>
<parameterdescription>
<para>The mask code for the bits want to write. The bit you want to write should be 0. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">val</parametername>
</parameternamelist>
<parameterdescription>
<para>Value needs to write into the register. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<parameterlist kind="retval"><parameteritem>
<parameternamelist>
<parametername><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref></parametername>
</parameternamelist>
<parameterdescription>
<para>status_success if modify reg without any error </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="components/codec/wm8978/hpm_wm8978.c" line="389" column="12" bodyfile="components/codec/wm8978/hpm_wm8978.c" bodystart="389" bodyend="404"/>
      </memberdef>
    </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">/*</highlight></codeline>
<codeline lineno="2"><highlight class="comment"><sp/>*<sp/>Copyright<sp/>(c)<sp/>2024<sp/>HPMicro</highlight></codeline>
<codeline lineno="3"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="4"><highlight class="comment"><sp/>*<sp/>SPDX-License-Identifier:<sp/>BSD-3-Clause</highlight></codeline>
<codeline lineno="5"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="6"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="hpm__wm8978_8h" kindref="compound">hpm_wm8978.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>WM8978_I2C_SLAVE_ADDRESS1<sp/><sp/>(0x1A)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>WM8978_I2C_SLAVE_ADDRESS2<sp/><sp/>(0x1A)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>store<sp/>reg<sp/>value<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">volatile</highlight><highlight class="normal"><sp/>uint16_t<sp/><ref refid="hpm__wm8978_8c_1a47bbe8c1dd9547aa93bd636816f0a8a6" kindref="member">wm8978_reg_val</ref>[]<sp/>=<sp/>{</highlight></codeline>
<codeline lineno="14"><highlight class="normal"><sp/><sp/><sp/><sp/>0x000,<sp/>0x000,<sp/>0x000,<sp/>0x000,<sp/>0x050,<sp/>0x000,<sp/>0x140,<sp/>0x000,</highlight></codeline>
<codeline lineno="15"><highlight class="normal"><sp/><sp/><sp/><sp/>0x000,<sp/>0x000,<sp/>0x000,<sp/>0x0FF,<sp/>0x0FF,<sp/>0x000,<sp/>0x100,<sp/>0x0FF,</highlight></codeline>
<codeline lineno="16"><highlight class="normal"><sp/><sp/><sp/><sp/>0x0FF,<sp/>0x000,<sp/>0x12C,<sp/>0x02C,<sp/>0x02C,<sp/>0x02C,<sp/>0x02C,<sp/>0x000,</highlight></codeline>
<codeline lineno="17"><highlight class="normal"><sp/><sp/><sp/><sp/>0x032,<sp/>0x000,<sp/>0x000,<sp/>0x000,<sp/>0x000,<sp/>0x000,<sp/>0x000,<sp/>0x000,</highlight></codeline>
<codeline lineno="18"><highlight class="normal"><sp/><sp/><sp/><sp/>0x038,<sp/>0x00B,<sp/>0x032,<sp/>0x000,<sp/>0x008,<sp/>0x00C,<sp/>0x093,<sp/>0x0E9,</highlight></codeline>
<codeline lineno="19"><highlight class="normal"><sp/><sp/><sp/><sp/>0x000,<sp/>0x000,<sp/>0x000,<sp/>0x000,<sp/>0x003,<sp/>0x010,<sp/>0x010,<sp/>0x100,</highlight></codeline>
<codeline lineno="20"><highlight class="normal"><sp/><sp/><sp/><sp/>0x100,<sp/>0x002,<sp/>0x001,<sp/>0x001,<sp/>0x039,<sp/>0x039,<sp/>0x039,<sp/>0x039,</highlight></codeline>
<codeline lineno="21"><highlight class="normal">};</highlight></codeline>
<codeline lineno="22"><highlight class="normal">;</highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight></codeline>
<codeline lineno="24"><highlight class="normal"><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref><sp/><ref refid="hpm__wm8978_8c_1a61a4f8caa332fd434661e49375d27f05" kindref="member">wm8979_init</ref>(<ref refid="structwm8978__context__t" kindref="compound">wm8978_context_t</ref><sp/>*control)</highlight></codeline>
<codeline lineno="25"><highlight class="normal">{</highlight></codeline>
<codeline lineno="26"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref><sp/>stat;</highlight></codeline>
<codeline lineno="27"><highlight class="normal"><sp/><sp/><sp/><sp/>uint8_t<sp/>i;</highlight></codeline>
<codeline lineno="28"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>0x7F;<sp/>i++)<sp/>{</highlight></codeline>
<codeline lineno="29"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="group__i2c__interface_1ga14e1065a0ea6722b9aa9f22667adf33c" kindref="member">i2c_master_write</ref>(control-&gt;<ref refid="structwm8978__context__t_1a634ea2f9ae7cffa5a20cfdff981e364b" kindref="member">ptr</ref>,<sp/>i,<sp/>NULL,<sp/>0)<sp/>==<sp/><ref refid="group__common__interface_1gga57008dafb69438605b6d0039d9ed7a8fa99d8737a9b635c0c9d87d7ac65801ce7" kindref="member">status_success</ref>)<sp/>{</highlight></codeline>
<codeline lineno="30"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((i<sp/>==<sp/><ref refid="hpm__wm8978_8c_1ab7db7be2967b231f141cd6dbe91f573d" kindref="member">WM8978_I2C_SLAVE_ADDRESS1</ref>)<sp/>||<sp/>(i<sp/>==<sp/><ref refid="hpm__wm8978_8c_1a9d1ad487a8d36eaec2a37cff902f27ea" kindref="member">WM8978_I2C_SLAVE_ADDRESS2</ref>))<sp/>{</highlight></codeline>
<codeline lineno="31"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>control-&gt;<ref refid="structwm8978__context__t_1a6991b30e674040f15fcb92055ebf1318" kindref="member">device_address</ref><sp/>=<sp/>i;</highlight></codeline>
<codeline lineno="32"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="33"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="34"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="35"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="36"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(i<sp/>==<sp/>0x7F)<sp/>{</highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group__common__interface_1gga57008dafb69438605b6d0039d9ed7a8fab3c0359cb713a70f593f2e46ab12bb39" kindref="member">status_fail</ref>;</highlight></codeline>
<codeline lineno="38"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="39"><highlight class="normal"><sp/><sp/><sp/><sp/>stat<sp/>=<sp/><ref refid="hpm__wm8978_8c_1a4ed260479c0eb3ff748d77970efec11d" kindref="member">wm8978_reset</ref>(control);</highlight></codeline>
<codeline lineno="40"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>stat;</highlight></codeline>
<codeline lineno="41"><highlight class="normal">}</highlight></codeline>
<codeline lineno="42"><highlight class="normal"></highlight></codeline>
<codeline lineno="43"><highlight class="normal"><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref><sp/><ref refid="hpm__wm8978_8c_1a4ed260479c0eb3ff748d77970efec11d" kindref="member">wm8978_reset</ref>(<ref refid="structwm8978__context__t" kindref="compound">wm8978_context_t</ref><sp/>*control)</highlight></codeline>
<codeline lineno="44"><highlight class="normal">{</highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref><sp/>stat<sp/>=<sp/><ref refid="group__common__interface_1gga57008dafb69438605b6d0039d9ed7a8fa99d8737a9b635c0c9d87d7ac65801ce7" kindref="member">status_success</ref>;</highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1gae5a4c4e106257107efe0a26851a72491" kindref="member">HPM_CHECK_RET</ref>(<ref refid="hpm__wm8978_8c_1a5f017b3a0395ce208f789d353cb57fb2" kindref="member">wm8978_write_reg</ref>(control,<sp/><ref refid="hpm__wm8978__regs_8h_1a60f709088178f38ec9aed9dcff26aa35" kindref="member">WM8978_RESET</ref>,<sp/>0));</highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>stat;</highlight></codeline>
<codeline lineno="48"><highlight class="normal">}</highlight></codeline>
<codeline lineno="49"><highlight class="normal"></highlight></codeline>
<codeline lineno="50"><highlight class="normal"><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref><sp/><ref refid="hpm__wm8978_8c_1a7b02376586f3e44ea965e67c67d28531" kindref="member">wm8978_set_out_volume</ref>(<ref refid="structwm8978__context__t" kindref="compound">wm8978_context_t</ref><sp/>*control,<sp/><ref refid="hpm__wm8978_8h_1abbacf4a48ba752027fe16d75b472b8e1" kindref="member">wm8978_out_channel_t</ref><sp/>channel,<sp/>uint8_t<sp/>volume)</highlight></codeline>
<codeline lineno="51"><highlight class="normal">{</highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref><sp/>stat<sp/>=<sp/><ref refid="group__common__interface_1gga57008dafb69438605b6d0039d9ed7a8fa99d8737a9b635c0c9d87d7ac65801ce7" kindref="member">status_success</ref>;</highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/><sp/><sp/>uint8_t<sp/>l_out_reg;</highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/>uint8_t<sp/>r_out_reg;</highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(volume<sp/>&gt;<sp/><ref refid="hpm__wm8978__regs_8h_1a74edbbbd418834f06b47ac8c62b2f068" kindref="member">WM8978_OUT_VOLUME_MASK</ref>)<sp/>{</highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>volume<sp/>=<sp/><ref refid="hpm__wm8978__regs_8h_1a74edbbbd418834f06b47ac8c62b2f068" kindref="member">WM8978_OUT_VOLUME_MASK</ref>;</highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(channel<sp/>==<sp/><ref refid="hpm__wm8978_8h_1aaf4b9fe40b84dd86838df9e9924c1d49a383c4c19abed8caa9a7edb54d076fcfe" kindref="member">wm8978_out1_channel</ref>)<sp/>{</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>l_out_reg<sp/>=<sp/><ref refid="hpm__wm8978__regs_8h_1a391548234fe5fa654f3354a4da35b326" kindref="member">WM8978_LOUT1_VOLUME_CTRL</ref>;</highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r_out_reg<sp/>=<sp/><ref refid="hpm__wm8978__regs_8h_1acfd45b7ae8cff40352ab0d1c6e7702b2" kindref="member">WM8978_ROUT1_VOLUME_CTRL</ref>;</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(channel<sp/>==<sp/><ref refid="hpm__wm8978_8h_1aaf4b9fe40b84dd86838df9e9924c1d49a63543bb8f96f63863495d98ee91a9c0e" kindref="member">wm8978_out2_channel</ref>)<sp/>{</highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>l_out_reg<sp/>=<sp/><ref refid="hpm__wm8978__regs_8h_1ad51c6070742f164d765e54005b366feb" kindref="member">WM8978_LOUT2_VOLUME_CTRL</ref>;</highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r_out_reg<sp/>=<sp/><ref refid="hpm__wm8978__regs_8h_1ae64b1ded2ad185a6adcad08dc8379775" kindref="member">WM8978_ROUT2_VOLUME_CTRL</ref>;</highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group__common__interface_1gga57008dafb69438605b6d0039d9ed7a8fa380c9b8304ad8399f1be634d6f5c4701" kindref="member">status_invalid_argument</ref>;</highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1gae5a4c4e106257107efe0a26851a72491" kindref="member">HPM_CHECK_RET</ref>(<ref refid="hpm__wm8978_8c_1a5f017b3a0395ce208f789d353cb57fb2" kindref="member">wm8978_write_reg</ref>(control,<sp/>l_out_reg,<sp/><ref refid="hpm__wm8978__regs_8h_1ac29e785b7030b6566ebbe831a945b6d4" kindref="member">WM8978_OUT_VOLUME_SET</ref>(volume)<sp/>|<sp/><ref refid="hpm__wm8978__regs_8h_1ae80a2231fa515f87638f00e06b7663ea" kindref="member">WM8978_OUT_SPKVU_SET</ref>(0)));</highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>LOUT1/2<sp/>and<sp/>ROUT1/2<sp/>volumes<sp/>do<sp/>not<sp/>update<sp/>untila<sp/>1<sp/>is<sp/>written<sp/>to<sp/>SPKkVU<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1gae5a4c4e106257107efe0a26851a72491" kindref="member">HPM_CHECK_RET</ref>(<ref refid="hpm__wm8978_8c_1a5f017b3a0395ce208f789d353cb57fb2" kindref="member">wm8978_write_reg</ref>(control,<sp/>r_out_reg,<sp/><ref refid="hpm__wm8978__regs_8h_1ac29e785b7030b6566ebbe831a945b6d4" kindref="member">WM8978_OUT_VOLUME_SET</ref>(volume)<sp/>|<sp/><ref refid="hpm__wm8978__regs_8h_1ae80a2231fa515f87638f00e06b7663ea" kindref="member">WM8978_OUT_SPKVU_SET</ref>(1)));</highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>stat;</highlight></codeline>
<codeline lineno="71"><highlight class="normal">}</highlight></codeline>
<codeline lineno="72"><highlight class="normal"></highlight></codeline>
<codeline lineno="73"><highlight class="normal"><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref><sp/><ref refid="hpm__wm8978_8c_1a2e4b41266e59dbd824f16ab205b78f0c" kindref="member">wm8978_get_out_volume</ref>(<ref refid="structwm8978__context__t" kindref="compound">wm8978_context_t</ref><sp/>*control,<sp/><ref refid="hpm__wm8978_8h_1abbacf4a48ba752027fe16d75b472b8e1" kindref="member">wm8978_out_channel_t</ref><sp/>channel,<sp/>uint8_t<sp/>*volume)</highlight></codeline>
<codeline lineno="74"><highlight class="normal">{</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref><sp/>stat<sp/>=<sp/><ref refid="group__common__interface_1gga57008dafb69438605b6d0039d9ed7a8fa99d8737a9b635c0c9d87d7ac65801ce7" kindref="member">status_success</ref>;</highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/><sp/>uint8_t<sp/>out_reg;</highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/>uint16_t<sp/>val;</highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(channel<sp/>==<sp/><ref refid="hpm__wm8978_8h_1aaf4b9fe40b84dd86838df9e9924c1d49a383c4c19abed8caa9a7edb54d076fcfe" kindref="member">wm8978_out1_channel</ref>)<sp/>{</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>out_reg<sp/>=<sp/><ref refid="hpm__wm8978__regs_8h_1a391548234fe5fa654f3354a4da35b326" kindref="member">WM8978_LOUT1_VOLUME_CTRL</ref>;</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(channel<sp/>==<sp/><ref refid="hpm__wm8978_8h_1aaf4b9fe40b84dd86838df9e9924c1d49a63543bb8f96f63863495d98ee91a9c0e" kindref="member">wm8978_out2_channel</ref>)<sp/>{</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>out_reg<sp/>=<sp/><ref refid="hpm__wm8978__regs_8h_1ad51c6070742f164d765e54005b366feb" kindref="member">WM8978_LOUT2_VOLUME_CTRL</ref>;</highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group__common__interface_1gga57008dafb69438605b6d0039d9ed7a8fa380c9b8304ad8399f1be634d6f5c4701" kindref="member">status_invalid_argument</ref>;</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1gae5a4c4e106257107efe0a26851a72491" kindref="member">HPM_CHECK_RET</ref>(<ref refid="hpm__wm8978_8c_1acd3b28acabcb9a486ca58d0fa819d1fa" kindref="member">wm8978_read_reg</ref>(control,<sp/>out_reg,<sp/>&amp;val));</highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/>*volume<sp/>=<sp/><ref refid="hpm__wm8978__regs_8h_1a22164624246078514c9d462596c26f14" kindref="member">WM8978_OUT_VOLUME_GET</ref>(val);</highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>stat;</highlight></codeline>
<codeline lineno="88"><highlight class="normal">}</highlight></codeline>
<codeline lineno="89"><highlight class="normal"></highlight></codeline>
<codeline lineno="90"><highlight class="normal"><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref><sp/><ref refid="hpm__wm8978_8c_1a06f9a4f930260650ef2541a0035f4b0e" kindref="member">wm8978_set_out_mute</ref>(<ref refid="structwm8978__context__t" kindref="compound">wm8978_context_t</ref><sp/>*control,<sp/><ref refid="hpm__wm8978_8h_1abbacf4a48ba752027fe16d75b472b8e1" kindref="member">wm8978_out_channel_t</ref><sp/>channel,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>mute)</highlight></codeline>
<codeline lineno="91"><highlight class="normal">{</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref><sp/>stat<sp/>=<sp/><ref refid="group__common__interface_1gga57008dafb69438605b6d0039d9ed7a8fa99d8737a9b635c0c9d87d7ac65801ce7" kindref="member">status_success</ref>;</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/>uint16_t<sp/>val;</highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/>uint8_t<sp/>l_out_reg;</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/>uint8_t<sp/>r_out_reg;</highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(channel<sp/>==<sp/><ref refid="hpm__wm8978_8h_1aaf4b9fe40b84dd86838df9e9924c1d49a383c4c19abed8caa9a7edb54d076fcfe" kindref="member">wm8978_out1_channel</ref>)<sp/>{</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>l_out_reg<sp/>=<sp/><ref refid="hpm__wm8978__regs_8h_1a391548234fe5fa654f3354a4da35b326" kindref="member">WM8978_LOUT1_VOLUME_CTRL</ref>;</highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r_out_reg<sp/>=<sp/><ref refid="hpm__wm8978__regs_8h_1acfd45b7ae8cff40352ab0d1c6e7702b2" kindref="member">WM8978_ROUT1_VOLUME_CTRL</ref>;</highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(channel<sp/>==<sp/><ref refid="hpm__wm8978_8h_1aaf4b9fe40b84dd86838df9e9924c1d49a63543bb8f96f63863495d98ee91a9c0e" kindref="member">wm8978_out2_channel</ref>)<sp/>{</highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>l_out_reg<sp/>=<sp/><ref refid="hpm__wm8978__regs_8h_1ad51c6070742f164d765e54005b366feb" kindref="member">WM8978_LOUT2_VOLUME_CTRL</ref>;</highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r_out_reg<sp/>=<sp/><ref refid="hpm__wm8978__regs_8h_1ae64b1ded2ad185a6adcad08dc8379775" kindref="member">WM8978_ROUT2_VOLUME_CTRL</ref>;</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group__common__interface_1gga57008dafb69438605b6d0039d9ed7a8fa380c9b8304ad8399f1be634d6f5c4701" kindref="member">status_invalid_argument</ref>;</highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(mute<sp/>==<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">)<sp/>{</highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1gae5a4c4e106257107efe0a26851a72491" kindref="member">HPM_CHECK_RET</ref>(<ref refid="hpm__wm8978_8c_1acd3b28acabcb9a486ca58d0fa819d1fa" kindref="member">wm8978_read_reg</ref>(control,<sp/>l_out_reg,<sp/>&amp;val));</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>val<sp/>|=<sp/><ref refid="hpm__wm8978__regs_8h_1a8f55650bd43d33a1f1813e1ff0fb54ec" kindref="member">WM8978_OUT_MUTE_MASK</ref>;</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1gae5a4c4e106257107efe0a26851a72491" kindref="member">HPM_CHECK_RET</ref>(<ref refid="hpm__wm8978_8c_1a5f017b3a0395ce208f789d353cb57fb2" kindref="member">wm8978_write_reg</ref>(control,<sp/>l_out_reg,<sp/>val));</highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1gae5a4c4e106257107efe0a26851a72491" kindref="member">HPM_CHECK_RET</ref>(<ref refid="hpm__wm8978_8c_1acd3b28acabcb9a486ca58d0fa819d1fa" kindref="member">wm8978_read_reg</ref>(control,<sp/>r_out_reg,<sp/>&amp;val));</highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>val<sp/>|=<sp/><ref refid="hpm__wm8978__regs_8h_1a8f55650bd43d33a1f1813e1ff0fb54ec" kindref="member">WM8978_OUT_MUTE_MASK</ref>;</highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1gae5a4c4e106257107efe0a26851a72491" kindref="member">HPM_CHECK_RET</ref>(<ref refid="hpm__wm8978_8c_1a5f017b3a0395ce208f789d353cb57fb2" kindref="member">wm8978_write_reg</ref>(control,<sp/>r_out_reg,<sp/>val));</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1gae5a4c4e106257107efe0a26851a72491" kindref="member">HPM_CHECK_RET</ref>(<ref refid="hpm__wm8978_8c_1acd3b28acabcb9a486ca58d0fa819d1fa" kindref="member">wm8978_read_reg</ref>(control,<sp/>l_out_reg,<sp/>&amp;val));</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>val<sp/>&amp;=<sp/><ref refid="hpm__wm8978__regs_8h_1a8f55650bd43d33a1f1813e1ff0fb54ec" kindref="member">~WM8978_OUT_MUTE_MASK</ref>;</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1gae5a4c4e106257107efe0a26851a72491" kindref="member">HPM_CHECK_RET</ref>(<ref refid="hpm__wm8978_8c_1a5f017b3a0395ce208f789d353cb57fb2" kindref="member">wm8978_write_reg</ref>(control,<sp/>l_out_reg,<sp/>val));</highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1gae5a4c4e106257107efe0a26851a72491" kindref="member">HPM_CHECK_RET</ref>(<ref refid="hpm__wm8978_8c_1acd3b28acabcb9a486ca58d0fa819d1fa" kindref="member">wm8978_read_reg</ref>(control,<sp/>r_out_reg,<sp/>&amp;val));</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>val<sp/>&amp;=<sp/><ref refid="hpm__wm8978__regs_8h_1a8f55650bd43d33a1f1813e1ff0fb54ec" kindref="member">~WM8978_OUT_MUTE_MASK</ref>;</highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1gae5a4c4e106257107efe0a26851a72491" kindref="member">HPM_CHECK_RET</ref>(<ref refid="hpm__wm8978_8c_1a5f017b3a0395ce208f789d353cb57fb2" kindref="member">wm8978_write_reg</ref>(control,<sp/>r_out_reg,<sp/>val));</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>stat;</highlight></codeline>
<codeline lineno="121"><highlight class="normal">}</highlight></codeline>
<codeline lineno="122"><highlight class="normal"></highlight></codeline>
<codeline lineno="123"><highlight class="normal"><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref><sp/><ref refid="hpm__wm8978_8c_1accceb19bc6b097365f240a48f0f9f40b" kindref="member">wm8978_set_mic_gain</ref>(<ref refid="structwm8978__context__t" kindref="compound">wm8978_context_t</ref><sp/>*control,<sp/>uint8_t<sp/>gain)</highlight></codeline>
<codeline lineno="124"><highlight class="normal">{</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref><sp/>stat<sp/>=<sp/><ref refid="group__common__interface_1gga57008dafb69438605b6d0039d9ed7a8fa99d8737a9b635c0c9d87d7ac65801ce7" kindref="member">status_success</ref>;</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(gain<sp/>&gt;<sp/><ref refid="hpm__wm8978__regs_8h_1a6423503a6d9bceb96b630a32f5b3614d" kindref="member">WM8978_INPPGA_VOL_MASK</ref>)<sp/>{</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>gain<sp/>=<sp/><ref refid="hpm__wm8978__regs_8h_1a6423503a6d9bceb96b630a32f5b3614d" kindref="member">WM8978_INPPGA_VOL_MASK</ref>;</highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1gae5a4c4e106257107efe0a26851a72491" kindref="member">HPM_CHECK_RET</ref>(<ref refid="hpm__wm8978_8c_1a5f017b3a0395ce208f789d353cb57fb2" kindref="member">wm8978_write_reg</ref>(control,<sp/><ref refid="hpm__wm8978__regs_8h_1a90b43801aa99e881dd0675c40aa6f8a6" kindref="member">WM8978_LINP_PGA_GAIM_CTRL</ref>,<sp/><ref refid="hpm__wm8978__regs_8h_1a93ae671532db95c4c37ac63df6a9cb83" kindref="member">WM8978_INPPGA_VOL_SET</ref>(gain)));</highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1gae5a4c4e106257107efe0a26851a72491" kindref="member">HPM_CHECK_RET</ref>(<ref refid="hpm__wm8978_8c_1a5f017b3a0395ce208f789d353cb57fb2" kindref="member">wm8978_write_reg</ref>(control,<sp/><ref refid="hpm__wm8978__regs_8h_1a90b43801aa99e881dd0675c40aa6f8a6" kindref="member">WM8978_LINP_PGA_GAIM_CTRL</ref>,<sp/><ref refid="hpm__wm8978__regs_8h_1a93ae671532db95c4c37ac63df6a9cb83" kindref="member">WM8978_INPPGA_VOL_SET</ref>(gain)<sp/>|<sp/><ref refid="hpm__wm8978__regs_8h_1aabb191e71107a528b2e916428a8dbc1b" kindref="member">WM8978_INPGA_UPDATE_SET</ref>(1)));</highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>stat;</highlight></codeline>
<codeline lineno="132"><highlight class="normal">}</highlight></codeline>
<codeline lineno="133"><highlight class="normal"></highlight></codeline>
<codeline lineno="134"><highlight class="normal"><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref><sp/><ref refid="hpm__wm8978_8c_1a77852b3f3547a5c3b1f0b2e1d7b57877" kindref="member">wm8978_set_line_gain</ref>(<ref refid="structwm8978__context__t" kindref="compound">wm8978_context_t</ref><sp/>*control,<sp/>uint8_t<sp/>gain)</highlight></codeline>
<codeline lineno="135"><highlight class="normal">{</highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/>uint16_t<sp/>val;</highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref><sp/>stat<sp/>=<sp/><ref refid="group__common__interface_1gga57008dafb69438605b6d0039d9ed7a8fa99d8737a9b635c0c9d87d7ac65801ce7" kindref="member">status_success</ref>;</highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(gain<sp/>&gt;<sp/><ref refid="hpm__wm8978__regs_8h_1aeb36fbc120dd4a75d54cbd15d0cc4fc7" kindref="member">WM8978_AUXL2BOOSTVOL_MASK</ref>)<sp/>{</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>gain<sp/>=<sp/><ref refid="hpm__wm8978__regs_8h_1aeb36fbc120dd4a75d54cbd15d0cc4fc7" kindref="member">WM8978_AUXL2BOOSTVOL_MASK</ref>;</highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1gae5a4c4e106257107efe0a26851a72491" kindref="member">HPM_CHECK_RET</ref>(<ref refid="hpm__wm8978_8c_1acd3b28acabcb9a486ca58d0fa819d1fa" kindref="member">wm8978_read_reg</ref>(control,<sp/><ref refid="hpm__wm8978__regs_8h_1a43444c510cd3002f06cfa4fb0b4ac3ed" kindref="member">WM8978_LADC_BOOST_CTRL</ref>,<sp/>&amp;val));</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/>val<sp/>&amp;=<sp/>(<ref refid="hpm__wm8978__regs_8h_1a65466a3f3aeef0b18e93b78b1c93c916" kindref="member">~WM8978_2_2_BOOSTVOL_MASK</ref>);</highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/>val<sp/>|=<sp/><ref refid="hpm__wm8978__regs_8h_1a5738623a737728f87200c78bfaad8f67" kindref="member">WM8978_2_2_BOOSTVOL_SET</ref>(gain);</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1gae5a4c4e106257107efe0a26851a72491" kindref="member">HPM_CHECK_RET</ref>(<ref refid="hpm__wm8978_8c_1a5f017b3a0395ce208f789d353cb57fb2" kindref="member">wm8978_write_reg</ref>(control,<sp/><ref refid="hpm__wm8978__regs_8h_1a43444c510cd3002f06cfa4fb0b4ac3ed" kindref="member">WM8978_LADC_BOOST_CTRL</ref>,<sp/>val));</highlight></codeline>
<codeline lineno="145"><highlight class="normal"></highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1gae5a4c4e106257107efe0a26851a72491" kindref="member">HPM_CHECK_RET</ref>(<ref refid="hpm__wm8978_8c_1acd3b28acabcb9a486ca58d0fa819d1fa" kindref="member">wm8978_read_reg</ref>(control,<sp/><ref refid="hpm__wm8978__regs_8h_1a5fc29bdd56c9e151244401891a1c0c69" kindref="member">WM8978_RADC_BOOST_CTRL</ref>,<sp/>&amp;val));</highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/>val<sp/>&amp;=<sp/><ref refid="hpm__wm8978__regs_8h_1a65466a3f3aeef0b18e93b78b1c93c916" kindref="member">~WM8978_2_2_BOOSTVOL_MASK</ref>;</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/>val<sp/>|=<sp/><ref refid="hpm__wm8978__regs_8h_1a5738623a737728f87200c78bfaad8f67" kindref="member">WM8978_2_2_BOOSTVOL_SET</ref>(gain);</highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1gae5a4c4e106257107efe0a26851a72491" kindref="member">HPM_CHECK_RET</ref>(<ref refid="hpm__wm8978_8c_1a5f017b3a0395ce208f789d353cb57fb2" kindref="member">wm8978_write_reg</ref>(control,<sp/><ref refid="hpm__wm8978__regs_8h_1a5fc29bdd56c9e151244401891a1c0c69" kindref="member">WM8978_RADC_BOOST_CTRL</ref>,<sp/>val));</highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>stat;</highlight></codeline>
<codeline lineno="151"><highlight class="normal">}</highlight></codeline>
<codeline lineno="152"><highlight class="normal"></highlight></codeline>
<codeline lineno="153"><highlight class="normal"><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref><sp/><ref refid="hpm__wm8978_8c_1a66e29ca2885dbafc6889a631e1e2693c" kindref="member">wm8978_power_down</ref>(<ref refid="structwm8978__context__t" kindref="compound">wm8978_context_t</ref><sp/>*control)</highlight></codeline>
<codeline lineno="154"><highlight class="normal">{</highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="hpm__wm8978_8c_1a4ed260479c0eb3ff748d77970efec11d" kindref="member">wm8978_reset</ref>(control);</highlight></codeline>
<codeline lineno="156"><highlight class="normal">}</highlight></codeline>
<codeline lineno="157"><highlight class="normal"></highlight></codeline>
<codeline lineno="158"><highlight class="normal"><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref><sp/><ref refid="hpm__wm8978_8c_1a2ceaa356b0ad5868498731e8701cd0f5" kindref="member">wm8978_cfg_audio_interface</ref>(<ref refid="structwm8978__context__t" kindref="compound">wm8978_context_t</ref><sp/>*control,<sp/><ref refid="hpm__wm8978_8h_1a699792396dd0f9a2e564da45453975d1" kindref="member">wm8978_audio_interface_t</ref><sp/>standard,<sp/><ref refid="hpm__wm8978_8h_1a91718b8a1271a21e13bd771ce29551a4" kindref="member">wm8978_word_length_t</ref><sp/>word_len)</highlight></codeline>
<codeline lineno="159"><highlight class="normal">{</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref><sp/>stat<sp/>=<sp/><ref refid="group__common__interface_1gga57008dafb69438605b6d0039d9ed7a8fa99d8737a9b635c0c9d87d7ac65801ce7" kindref="member">status_success</ref>;</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/>uint16_t<sp/>usReg<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/>usReg<sp/><sp/>|=<sp/><ref refid="hpm__wm8978__regs_8h_1aae65be6ac308bba49b772831ae873127" kindref="member">WM8978_FMT_SET</ref>(standard)<sp/>|<sp/><ref refid="hpm__wm8978__regs_8h_1a5102daf81e9750384ba0f1934ffcfcb1" kindref="member">WM8978_WL_SET</ref>(word_len);</highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1gae5a4c4e106257107efe0a26851a72491" kindref="member">HPM_CHECK_RET</ref>(<ref refid="hpm__wm8978_8c_1a5f017b3a0395ce208f789d353cb57fb2" kindref="member">wm8978_write_reg</ref>(control,<sp/><ref refid="hpm__wm8978__regs_8h_1afafe01b987251831198c2f74916c705d" kindref="member">WM8978_AUDIO_INTERFACE</ref>,<sp/>usReg));</highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1gae5a4c4e106257107efe0a26851a72491" kindref="member">HPM_CHECK_RET</ref>(<ref refid="hpm__wm8978_8c_1a5f017b3a0395ce208f789d353cb57fb2" kindref="member">wm8978_write_reg</ref>(control,<sp/><ref refid="hpm__wm8978__regs_8h_1a33797492d6620f245ced2325a0dbba7b" kindref="member">WM8978_CLOCK_GEN_CTRL</ref>,<sp/>0x000));</highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>stat;</highlight></codeline>
<codeline lineno="166"><highlight class="normal">}</highlight></codeline>
<codeline lineno="167"><highlight class="normal"></highlight></codeline>
<codeline lineno="168"><highlight class="normal"><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref><sp/><ref refid="hpm__wm8978_8c_1af2749912f534798d2e2100b8c6496348" kindref="member">wm8978_cfg_audio_channel</ref>(<ref refid="structwm8978__context__t" kindref="compound">wm8978_context_t</ref><sp/>*control,<sp/>uint8_t<sp/>in_flags,<sp/>uint8_t<sp/>out_flags)</highlight></codeline>
<codeline lineno="169"><highlight class="normal">{</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/>uint16_t<sp/>reg_val<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref><sp/>stat<sp/>=<sp/><ref refid="group__common__interface_1gga57008dafb69438605b6d0039d9ed7a8fa99d8737a9b635c0c9d87d7ac65801ce7" kindref="member">status_success</ref>;</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((in_flags<sp/>==<sp/><ref refid="hpm__wm8978_8h_1a1403c79e4776ab41ea54ff0364145700a4752a1c95a7d34606539d7c1c88fdccd" kindref="member">input_off</ref>)<sp/>&amp;&amp;<sp/>(out_flags<sp/>==<sp/><ref refid="hpm__wm8978_8h_1a4462c0515cd4fcbbb38db4988c071251a4c538c079934e7ccaa304aa78c324118" kindref="member">output_off</ref>))<sp/>{</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="hpm__wm8978_8c_1a66e29ca2885dbafc6889a631e1e2693c" kindref="member">wm8978_power_down</ref>(control);</highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>stat;</highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="176"><highlight class="normal"></highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/>reg_val<sp/>=<sp/><ref refid="hpm__wm8978__regs_8h_1ab57c4f9a576ebe007188cf3b9330f218" kindref="member">WM8978_BIASEN_R1_MASK</ref><sp/>|<sp/><ref refid="hpm__wm8978__regs_8h_1ad36b126b8d0f1ec51c7396342c8650b5" kindref="member">WM8978_VMIDSEL_R1_SET</ref>(3);</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(out_flags<sp/>&amp;<sp/><ref refid="hpm__wm8978_8h_1a4462c0515cd4fcbbb38db4988c071251a4faf4dca37180ba723de36e4d3c70157" kindref="member">out_3_4_on</ref>)<sp/>{</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reg_val<sp/>|=<sp/>(<ref refid="hpm__wm8978__regs_8h_1aa4f142fd77e362afa782fc120946a53a" kindref="member">WM8978_OUT4MIXEN_R1_MASK</ref><sp/>|<sp/><ref refid="hpm__wm8978__regs_8h_1a4d77ccac4b54d089b698e63f5e42c3af" kindref="member">WM8978_OUT3MIXEN_R1_MASK</ref>);</highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((in_flags<sp/>&amp;<sp/><ref refid="hpm__wm8978_8h_1a1403c79e4776ab41ea54ff0364145700a39ffdc093d911c667e9ea943279ad7b7" kindref="member">mic_left_on</ref>)<sp/>||<sp/>(in_flags<sp/>&amp;<sp/><ref refid="hpm__wm8978_8h_1a1403c79e4776ab41ea54ff0364145700abdb5ef633df2d7fbed42c146cd5f1a15" kindref="member">mic_right_on</ref>))<sp/>{</highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reg_val<sp/>|=<sp/><ref refid="hpm__wm8978__regs_8h_1a6fd8e93e893127a78e2af18e4fde9001" kindref="member">WM8978_MICBEN_R1_MASK</ref>;</highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1gae5a4c4e106257107efe0a26851a72491" kindref="member">HPM_CHECK_RET</ref>(<ref refid="hpm__wm8978_8c_1a5f017b3a0395ce208f789d353cb57fb2" kindref="member">wm8978_write_reg</ref>(control,<sp/><ref refid="hpm__wm8978__regs_8h_1aa7ead88984646e7ce699ff0c036f25c4" kindref="member">WM8978_POWER_MANAGET_1</ref>,<sp/>reg_val));</highlight></codeline>
<codeline lineno="185"><highlight class="normal"></highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/>reg_val<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(out_flags<sp/>&amp;<sp/><ref refid="hpm__wm8978_8h_1a4462c0515cd4fcbbb38db4988c071251a7a37c4d799cc8b92724151c1f20759c6" kindref="member">earphone_left_on</ref>)<sp/>{</highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reg_val<sp/>|=<sp/><ref refid="hpm__wm8978__regs_8h_1a10358cbd2b86d76d1725b9c57c0eb97e" kindref="member">WM8978_LOUT1EN_R2_MASK</ref>;</highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(out_flags<sp/>&amp;<sp/><ref refid="hpm__wm8978_8h_1a4462c0515cd4fcbbb38db4988c071251ac2879dc721d81b161c19dc9211761c44" kindref="member">earphone_right_on</ref>)<sp/>{</highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reg_val<sp/>|=<sp/><ref refid="hpm__wm8978__regs_8h_1af31b9ad5d7700dcc7d4666a4e52401e1" kindref="member">WM8978_ROUT1EN_R2_MASK</ref>;</highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(in_flags<sp/>&amp;<sp/><ref refid="hpm__wm8978_8h_1a1403c79e4776ab41ea54ff0364145700a39ffdc093d911c667e9ea943279ad7b7" kindref="member">mic_left_on</ref>)<sp/>{</highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reg_val<sp/>|=<sp/>(<ref refid="hpm__wm8978__regs_8h_1a343b29652ee669ad9b7ad8da60a1383e" kindref="member">WM8978_BOOSTENL_R2_MASK</ref><sp/>|<sp/><ref refid="hpm__wm8978__regs_8h_1aea580fa35b6268315c399f14b58c72e2" kindref="member">WM8978_INPPGAENL_R2_MASK</ref>);</highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(in_flags<sp/>&amp;<sp/><ref refid="hpm__wm8978_8h_1a1403c79e4776ab41ea54ff0364145700abdb5ef633df2d7fbed42c146cd5f1a15" kindref="member">mic_right_on</ref>)<sp/>{</highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reg_val<sp/>|=<sp/>(<ref refid="hpm__wm8978__regs_8h_1ac410424e161ceb331ba1003b4cd0296a" kindref="member">WM8978_BOOSTENR_R2_MASK</ref><sp/>|<sp/><ref refid="hpm__wm8978__regs_8h_1abed3b5fe29fea3865c7335f6b090b6e8" kindref="member">WM8978_INPPGAENR_R2_MASK</ref>);</highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(in_flags<sp/>&amp;<sp/><ref refid="hpm__wm8978_8h_1a1403c79e4776ab41ea54ff0364145700a73ab25bf71dccbc5506f0cda8bd0c1f5" kindref="member">line_on</ref>)<sp/>{</highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reg_val<sp/>|=<sp/>(<ref refid="hpm__wm8978__regs_8h_1a343b29652ee669ad9b7ad8da60a1383e" kindref="member">WM8978_BOOSTENL_R2_MASK</ref><sp/>|<sp/><ref refid="hpm__wm8978__regs_8h_1ac410424e161ceb331ba1003b4cd0296a" kindref="member">WM8978_BOOSTENR_R2_MASK</ref>);</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(in_flags<sp/>&amp;<sp/><ref refid="hpm__wm8978_8h_1a1403c79e4776ab41ea54ff0364145700af23a9eef2c7c62520c3f0f6aa456a74c" kindref="member">adc_on</ref>)<sp/>{</highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reg_val<sp/>|=<sp/>(<ref refid="hpm__wm8978__regs_8h_1a2b4d80001d1fcfec052a98632e81d201" kindref="member">WM8978_ADCENR_R2_MASK</ref><sp/>|<sp/><ref refid="hpm__wm8978__regs_8h_1a166d3d4635304f97f86d9acdbb01c861" kindref="member">WM8978_ADCENL_R2_MASK</ref>);</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1gae5a4c4e106257107efe0a26851a72491" kindref="member">HPM_CHECK_RET</ref>(<ref refid="hpm__wm8978_8c_1a5f017b3a0395ce208f789d353cb57fb2" kindref="member">wm8978_write_reg</ref>(control,<sp/><ref refid="hpm__wm8978__regs_8h_1ace1fa67474114deeed67717ee9d09761" kindref="member">WM8978_POWER_MANAGET_2</ref>,<sp/>reg_val));</highlight></codeline>
<codeline lineno="206"><highlight class="normal"></highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/>reg_val<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(out_flags<sp/>&amp;<sp/><ref refid="hpm__wm8978_8h_1a4462c0515cd4fcbbb38db4988c071251a4faf4dca37180ba723de36e4d3c70157" kindref="member">out_3_4_on</ref>)<sp/>{</highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reg_val<sp/>|=<sp/>(<ref refid="hpm__wm8978__regs_8h_1a3f27163d9988dbcb1ac2866d79185840" kindref="member">WM8978_OUT4EN_R3_MASK</ref><sp/>|<sp/><ref refid="hpm__wm8978__regs_8h_1aeb0aefac3d0ea7664f79459df0acf6c5" kindref="member">WM8978_OUT3EN_R3_MASK</ref>);</highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(out_flags<sp/>&amp;<sp/><ref refid="hpm__wm8978_8h_1a4462c0515cd4fcbbb38db4988c071251a91b29fc9f4ffd46547a389b9c5f7877d" kindref="member">spk_on</ref>)<sp/>{</highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reg_val<sp/>|=<sp/>(<ref refid="hpm__wm8978__regs_8h_1a3c0035313e26ef082003f8cc8da2fdc7" kindref="member">WM8978_LOUT2EN_R3_MASK</ref><sp/>|<sp/><ref refid="hpm__wm8978__regs_8h_1a021cff2137a461c6e7cde337ccec43d9" kindref="member">WM8978_ROUT2EN_R3_MASK</ref>);</highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(out_flags<sp/>!=<sp/><ref refid="hpm__wm8978_8h_1a4462c0515cd4fcbbb38db4988c071251a4c538c079934e7ccaa304aa78c324118" kindref="member">output_off</ref>)<sp/>{</highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reg_val<sp/>|=<sp/>(<ref refid="hpm__wm8978__regs_8h_1a3e0c6739d5d9ce992ff2e85562d4b05b" kindref="member">WM8978_RMIXEN_R3_MASK</ref><sp/>|<sp/><ref refid="hpm__wm8978__regs_8h_1a78b388c14ded1fbcaff25c5f47bb3edf" kindref="member">WM8978_LMIXEN_R3_MASK</ref>);</highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(in_flags<sp/>&amp;<sp/><ref refid="hpm__wm8978_8h_1a1403c79e4776ab41ea54ff0364145700a84ab9da7d48c8c041c87b1df3c222dbe" kindref="member">dac_on</ref>)<sp/>{</highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reg_val<sp/>|=<sp/>(<ref refid="hpm__wm8978__regs_8h_1a835a93811d526f5c42403f0021415d47" kindref="member">WM8978_DACENR_R3_MASK</ref><sp/>|<sp/><ref refid="hpm__wm8978__regs_8h_1addb1b796f5d7465b7cf31db1c159e71a" kindref="member">WM8978_DACENL_R3_MASK</ref>);</highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1gae5a4c4e106257107efe0a26851a72491" kindref="member">HPM_CHECK_RET</ref>(<ref refid="hpm__wm8978_8c_1a5f017b3a0395ce208f789d353cb57fb2" kindref="member">wm8978_write_reg</ref>(control,<sp/><ref refid="hpm__wm8978__regs_8h_1a060e26e0a522c761a2361f571df02266" kindref="member">WM8978_POWER_MANAGET_3</ref>,<sp/>reg_val));</highlight></codeline>
<codeline lineno="221"><highlight class="normal"></highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/><sp/>reg_val<sp/>=<sp/>0<sp/>&lt;&lt;<sp/>8;</highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(in_flags<sp/>&amp;<sp/><ref refid="hpm__wm8978_8h_1a1403c79e4776ab41ea54ff0364145700a73ab25bf71dccbc5506f0cda8bd0c1f5" kindref="member">line_on</ref>)<sp/>{</highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reg_val<sp/>|=<sp/>(<ref refid="hpm__wm8978__regs_8h_1a8edb2733c0c6ac58c37e833ca3abf8e7" kindref="member">WM8978_R2_2INPPGA_R44_MASK</ref><sp/>|<sp/><ref refid="hpm__wm8978__regs_8h_1a9a9ca3af92b882734138e6cc059ffd2e" kindref="member">WM8978_L2_2INPPGA_R44_MASK</ref>);</highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(in_flags<sp/>&amp;<sp/><ref refid="hpm__wm8978_8h_1a1403c79e4776ab41ea54ff0364145700abdb5ef633df2d7fbed42c146cd5f1a15" kindref="member">mic_right_on</ref>)<sp/>{</highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reg_val<sp/>|=<sp/>(<ref refid="hpm__wm8978__regs_8h_1a13c763c1dab1d43df59b5545015f3a31" kindref="member">WM8978_RIN2INPPGA_R44_MASK</ref><sp/>|<sp/><ref refid="hpm__wm8978__regs_8h_1ad834d4060933b043a5ca9d048856d8b8" kindref="member">WM8978_RIP2INPPGA_R44_MASK</ref>);</highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(in_flags<sp/>&amp;<sp/><ref refid="hpm__wm8978_8h_1a1403c79e4776ab41ea54ff0364145700a39ffdc093d911c667e9ea943279ad7b7" kindref="member">mic_left_on</ref>)<sp/>{</highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reg_val<sp/>|=<sp/>(<ref refid="hpm__wm8978__regs_8h_1a9926bdb91685a78b692d7591ad66b8a1" kindref="member">WM8978_LIN2INPPGA_R44_MASK</ref><sp/>|<sp/><ref refid="hpm__wm8978__regs_8h_1a6e1a3c45a1bb98be3edc8f6db020d0ba" kindref="member">WM8978_LIP2INPPGA_R44_MASK</ref>);</highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1gae5a4c4e106257107efe0a26851a72491" kindref="member">HPM_CHECK_RET</ref>(<ref refid="hpm__wm8978_8c_1a5f017b3a0395ce208f789d353cb57fb2" kindref="member">wm8978_write_reg</ref>(control,<sp/><ref refid="hpm__wm8978__regs_8h_1a9c404fac0c0c35b6a9f0712a6f299718" kindref="member">WM8978_INPUT_CTRL</ref>,<sp/>reg_val));</highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/><sp/>reg_val<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(in_flags<sp/>&amp;<sp/><ref refid="hpm__wm8978_8h_1a1403c79e4776ab41ea54ff0364145700af23a9eef2c7c62520c3f0f6aa456a74c" kindref="member">adc_on</ref>)<sp/>{</highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reg_val<sp/>|=<sp/>(<ref refid="hpm__wm8978__regs_8h_1a828f058fa01f1f3df54cfa9c1aea3b19" kindref="member">WM8978_ADCOSR128_R14_MASK</ref>)<sp/>|<sp/>(0<sp/>&lt;&lt;<sp/>8)<sp/>|<sp/>(4<sp/>&lt;&lt;<sp/>0);</highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reg_val<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1gae5a4c4e106257107efe0a26851a72491" kindref="member">HPM_CHECK_RET</ref>(<ref refid="hpm__wm8978_8c_1a5f017b3a0395ce208f789d353cb57fb2" kindref="member">wm8978_write_reg</ref>(control,<sp/><ref refid="hpm__wm8978__regs_8h_1a16032e79859fcfc87681bfa359d34807" kindref="member">WM8978_ADC_CONTROL</ref>,<sp/>reg_val));</highlight></codeline>
<codeline lineno="240"><highlight class="normal"></highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(in_flags<sp/>&amp;<sp/><ref refid="hpm__wm8978_8h_1a1403c79e4776ab41ea54ff0364145700af23a9eef2c7c62520c3f0f6aa456a74c" kindref="member">adc_on</ref>)<sp/>{</highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reg_val<sp/>=<sp/>(0<sp/>&lt;&lt;<sp/>7);</highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1gae5a4c4e106257107efe0a26851a72491" kindref="member">HPM_CHECK_RET</ref>(<ref refid="hpm__wm8978_8c_1a5f017b3a0395ce208f789d353cb57fb2" kindref="member">wm8978_write_reg</ref>(control,<sp/><ref refid="hpm__wm8978__regs_8h_1afe2e2262bfa9091a2edbba03b204df6b" kindref="member">WM8978_NOTCH_FILTER1</ref>,<sp/>reg_val));</highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reg_val<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1gae5a4c4e106257107efe0a26851a72491" kindref="member">HPM_CHECK_RET</ref>(<ref refid="hpm__wm8978_8c_1a5f017b3a0395ce208f789d353cb57fb2" kindref="member">wm8978_write_reg</ref>(control,<sp/><ref refid="hpm__wm8978__regs_8h_1a03ced0d4f7bb0caf0a6b61664af46ceb" kindref="member">WM8978_NOTCH_FILTER2</ref>,<sp/>reg_val));</highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1gae5a4c4e106257107efe0a26851a72491" kindref="member">HPM_CHECK_RET</ref>(<ref refid="hpm__wm8978_8c_1a5f017b3a0395ce208f789d353cb57fb2" kindref="member">wm8978_write_reg</ref>(control,<sp/><ref refid="hpm__wm8978__regs_8h_1a53606a1327cbac51693bfbc564a5375d" kindref="member">WM8978_NOTCH_FILTER3</ref>,<sp/>reg_val));</highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1gae5a4c4e106257107efe0a26851a72491" kindref="member">HPM_CHECK_RET</ref>(<ref refid="hpm__wm8978_8c_1a5f017b3a0395ce208f789d353cb57fb2" kindref="member">wm8978_write_reg</ref>(control,<sp/><ref refid="hpm__wm8978__regs_8h_1a0a33df0506d63a8d83e37e7672c98486" kindref="member">WM8978_NOTCH_FILTER4</ref>,<sp/>reg_val));</highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/>reg_val<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1gae5a4c4e106257107efe0a26851a72491" kindref="member">HPM_CHECK_RET</ref>(<ref refid="hpm__wm8978_8c_1a5f017b3a0395ce208f789d353cb57fb2" kindref="member">wm8978_write_reg</ref>(control,<sp/><ref refid="hpm__wm8978__regs_8h_1ae5412ce63c19ac1ac6356e03560a8697" kindref="member">WM8978_ALC_CONTROL1</ref>,<sp/>reg_val));</highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1gae5a4c4e106257107efe0a26851a72491" kindref="member">HPM_CHECK_RET</ref>(<ref refid="hpm__wm8978_8c_1a5f017b3a0395ce208f789d353cb57fb2" kindref="member">wm8978_write_reg</ref>(control,<sp/><ref refid="hpm__wm8978__regs_8h_1a5c69f5684aae689ba76f68f3c145c5fc" kindref="member">WM8978_ALC_CONTROL2</ref>,<sp/>reg_val));</highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1gae5a4c4e106257107efe0a26851a72491" kindref="member">HPM_CHECK_RET</ref>(<ref refid="hpm__wm8978_8c_1a5f017b3a0395ce208f789d353cb57fb2" kindref="member">wm8978_write_reg</ref>(control,<sp/><ref refid="hpm__wm8978__regs_8h_1a3c4c590e5404b9170779180a43c014ca" kindref="member">WM8978_ALC_CONTROL3</ref>,<sp/>reg_val));</highlight></codeline>
<codeline lineno="253"><highlight class="normal"></highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Disable<sp/>automatic<sp/>gain<sp/>control<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/>reg_val<sp/>=<sp/>(3<sp/>&lt;&lt;<sp/>1)<sp/>|<sp/>(7<sp/>&lt;&lt;<sp/>0);</highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1gae5a4c4e106257107efe0a26851a72491" kindref="member">HPM_CHECK_RET</ref>(<ref refid="hpm__wm8978_8c_1a5f017b3a0395ce208f789d353cb57fb2" kindref="member">wm8978_write_reg</ref>(control,<sp/><ref refid="hpm__wm8978__regs_8h_1ae5c21190f25d8893ac45454b9e07a212" kindref="member">WM8978_NOISE_GATE</ref>,<sp/>reg_val));</highlight></codeline>
<codeline lineno="257"><highlight class="normal"></highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/>reg_val<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((in_flags<sp/>&amp;<sp/><ref refid="hpm__wm8978_8h_1a1403c79e4776ab41ea54ff0364145700a39ffdc093d911c667e9ea943279ad7b7" kindref="member">mic_left_on</ref>)<sp/>||<sp/>(in_flags<sp/>&amp;<sp/><ref refid="hpm__wm8978_8h_1a1403c79e4776ab41ea54ff0364145700abdb5ef633df2d7fbed42c146cd5f1a15" kindref="member">mic_right_on</ref>))<sp/>{</highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reg_val<sp/>|=<sp/>(1<sp/>&lt;&lt;<sp/>8);<sp/></highlight><highlight class="comment">/*<sp/>MIC<sp/>gain<sp/>=<sp/>+20dB<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(in_flags<sp/>&amp;<sp/><ref refid="hpm__wm8978_8h_1a1403c79e4776ab41ea54ff0364145700ab46a3b99dbb770690b43f2d331563524" kindref="member">aux_on</ref>)<sp/>{</highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reg_val<sp/>|=<sp/>(3<sp/>&lt;&lt;<sp/>0);<sp/></highlight><highlight class="comment">/*<sp/>Aux<sp/>=<sp/>3*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(in_flags<sp/>&amp;<sp/><ref refid="hpm__wm8978_8h_1a1403c79e4776ab41ea54ff0364145700a73ab25bf71dccbc5506f0cda8bd0c1f5" kindref="member">line_on</ref>)<sp/>{</highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reg_val<sp/>|=<sp/>(3<sp/>&lt;&lt;<sp/>4);<sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Line<sp/>gain<sp/>=<sp/>3<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1gae5a4c4e106257107efe0a26851a72491" kindref="member">HPM_CHECK_RET</ref>(<ref refid="hpm__wm8978_8c_1a5f017b3a0395ce208f789d353cb57fb2" kindref="member">wm8978_write_reg</ref>(control,<sp/><ref refid="hpm__wm8978__regs_8h_1a43444c510cd3002f06cfa4fb0b4ac3ed" kindref="member">WM8978_LADC_BOOST_CTRL</ref>,<sp/>reg_val));</highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1gae5a4c4e106257107efe0a26851a72491" kindref="member">HPM_CHECK_RET</ref>(<ref refid="hpm__wm8978_8c_1a5f017b3a0395ce208f789d353cb57fb2" kindref="member">wm8978_write_reg</ref>(control,<sp/><ref refid="hpm__wm8978__regs_8h_1a5fc29bdd56c9e151244401891a1c0c69" kindref="member">WM8978_RADC_BOOST_CTRL</ref>,<sp/>reg_val));</highlight></codeline>
<codeline lineno="270"><highlight class="normal"></highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/>reg_val<sp/>=<sp/>0xFF;</highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Select<sp/>0dB<sp/>to<sp/>cache<sp/>the<sp/>left<sp/>channel<sp/>first<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1gae5a4c4e106257107efe0a26851a72491" kindref="member">HPM_CHECK_RET</ref>(<ref refid="hpm__wm8978_8c_1a5f017b3a0395ce208f789d353cb57fb2" kindref="member">wm8978_write_reg</ref>(control,<sp/><ref refid="hpm__wm8978__regs_8h_1a67f3bebe56a0e6c189504cb19ec1d2d1" kindref="member">WM8978_LEFT_ADC_VOL</ref>,<sp/>reg_val));</highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/>reg_val<sp/>=<sp/>0x1FF;</highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Update<sp/>left<sp/>and<sp/>right<sp/>channels<sp/>simultaneously<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1gae5a4c4e106257107efe0a26851a72491" kindref="member">HPM_CHECK_RET</ref>(<ref refid="hpm__wm8978_8c_1a5f017b3a0395ce208f789d353cb57fb2" kindref="member">wm8978_write_reg</ref>(control,<sp/><ref refid="hpm__wm8978__regs_8h_1ae536bd5d630ea0aab3da5322cd2b3004" kindref="member">WM8978_RIGHT_ADC_VOL</ref>,<sp/>reg_val));</highlight></codeline>
<codeline lineno="277"><highlight class="normal"></highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/><sp/><sp/>reg_val<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(out_flags<sp/>&amp;<sp/><ref refid="hpm__wm8978_8h_1a4462c0515cd4fcbbb38db4988c071251a91b29fc9f4ffd46547a389b9c5f7877d" kindref="member">spk_on</ref>)<sp/>{</highlight></codeline>
<codeline lineno="280"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>ROUT2<sp/>is<sp/>inverted<sp/>and<sp/>used<sp/>to<sp/>drive<sp/>the<sp/>speaker<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="281"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reg_val<sp/>|=<sp/>(1<sp/>&lt;&lt;<sp/>4);</highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(in_flags<sp/>&amp;<sp/><ref refid="hpm__wm8978_8h_1a1403c79e4776ab41ea54ff0364145700ab46a3b99dbb770690b43f2d331563524" kindref="member">aux_on</ref>)<sp/>{</highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reg_val<sp/>|=<sp/>((7<sp/>&lt;&lt;<sp/>1)<sp/>|<sp/>(1<sp/>&lt;&lt;<sp/>0));</highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1gae5a4c4e106257107efe0a26851a72491" kindref="member">HPM_CHECK_RET</ref>(<ref refid="hpm__wm8978_8c_1a5f017b3a0395ce208f789d353cb57fb2" kindref="member">wm8978_write_reg</ref>(control,<sp/><ref refid="hpm__wm8978__regs_8h_1ab04501a7ff093b712e60ea8ffaa016fd" kindref="member">WM8978_BEEP_CONTROL</ref>,<sp/>reg_val));</highlight></codeline>
<codeline lineno="287"><highlight class="normal"></highlight></codeline>
<codeline lineno="288"><highlight class="normal"><sp/><sp/><sp/><sp/>reg_val<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(in_flags<sp/>&amp;<sp/><ref refid="hpm__wm8978_8h_1a1403c79e4776ab41ea54ff0364145700a84ab9da7d48c8c041c87b1df3c222dbe" kindref="member">dac_on</ref>)<sp/>{</highlight></codeline>
<codeline lineno="290"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reg_val<sp/>|=<sp/>((1<sp/>&lt;&lt;<sp/>6)<sp/>|<sp/>(1<sp/>&lt;&lt;<sp/>5));</highlight></codeline>
<codeline lineno="291"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(out_flags<sp/>&amp;<sp/><ref refid="hpm__wm8978_8h_1a4462c0515cd4fcbbb38db4988c071251a91b29fc9f4ffd46547a389b9c5f7877d" kindref="member">spk_on</ref>)<sp/>{</highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>SPK<sp/>1.5x<sp/>gain,<sp/>thermal<sp/>protection<sp/>enabled<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reg_val<sp/>|=<sp/><sp/>((1<sp/>&lt;&lt;<sp/>2)<sp/>|<sp/>(1<sp/>&lt;&lt;<sp/>1));</highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(out_flags<sp/>&amp;<sp/><ref refid="hpm__wm8978_8h_1a4462c0515cd4fcbbb38db4988c071251a4faf4dca37180ba723de36e4d3c70157" kindref="member">out_3_4_on</ref>)<sp/>{</highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>BOOT3<sp/><sp/>BOOT4<sp/><sp/>1.5x<sp/>gain<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="298"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reg_val<sp/>|=<sp/><sp/>((1<sp/>&lt;&lt;<sp/>4)<sp/>|<sp/>(1<sp/>&lt;&lt;<sp/>3));</highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1gae5a4c4e106257107efe0a26851a72491" kindref="member">HPM_CHECK_RET</ref>(<ref refid="hpm__wm8978_8c_1a5f017b3a0395ce208f789d353cb57fb2" kindref="member">wm8978_write_reg</ref>(control,<sp/><ref refid="hpm__wm8978__regs_8h_1aa9b29e0946a1a502a78ede754a426941" kindref="member">WM8978_OUTPUT_CTRL</ref>,<sp/>reg_val));</highlight></codeline>
<codeline lineno="301"><highlight class="normal"></highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/><sp/><sp/>reg_val<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(in_flags<sp/>&amp;<sp/><ref refid="hpm__wm8978_8h_1a1403c79e4776ab41ea54ff0364145700ab46a3b99dbb770690b43f2d331563524" kindref="member">aux_on</ref>)<sp/>{</highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reg_val<sp/>|=<sp/>((7<sp/>&lt;&lt;<sp/>6)<sp/>|<sp/>(1<sp/>&lt;&lt;<sp/>5));</highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((in_flags<sp/>&amp;<sp/><ref refid="hpm__wm8978_8h_1a1403c79e4776ab41ea54ff0364145700a73ab25bf71dccbc5506f0cda8bd0c1f5" kindref="member">line_on</ref>)<sp/>||<sp/>(in_flags<sp/>&amp;<sp/><ref refid="hpm__wm8978_8h_1a1403c79e4776ab41ea54ff0364145700a39ffdc093d911c667e9ea943279ad7b7" kindref="member">mic_left_on</ref>)<sp/>||<sp/>(in_flags<sp/>&amp;<sp/><ref refid="hpm__wm8978_8h_1a1403c79e4776ab41ea54ff0364145700abdb5ef633df2d7fbed42c146cd5f1a15" kindref="member">mic_right_on</ref>))<sp/>{</highlight></codeline>
<codeline lineno="307"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reg_val<sp/>|=<sp/>((7<sp/>&lt;&lt;<sp/>2)<sp/>|<sp/>(1<sp/>&lt;&lt;<sp/>1));</highlight></codeline>
<codeline lineno="308"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="309"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(in_flags<sp/>&amp;<sp/><ref refid="hpm__wm8978_8h_1a1403c79e4776ab41ea54ff0364145700a84ab9da7d48c8c041c87b1df3c222dbe" kindref="member">dac_on</ref>)<sp/>{</highlight></codeline>
<codeline lineno="310"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reg_val<sp/>|=<sp/>(1<sp/>&lt;&lt;<sp/>0);</highlight></codeline>
<codeline lineno="311"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="312"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1gae5a4c4e106257107efe0a26851a72491" kindref="member">HPM_CHECK_RET</ref>(<ref refid="hpm__wm8978_8c_1a5f017b3a0395ce208f789d353cb57fb2" kindref="member">wm8978_write_reg</ref>(control,<sp/><ref refid="hpm__wm8978__regs_8h_1ade0369405b607fbabfd0e3d3e9b1e28a" kindref="member">WM8978_LEFT_MIXER_CTRL</ref>,<sp/>reg_val));</highlight></codeline>
<codeline lineno="313"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1gae5a4c4e106257107efe0a26851a72491" kindref="member">HPM_CHECK_RET</ref>(<ref refid="hpm__wm8978_8c_1a5f017b3a0395ce208f789d353cb57fb2" kindref="member">wm8978_write_reg</ref>(control,<sp/><ref refid="hpm__wm8978__regs_8h_1a5cdef5cf898c1ec95b60233007ab1c89" kindref="member">WM8978_RIGHT_MIXER_CTRL</ref>,<sp/>reg_val));</highlight></codeline>
<codeline lineno="314"><highlight class="normal"></highlight></codeline>
<codeline lineno="315"><highlight class="normal"><sp/><sp/><sp/><sp/>reg_val<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="316"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(out_flags<sp/>&amp;<sp/><ref refid="hpm__wm8978_8h_1a4462c0515cd4fcbbb38db4988c071251a4faf4dca37180ba723de36e4d3c70157" kindref="member">out_3_4_on</ref>)<sp/>{</highlight></codeline>
<codeline lineno="317"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reg_val<sp/>|=<sp/>(1<sp/>&lt;&lt;<sp/>3);</highlight></codeline>
<codeline lineno="318"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="319"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1gae5a4c4e106257107efe0a26851a72491" kindref="member">HPM_CHECK_RET</ref>(<ref refid="hpm__wm8978_8c_1a5f017b3a0395ce208f789d353cb57fb2" kindref="member">wm8978_write_reg</ref>(control,<sp/><ref refid="hpm__wm8978__regs_8h_1aa58d115edb1dea45f1cfeae25b1f1804" kindref="member">WM8978_OUT3_MIXER_CTRL</ref>,<sp/>reg_val));</highlight></codeline>
<codeline lineno="320"><highlight class="normal"></highlight></codeline>
<codeline lineno="321"><highlight class="normal"><sp/><sp/><sp/><sp/>reg_val<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="322"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(out_flags<sp/>&amp;<sp/><ref refid="hpm__wm8978_8h_1a4462c0515cd4fcbbb38db4988c071251a4faf4dca37180ba723de36e4d3c70157" kindref="member">out_3_4_on</ref>)<sp/>{</highlight></codeline>
<codeline lineno="323"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reg_val<sp/>|=<sp/>((1<sp/>&lt;&lt;<sp/>4)<sp/>|<sp/><sp/>(1<sp/>&lt;&lt;<sp/>1));</highlight></codeline>
<codeline lineno="324"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="325"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1gae5a4c4e106257107efe0a26851a72491" kindref="member">HPM_CHECK_RET</ref>(<ref refid="hpm__wm8978_8c_1a5f017b3a0395ce208f789d353cb57fb2" kindref="member">wm8978_write_reg</ref>(control,<sp/><ref refid="hpm__wm8978__regs_8h_1accab1ede29c378d9158a15293a83884e" kindref="member">WM8978_OUT4_MIXER_CTRL</ref>,<sp/>reg_val));</highlight></codeline>
<codeline lineno="326"><highlight class="normal"></highlight></codeline>
<codeline lineno="327"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(in_flags<sp/>&amp;<sp/><ref refid="hpm__wm8978_8h_1a1403c79e4776ab41ea54ff0364145700a84ab9da7d48c8c041c87b1df3c222dbe" kindref="member">dac_on</ref>)<sp/>{</highlight></codeline>
<codeline lineno="328"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1gae5a4c4e106257107efe0a26851a72491" kindref="member">HPM_CHECK_RET</ref>(<ref refid="hpm__wm8978_8c_1a5f017b3a0395ce208f789d353cb57fb2" kindref="member">wm8978_write_reg</ref>(control,<sp/><ref refid="hpm__wm8978__regs_8h_1a6aad350e587de85f0983f301f827d542" kindref="member">WM8978_LEFT_DAC_VOL</ref>,<sp/>0xFF));</highlight></codeline>
<codeline lineno="329"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1gae5a4c4e106257107efe0a26851a72491" kindref="member">HPM_CHECK_RET</ref>(<ref refid="hpm__wm8978_8c_1a5f017b3a0395ce208f789d353cb57fb2" kindref="member">wm8978_write_reg</ref>(control,<sp/><ref refid="hpm__wm8978__regs_8h_1a028370862d437c8be216b68d608c948a" kindref="member">WM8978_RIGHT_DAC_VOL</ref>,<sp/>0x1FF));</highlight></codeline>
<codeline lineno="330"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1gae5a4c4e106257107efe0a26851a72491" kindref="member">HPM_CHECK_RET</ref>(<ref refid="hpm__wm8978_8c_1a5f017b3a0395ce208f789d353cb57fb2" kindref="member">wm8978_write_reg</ref>(control,<sp/><ref refid="hpm__wm8978__regs_8h_1a7d1c02c8e1e8eeb54a8169c628d0a8a0" kindref="member">WM8978_DAC_CTRL</ref>,<sp/>0));</highlight></codeline>
<codeline lineno="331"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="332"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1gae5a4c4e106257107efe0a26851a72491" kindref="member">HPM_CHECK_RET</ref>(<ref refid="hpm__wm8978_8c_1a5f017b3a0395ce208f789d353cb57fb2" kindref="member">wm8978_write_reg</ref>(control,<sp/><ref refid="hpm__wm8978__regs_8h_1a6aad350e587de85f0983f301f827d542" kindref="member">WM8978_LEFT_DAC_VOL</ref>,<sp/>0));</highlight></codeline>
<codeline lineno="333"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1gae5a4c4e106257107efe0a26851a72491" kindref="member">HPM_CHECK_RET</ref>(<ref refid="hpm__wm8978_8c_1a5f017b3a0395ce208f789d353cb57fb2" kindref="member">wm8978_write_reg</ref>(control,<sp/><ref refid="hpm__wm8978__regs_8h_1a028370862d437c8be216b68d608c948a" kindref="member">WM8978_RIGHT_DAC_VOL</ref>,<sp/>0x100));</highlight></codeline>
<codeline lineno="334"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="335"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>stat;</highlight></codeline>
<codeline lineno="336"><highlight class="normal">}</highlight></codeline>
<codeline lineno="337"><highlight class="normal"></highlight></codeline>
<codeline lineno="338"><highlight class="normal"><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref><sp/><ref refid="hpm__wm8978_8c_1ab24566b20daf7b6d453e30f233ff2574" kindref="member">wm8978_notch_filter</ref>(<ref refid="structwm8978__context__t" kindref="compound">wm8978_context_t</ref><sp/>*control,<sp/>uint16_t<sp/>nfa0,<sp/>uint16_t<sp/>nfa1)</highlight></codeline>
<codeline lineno="339"><highlight class="normal">{</highlight></codeline>
<codeline lineno="340"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref><sp/>stat<sp/>=<sp/><ref refid="group__common__interface_1gga57008dafb69438605b6d0039d9ed7a8fa99d8737a9b635c0c9d87d7ac65801ce7" kindref="member">status_success</ref>;</highlight></codeline>
<codeline lineno="341"><highlight class="normal"><sp/><sp/><sp/><sp/>uint16_t<sp/>reg_val;</highlight></codeline>
<codeline lineno="342"><highlight class="normal"><sp/><sp/><sp/><sp/>reg_val<sp/>=<sp/>(1<sp/>&lt;&lt;<sp/>7)<sp/>|<sp/>(nfa0<sp/>&amp;<sp/>0x3F);</highlight></codeline>
<codeline lineno="343"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1gae5a4c4e106257107efe0a26851a72491" kindref="member">HPM_CHECK_RET</ref>(<ref refid="hpm__wm8978_8c_1a5f017b3a0395ce208f789d353cb57fb2" kindref="member">wm8978_write_reg</ref>(control,<sp/><ref refid="hpm__wm8978__regs_8h_1afe2e2262bfa9091a2edbba03b204df6b" kindref="member">WM8978_NOTCH_FILTER1</ref>,<sp/>reg_val));</highlight></codeline>
<codeline lineno="344"><highlight class="normal"></highlight></codeline>
<codeline lineno="345"><highlight class="normal"><sp/><sp/><sp/><sp/>reg_val<sp/>=<sp/>((nfa0<sp/>&gt;&gt;<sp/>7)<sp/>&amp;<sp/>0x3F);</highlight></codeline>
<codeline lineno="346"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1gae5a4c4e106257107efe0a26851a72491" kindref="member">HPM_CHECK_RET</ref>(<ref refid="hpm__wm8978_8c_1a5f017b3a0395ce208f789d353cb57fb2" kindref="member">wm8978_write_reg</ref>(control,<sp/><ref refid="hpm__wm8978__regs_8h_1a03ced0d4f7bb0caf0a6b61664af46ceb" kindref="member">WM8978_NOTCH_FILTER2</ref>,<sp/>reg_val));</highlight></codeline>
<codeline lineno="347"><highlight class="normal"></highlight></codeline>
<codeline lineno="348"><highlight class="normal"><sp/><sp/><sp/><sp/>reg_val<sp/>=<sp/>(nfa1<sp/>&amp;<sp/>0x3F);</highlight></codeline>
<codeline lineno="349"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1gae5a4c4e106257107efe0a26851a72491" kindref="member">HPM_CHECK_RET</ref>(<ref refid="hpm__wm8978_8c_1a5f017b3a0395ce208f789d353cb57fb2" kindref="member">wm8978_write_reg</ref>(control,<sp/><ref refid="hpm__wm8978__regs_8h_1a53606a1327cbac51693bfbc564a5375d" kindref="member">WM8978_NOTCH_FILTER3</ref>,<sp/>reg_val));</highlight></codeline>
<codeline lineno="350"><highlight class="normal"></highlight></codeline>
<codeline lineno="351"><highlight class="normal"><sp/><sp/><sp/><sp/>reg_val<sp/>=<sp/>(1<sp/>&lt;&lt;<sp/>8)<sp/>|<sp/>((nfa1<sp/>&gt;&gt;<sp/>7)<sp/>&amp;<sp/>0x3F);</highlight></codeline>
<codeline lineno="352"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1gae5a4c4e106257107efe0a26851a72491" kindref="member">HPM_CHECK_RET</ref>(<ref refid="hpm__wm8978_8c_1a5f017b3a0395ce208f789d353cb57fb2" kindref="member">wm8978_write_reg</ref>(control,<sp/><ref refid="hpm__wm8978__regs_8h_1a0a33df0506d63a8d83e37e7672c98486" kindref="member">WM8978_NOTCH_FILTER4</ref>,<sp/>reg_val));</highlight></codeline>
<codeline lineno="353"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>stat;</highlight></codeline>
<codeline lineno="354"><highlight class="normal">}</highlight></codeline>
<codeline lineno="355"><highlight class="normal"></highlight></codeline>
<codeline lineno="356"><highlight class="normal"><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref><sp/><ref refid="hpm__wm8978_8c_1a6b1086da44ad5ae66043972b3e57ec10" kindref="member">wm8978_ctrl_gpio1</ref>(<ref refid="structwm8978__context__t" kindref="compound">wm8978_context_t</ref><sp/>*control,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>value)</highlight></codeline>
<codeline lineno="357"><highlight class="normal">{</highlight></codeline>
<codeline lineno="358"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref><sp/>stat<sp/>=<sp/><ref refid="group__common__interface_1gga57008dafb69438605b6d0039d9ed7a8fa99d8737a9b635c0c9d87d7ac65801ce7" kindref="member">status_success</ref>;</highlight></codeline>
<codeline lineno="359"><highlight class="normal"><sp/><sp/><sp/><sp/>uint16_t<sp/>reg_val;</highlight></codeline>
<codeline lineno="360"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(value<sp/>==<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">)<sp/>{</highlight></codeline>
<codeline lineno="361"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reg_val<sp/>=<sp/>6;<sp/></highlight><highlight class="comment">/*<sp/>B2:0<sp/>=<sp/>110<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="362"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="363"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reg_val<sp/>=<sp/>7;<sp/></highlight><highlight class="comment">/*<sp/>B2:0<sp/>=<sp/>111<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="364"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="365"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1gae5a4c4e106257107efe0a26851a72491" kindref="member">HPM_CHECK_RET</ref>(<ref refid="hpm__wm8978_8c_1a5f017b3a0395ce208f789d353cb57fb2" kindref="member">wm8978_write_reg</ref>(control,<sp/><ref refid="hpm__wm8978__regs_8h_1a2317bd184623955015f49714e0799145" kindref="member">WM8978_GPIO_CTRL</ref>,<sp/>reg_val));</highlight></codeline>
<codeline lineno="366"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>stat;</highlight></codeline>
<codeline lineno="367"><highlight class="normal">}</highlight></codeline>
<codeline lineno="368"><highlight class="normal"></highlight></codeline>
<codeline lineno="369"><highlight class="normal"><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref><sp/><ref refid="hpm__wm8978_8c_1a5f017b3a0395ce208f789d353cb57fb2" kindref="member">wm8978_write_reg</ref>(<ref refid="structwm8978__context__t" kindref="compound">wm8978_context_t</ref><sp/>*control,<sp/>uint8_t<sp/>reg,<sp/>uint16_t<sp/>val)</highlight></codeline>
<codeline lineno="370"><highlight class="normal">{</highlight></codeline>
<codeline lineno="371"><highlight class="normal"><sp/><sp/><sp/><sp/>uint8_t<sp/>buff[2];</highlight></codeline>
<codeline lineno="372"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>The<sp/>first<sp/>7<sp/>bits<sp/>(B15<sp/>to<sp/>B9)<sp/>are<sp/>address<sp/>bits<sp/>that<sp/>select<sp/>which<sp/>control<sp/>register<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="373"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>is<sp/>accessed.<sp/>The<sp/>remaining<sp/>9<sp/>bits<sp/>(B8<sp/>to<sp/>B0)<sp/>are<sp/>data<sp/>bits<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="374"><highlight class="normal"><sp/><sp/><sp/><sp/>buff[0]<sp/>=<sp/>(reg<sp/>&lt;&lt;<sp/>1)<sp/>|<sp/>(uint8_t)((val<sp/>&gt;&gt;<sp/>8U)<sp/>&amp;<sp/>0x0001U);</highlight></codeline>
<codeline lineno="375"><highlight class="normal"><sp/><sp/><sp/><sp/>buff[1]<sp/>=<sp/>(uint8_t)(val<sp/>&amp;<sp/>0xFFU);</highlight></codeline>
<codeline lineno="376"><highlight class="normal"></highlight></codeline>
<codeline lineno="377"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>record<sp/>reg<sp/>val<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="378"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="hpm__wm8978_8c_1a47bbe8c1dd9547aa93bd636816f0a8a6" kindref="member">wm8978_reg_val</ref>[reg]<sp/>=<sp/>val;</highlight></codeline>
<codeline lineno="379"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group__i2c__interface_1ga14e1065a0ea6722b9aa9f22667adf33c" kindref="member">i2c_master_write</ref>(control-&gt;<ref refid="structwm8978__context__t_1a634ea2f9ae7cffa5a20cfdff981e364b" kindref="member">ptr</ref>,<sp/>control-&gt;<ref refid="structwm8978__context__t_1a6991b30e674040f15fcb92055ebf1318" kindref="member">device_address</ref>,<sp/>buff,<sp/>2U);</highlight></codeline>
<codeline lineno="380"><highlight class="normal">}</highlight></codeline>
<codeline lineno="381"><highlight class="normal"></highlight></codeline>
<codeline lineno="382"><highlight class="normal"><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref><sp/><ref refid="hpm__wm8978_8c_1acd3b28acabcb9a486ca58d0fa819d1fa" kindref="member">wm8978_read_reg</ref>(<ref refid="structwm8978__context__t" kindref="compound">wm8978_context_t</ref><sp/>*control,<sp/>uint8_t<sp/>reg,<sp/>uint16_t<sp/>*val)</highlight></codeline>
<codeline lineno="383"><highlight class="normal">{</highlight></codeline>
<codeline lineno="384"><highlight class="normal"><sp/><sp/><sp/><sp/>(void)control;</highlight></codeline>
<codeline lineno="385"><highlight class="normal"><sp/><sp/><sp/><sp/>*val<sp/>=<sp/><ref refid="hpm__wm8978_8c_1a47bbe8c1dd9547aa93bd636816f0a8a6" kindref="member">wm8978_reg_val</ref>[reg];</highlight></codeline>
<codeline lineno="386"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group__common__interface_1gga57008dafb69438605b6d0039d9ed7a8fa99d8737a9b635c0c9d87d7ac65801ce7" kindref="member">status_success</ref>;</highlight></codeline>
<codeline lineno="387"><highlight class="normal">}</highlight></codeline>
<codeline lineno="388"><highlight class="normal"></highlight></codeline>
<codeline lineno="389"><highlight class="normal"><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref><sp/><ref refid="hpm__wm8978_8c_1a5b0db900075eccd77354a2738cd2728f" kindref="member">wm8978_modify_reg</ref>(<ref refid="structwm8978__context__t" kindref="compound">wm8978_context_t</ref><sp/>*control,<sp/>uint8_t<sp/>reg,<sp/>uint16_t<sp/>mask,<sp/>uint16_t<sp/>val)</highlight></codeline>
<codeline lineno="390"><highlight class="normal">{</highlight></codeline>
<codeline lineno="391"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref><sp/>stat<sp/>=<sp/><ref refid="group__common__interface_1gga57008dafb69438605b6d0039d9ed7a8fa99d8737a9b635c0c9d87d7ac65801ce7" kindref="member">status_success</ref>;</highlight></codeline>
<codeline lineno="392"><highlight class="normal"><sp/><sp/><sp/><sp/>uint16_t<sp/>reg_val;</highlight></codeline>
<codeline lineno="393"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Read<sp/>the<sp/>register<sp/>value<sp/>out<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="394"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1gae5a4c4e106257107efe0a26851a72491" kindref="member">HPM_CHECK_RET</ref>(<ref refid="hpm__wm8978_8c_1acd3b28acabcb9a486ca58d0fa819d1fa" kindref="member">wm8978_read_reg</ref>(control,<sp/>reg,<sp/>&amp;reg_val));</highlight></codeline>
<codeline lineno="395"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Modify<sp/>the<sp/>value<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="396"><highlight class="normal"><sp/><sp/><sp/><sp/>reg_val<sp/>&amp;=<sp/>(uint16_t)~mask;</highlight></codeline>
<codeline lineno="397"><highlight class="normal"><sp/><sp/><sp/><sp/>reg_val<sp/>|=<sp/>val;</highlight></codeline>
<codeline lineno="398"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Write<sp/>the<sp/>data<sp/>to<sp/>register<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="399"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1gae5a4c4e106257107efe0a26851a72491" kindref="member">HPM_CHECK_RET</ref>(<ref refid="hpm__wm8978_8c_1a5f017b3a0395ce208f789d353cb57fb2" kindref="member">wm8978_write_reg</ref>(control,<sp/>reg,<sp/>reg_val));</highlight></codeline>
<codeline lineno="400"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(stat<sp/>!=<sp/><ref refid="group__common__interface_1gga57008dafb69438605b6d0039d9ed7a8fa99d8737a9b635c0c9d87d7ac65801ce7" kindref="member">status_success</ref>)<sp/>{</highlight></codeline>
<codeline lineno="401"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group__common__interface_1gga57008dafb69438605b6d0039d9ed7a8fab3c0359cb713a70f593f2e46ab12bb39" kindref="member">status_fail</ref>;</highlight></codeline>
<codeline lineno="402"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="403"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>stat;</highlight></codeline>
<codeline lineno="404"><highlight class="normal">}</highlight></codeline>
<codeline lineno="405"><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="components/codec/wm8978/hpm_wm8978.c"/>
  </compounddef>
</doxygen>
