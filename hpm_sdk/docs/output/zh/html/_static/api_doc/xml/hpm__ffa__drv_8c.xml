<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.13.2" xml:lang="en-US">
  <compounddef id="hpm__ffa__drv_8c" kind="file" language="C++">
    <compoundname>hpm_ffa_drv.c</compoundname>
    <includes refid="hpm__ffa__drv_8h" local="yes">hpm_ffa_drv.h</includes>
    <includes local="no">assert.h</includes>
    <incdepgraph>
      <node id="3">
        <label>hpm_common.h</label>
        <link refid="hpm__common_8h"/>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
      </node>
      <node id="2">
        <label>hpm_ffa_drv.h</label>
        <link refid="hpm__ffa__drv_8h"/>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="9" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="11" relation="include">
        </childnode>
      </node>
      <node id="1">
        <label>drivers/src/hpm_ffa_drv.c</label>
        <link refid="hpm__ffa__drv_8c"/>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
      </node>
      <node id="4">
        <label>assert.h</label>
      </node>
      <node id="9">
        <label>hpm_ffa_regs.h</label>
      </node>
      <node id="10">
        <label>hpm_soc_feature.h</label>
      </node>
      <node id="11">
        <label>hpm_soc_ip_feature.h</label>
      </node>
      <node id="5">
        <label>stdbool.h</label>
      </node>
      <node id="6">
        <label>stdint.h</label>
      </node>
      <node id="8">
        <label>stdlib.h</label>
      </node>
      <node id="7">
        <label>string.h</label>
      </node>
    </incdepgraph>
    <sectiondef kind="define">
      <memberdef kind="define" id="hpm__ffa__drv_8c_1a91bc796d788595013a5b60a2724b06dc" prot="public" static="no">
        <name>FFA_ERROR_MASKS</name>
        <initializer>(<ref refid="HPM6300_2ip_2hpm__ffa__regs_8h_1a8be9410825e23ec34ba46f6a468b6ec9" kindref="member">FFA_STATUS_FIR_OV_MASK</ref> | <ref refid="HPM6300_2ip_2hpm__ffa__regs_8h_1a6c5c8009a0bb9b57d264ed45f9bdfa24" kindref="member">FFA_STATUS_FFT_OV_MASK</ref> | <ref refid="HPM6300_2ip_2hpm__ffa__regs_8h_1a46b58ac7ac247727093854bd57468969" kindref="member">FFA_STATUS_WR_ERR_MASK</ref> | <ref refid="HPM6300_2ip_2hpm__ffa__regs_8h_1a6d61b844d3b734d0878a09c1e8509fed" kindref="member">FFA_STATUS_RD_NXT_ERR_MASK</ref> | <ref refid="HPM6300_2ip_2hpm__ffa__regs_8h_1ac5b93ea87e6daac9fb541268f5c7970f" kindref="member">FFA_STATUS_RD_ERR_MASK</ref>)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="drivers/src/hpm_ffa_drv.c" line="11" column="9" bodyfile="drivers/src/hpm_ffa_drv.c" bodystart="11" bodyend="-1"/>
      </memberdef>
    </sectiondef>
    <sectiondef kind="func">
      <memberdef kind="function" id="hpm__ffa__drv_8c_1a5ab2734f58130ab9c2363c8ead61e170" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>static bool is_point_num_valid</definition>
        <argsstring>(uint16_t num_point)</argsstring>
        <name>is_point_num_valid</name>
        <param>
          <type>uint16_t</type>
          <declname>num_point</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="drivers/src/hpm_ffa_drv.c" line="17" column="13" bodyfile="drivers/src/hpm_ffa_drv.c" bodystart="17" bodyend="20" declfile="drivers/src/hpm_ffa_drv.c" declline="13" declcolumn="13"/>
      </memberdef>
      <memberdef kind="function" id="hpm__ffa__drv_8c_1ad877929507a68d9d12ecdfe7caa1c7b4" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>uint32_t</type>
        <definition>static uint32_t get_fft_misc_reg_fft_len</definition>
        <argsstring>(uint16_t num_point)</argsstring>
        <name>get_fft_misc_reg_fft_len</name>
        <param>
          <type>uint16_t</type>
          <declname>num_point</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="drivers/src/hpm_ffa_drv.c" line="22" column="17" bodyfile="drivers/src/hpm_ffa_drv.c" bodystart="22" bodyend="32" declfile="drivers/src/hpm_ffa_drv.c" declline="14" declcolumn="17"/>
      </memberdef>
      <memberdef kind="function" id="hpm__ffa__drv_8c_1a6affdc67674b3001004244f411ea31dd" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref></type>
        <definition>static hpm_stat_t get_fft_error_kind</definition>
        <argsstring>(uint32_t ffa_status)</argsstring>
        <name>get_fft_error_kind</name>
        <param>
          <type>uint32_t</type>
          <declname>ffa_status</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="drivers/src/hpm_ffa_drv.c" line="97" column="19" bodyfile="drivers/src/hpm_ffa_drv.c" bodystart="97" bodyend="116" declfile="drivers/src/hpm_ffa_drv.c" declline="15" declcolumn="19"/>
      </memberdef>
      <member refid="group__ffa__interface_1ga5e56293311ea18ed803b77929d819b7f" kind="function"><name>ffa_start_fft</name></member>
      <member refid="group__ffa__interface_1ga7f3e816e832db8390e5dd586317bb2ba" kind="function"><name>ffa_start_fir</name></member>
      <member refid="group__ffa__interface_1ga77d761e7ed7aeabd0c567debde5e78b2" kind="function"><name>ffa_calculate_fft_blocking</name></member>
      <member refid="group__ffa__interface_1ga45e70f073a381048d0a19e3d31d1d775" kind="function"><name>ffa_calculate_fir_blocking</name></member>
    </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">/*</highlight></codeline>
<codeline lineno="2"><highlight class="comment"><sp/>*<sp/>Copyright<sp/>(c)<sp/>2022<sp/>HPMicro</highlight></codeline>
<codeline lineno="3"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="4"><highlight class="comment"><sp/>*<sp/>SPDX-License-Identifier:<sp/>BSD-3-Clause</highlight></codeline>
<codeline lineno="5"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="6"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="hpm__ffa__drv_8h" kindref="compound">hpm_ffa_drv.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;assert.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>FFA_ERROR_MASKS<sp/>(FFA_STATUS_FIR_OV_MASK<sp/>|<sp/>FFA_STATUS_FFT_OV_MASK<sp/>|<sp/>FFA_STATUS_WR_ERR_MASK<sp/>|<sp/>FFA_STATUS_RD_NXT_ERR_MASK<sp/>|<sp/>FFA_STATUS_RD_ERR_MASK)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="hpm__ffa__drv_8c_1a5ab2734f58130ab9c2363c8ead61e170" kindref="member">is_point_num_valid</ref>(uint16_t<sp/>num_point);</highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>uint32_t<sp/><ref refid="hpm__ffa__drv_8c_1ad877929507a68d9d12ecdfe7caa1c7b4" kindref="member">get_fft_misc_reg_fft_len</ref>(uint16_t<sp/>num_point);</highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref><sp/><ref refid="hpm__ffa__drv_8c_1a6affdc67674b3001004244f411ea31dd" kindref="member">get_fft_error_kind</ref>(uint32_t<sp/>ffa_status);</highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="hpm__ffa__drv_8c_1a5ab2734f58130ab9c2363c8ead61e170" kindref="member">is_point_num_valid</ref>(uint16_t<sp/>num_point)</highlight></codeline>
<codeline lineno="18"><highlight class="normal">{</highlight></codeline>
<codeline lineno="19"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>((num_point<sp/>&amp;<sp/>(num_point<sp/>-<sp/>1U))<sp/>==<sp/>0U)<sp/>&amp;&amp;<sp/>(num_point<sp/>&gt;=<sp/>8U);</highlight></codeline>
<codeline lineno="20"><highlight class="normal">}</highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>uint32_t<sp/><ref refid="hpm__ffa__drv_8c_1ad877929507a68d9d12ecdfe7caa1c7b4" kindref="member">get_fft_misc_reg_fft_len</ref>(uint16_t<sp/>num_point)</highlight></codeline>
<codeline lineno="23"><highlight class="normal">{</highlight></codeline>
<codeline lineno="24"><highlight class="normal"><sp/><sp/><sp/><sp/>uint32_t<sp/>count<sp/>=<sp/>0U;</highlight></codeline>
<codeline lineno="25"><highlight class="normal"><sp/><sp/><sp/><sp/>num_point<sp/>/=<sp/>8;</highlight></codeline>
<codeline lineno="26"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(num_point<sp/>&gt;<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="27"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>count++;</highlight></codeline>
<codeline lineno="28"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>num_point<sp/>&gt;&gt;=<sp/>1U;</highlight></codeline>
<codeline lineno="29"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="30"><highlight class="normal"></highlight></codeline>
<codeline lineno="31"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(count<sp/>-<sp/>1U);</highlight></codeline>
<codeline lineno="32"><highlight class="normal">}</highlight></codeline>
<codeline lineno="33"><highlight class="normal"></highlight></codeline>
<codeline lineno="34"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group__ffa__interface_1ga5e56293311ea18ed803b77929d819b7f" kindref="member">ffa_start_fft</ref>(<ref refid="structFFA__Type" kindref="compound">FFA_Type</ref><sp/>*ptr,<sp/><ref refid="structfft__xfer__t" kindref="compound">fft_xfer_t</ref><sp/>*fft_xfer)</highlight></codeline>
<codeline lineno="35"><highlight class="normal">{</highlight></codeline>
<codeline lineno="36"><highlight class="normal"></highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/><sp/><sp/>assert((ptr<sp/>!=<sp/>NULL)<sp/>&amp;&amp;<sp/>(fft_xfer<sp/>!=<sp/>NULL)<sp/>&amp;&amp;<sp/><ref refid="hpm__ffa__drv_8c_1a5ab2734f58130ab9c2363c8ead61e170" kindref="member">is_point_num_valid</ref>(fft_xfer-&gt;<ref refid="structfft__xfer__t_1aabc5e2b787b94a3afae6d3921b813b84" kindref="member">num_points</ref>));</highlight></codeline>
<codeline lineno="38"><highlight class="normal"></highlight></codeline>
<codeline lineno="39"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__ffa__interface_1gaeae17c3ab0e8468d8c085de83d5fc538" kindref="member">ffa_disable</ref>(ptr);</highlight></codeline>
<codeline lineno="40"><highlight class="normal"></highlight></codeline>
<codeline lineno="41"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__ffa__interface_1ga2fdbac1ac58ed42e80ccde5b9c767af9" kindref="member">ffa_enable_interrupt</ref>(ptr,<sp/>fft_xfer-&gt;<ref refid="structfft__xfer__t_1a6429a8ebce912fa070e28a0718bf6356" kindref="member">interrupt_mask</ref>);</highlight></codeline>
<codeline lineno="42"><highlight class="normal"></highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structFFA__Type_1a7ef39f890d76dd562f546259a061a1f6" kindref="member">OP_CTRL</ref><sp/>=<sp/><ref refid="HPM6300_2ip_2hpm__ffa__regs_8h_1a09dfe1d3a739269edbe1ef868ca2536f" kindref="member">FFA_OP_CTRL_EN_MASK</ref>;</highlight></codeline>
<codeline lineno="44"><highlight class="normal"></highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/><sp/><sp/>uint32_t<sp/>op_cmd<sp/>=<sp/><ref refid="HPM6300_2ip_2hpm__ffa__regs_8h_1a4f55fa3a7ab3b54eb3e7577b5a5409e4" kindref="member">FFA_OP_CMD_CMD_SET</ref>(<ref refid="group__ffa__interface_1ga83fc31f2e1a4dd157e292a05736e5b6f" kindref="member">FFA_OPCMD_FFT</ref>)<sp/>|<sp/><ref refid="HPM6300_2ip_2hpm__ffa__regs_8h_1a1718a66a870a49d8ff949abab0722b56" kindref="member">FFA_OP_CMD_IND_TYPE_SET</ref>(fft_xfer-&gt;<ref refid="structfft__xfer__t_1a9b19379228151d11b0e8ebed2b5b8efc" kindref="member">src_data_type</ref>)<sp/>|</highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="HPM6300_2ip_2hpm__ffa__regs_8h_1a02680c4224ca0533e421da490a185b24" kindref="member">FFA_OP_CMD_OUTD_TYPE_SET</ref>(fft_xfer-&gt;<ref refid="structfft__xfer__t_1a528a4a741cc494d5e1c41a2c4a7e7373" kindref="member">dst_data_type</ref>);</highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structFFA__Type_1a7cce27e35951efdb5cf8febb26a5df87" kindref="member">OP_CMD</ref><sp/>=<sp/>op_cmd;</highlight></codeline>
<codeline lineno="48"><highlight class="normal"></highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/>uint32_t<sp/>fft_len<sp/>=<sp/><ref refid="hpm__ffa__drv_8c_1ad877929507a68d9d12ecdfe7caa1c7b4" kindref="member">get_fft_misc_reg_fft_len</ref>(fft_xfer-&gt;<ref refid="structfft__xfer__t_1aabc5e2b787b94a3afae6d3921b813b84" kindref="member">num_points</ref>);</highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/><sp/>uint32_t<sp/>fft_misc<sp/>=</highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="HPM6300_2ip_2hpm__ffa__regs_8h_1a257d5d1b839e41e6d59826ec52972054" kindref="member">FFA_OP_FFT_MISC_FFT_LEN_SET</ref>(fft_len)<sp/>|<sp/><ref refid="HPM6300_2ip_2hpm__ffa__regs_8h_1a17bb09ee8a75bd043b30f09868226736" kindref="member">FFA_OP_FFT_MISC_TMP_BLK_SET</ref>(1)<sp/>|<sp/><ref refid="HPM6300_2ip_2hpm__ffa__regs_8h_1a9035dedaaa360dac2e874773c6987747" kindref="member">FFA_OP_FFT_MISC_IND_BLK_SET</ref>(0);</highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(fft_xfer-&gt;<ref refid="structfft__xfer__t_1adac9cc3117e3f47d5284e6b315acfe1b" kindref="member">is_ifft</ref>)<sp/>{</highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fft_misc<sp/>|=<sp/><ref refid="HPM6300_2ip_2hpm__ffa__regs_8h_1a545ac1af3d1ee986b0f50b39a6d7441c" kindref="member">FFA_OP_FFT_MISC_IFFT_MASK</ref>;</highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structFFA__Type_1a1d7f984c1fdda54e374d2bdb83014b25" kindref="member">OP_REG0</ref><sp/>=<sp/>fft_misc;</highlight></codeline>
<codeline lineno="56"><highlight class="normal"></highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structFFA__Type_1a19a844313aea8d41f5f3eadcdc4a4659" kindref="member">OP_REG1</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structFFA__Type_1a233af99bafec220a616ec0fafc20443c" kindref="member">OP_REG2</ref><sp/>=<sp/>(uint32_t)<sp/>fft_xfer-&gt;<ref refid="structfft__xfer__t_1aa4b974dce33b66abaaef4be51271faaf" kindref="member">src</ref>;</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structFFA__Type_1a3a01bda689a43930686104b485957358" kindref="member">OP_REG4</ref><sp/>=<sp/>(uint32_t)<sp/>fft_xfer-&gt;<ref refid="structfft__xfer__t_1a2075c0e96c978e459154b954e8f55677" kindref="member">dst</ref>;</highlight></codeline>
<codeline lineno="60"><highlight class="normal"></highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__ffa__interface_1ga1f87a53ab913a04ed99a8fdfecad48e2" kindref="member">ffa_enable</ref>(ptr);</highlight></codeline>
<codeline lineno="62"><highlight class="normal">}</highlight></codeline>
<codeline lineno="63"><highlight class="normal"></highlight></codeline>
<codeline lineno="64"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group__ffa__interface_1ga7f3e816e832db8390e5dd586317bb2ba" kindref="member">ffa_start_fir</ref>(<ref refid="structFFA__Type" kindref="compound">FFA_Type</ref><sp/>*ptr,<sp/><ref refid="structfir__xfer__t" kindref="compound">fir_xfer_t</ref><sp/>*fir_xfer)</highlight></codeline>
<codeline lineno="65"><highlight class="normal">{</highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/>assert((ptr<sp/>!=<sp/>NULL)<sp/>&amp;&amp;<sp/>(fir_xfer<sp/>!=<sp/>NULL));</highlight></codeline>
<codeline lineno="67"><highlight class="normal"></highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__ffa__interface_1gaeae17c3ab0e8468d8c085de83d5fc538" kindref="member">ffa_disable</ref>(ptr);</highlight></codeline>
<codeline lineno="69"><highlight class="normal"></highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__ffa__interface_1ga2fdbac1ac58ed42e80ccde5b9c767af9" kindref="member">ffa_enable_interrupt</ref>(ptr,<sp/>fir_xfer-&gt;<ref refid="structfir__xfer__t_1a3ba878d2e96655ae7162750e151b451d" kindref="member">interrupt_mask</ref>);</highlight></codeline>
<codeline lineno="71"><highlight class="normal"></highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structFFA__Type_1a7ef39f890d76dd562f546259a061a1f6" kindref="member">OP_CTRL</ref><sp/>=<sp/><ref refid="HPM6300_2ip_2hpm__ffa__regs_8h_1a09dfe1d3a739269edbe1ef868ca2536f" kindref="member">FFA_OP_CTRL_EN_MASK</ref>;</highlight></codeline>
<codeline lineno="73"><highlight class="normal"></highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/>uint32_t<sp/>op_cmd<sp/>=<sp/><ref refid="HPM6300_2ip_2hpm__ffa__regs_8h_1a4f55fa3a7ab3b54eb3e7577b5a5409e4" kindref="member">FFA_OP_CMD_CMD_SET</ref>(<ref refid="group__ffa__interface_1ga444630c8186fcabcd0c2e9ff9f719889" kindref="member">FFA_OPCMD_FIR</ref>)<sp/>|<sp/><ref refid="HPM6300_2ip_2hpm__ffa__regs_8h_1a1718a66a870a49d8ff949abab0722b56" kindref="member">FFA_OP_CMD_IND_TYPE_SET</ref>(fir_xfer-&gt;<ref refid="structfir__xfer__t_1a2e16478723923d7874906fd40b4487dc" kindref="member">data_type</ref>)<sp/>|</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="HPM6300_2ip_2hpm__ffa__regs_8h_1a02680c4224ca0533e421da490a185b24" kindref="member">FFA_OP_CMD_OUTD_TYPE_SET</ref>(fir_xfer-&gt;<ref refid="structfir__xfer__t_1a2e16478723923d7874906fd40b4487dc" kindref="member">data_type</ref>)<sp/>|<sp/><ref refid="HPM6300_2ip_2hpm__ffa__regs_8h_1aacede2a7847cefcbce409c4426c86e8e" kindref="member">FFA_OP_CMD_COEF_TYPE_SET</ref>(fir_xfer-&gt;<ref refid="structfir__xfer__t_1a2e16478723923d7874906fd40b4487dc" kindref="member">data_type</ref>);</highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structFFA__Type_1a7cce27e35951efdb5cf8febb26a5df87" kindref="member">OP_CMD</ref><sp/>=<sp/>op_cmd;</highlight></codeline>
<codeline lineno="77"><highlight class="normal"></highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/>uint32_t<sp/>fir_misc<sp/>=<sp/><ref refid="HPM6300_2ip_2hpm__ffa__regs_8h_1af36e15bb07cf9562a97484264ac34407" kindref="member">FFA_OP_FIR_MISC_FIR_COEF_TAPS_SET</ref>(fir_xfer-&gt;<ref refid="structfir__xfer__t_1a3e33e4ac6d3885a2e28ab71da2f20305" kindref="member">coef_taps</ref>);</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structFFA__Type_1a1d7f984c1fdda54e374d2bdb83014b25" kindref="member">OP_REG0</ref><sp/>=<sp/>fir_misc;</highlight></codeline>
<codeline lineno="80"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>defined(HPM_IP_FEATURE_FFA_FP32)<sp/>&amp;&amp;<sp/>HPM_IP_FEATURE_FFA_FP32</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/>uint32_t<sp/>fir_misc1<sp/>=<sp/><ref refid="HPM6300_2ip_2hpm__ffa__regs_8h_1a281bb7411dd13fe996140375af9cf9df" kindref="member">FFA_OP_FIR_MISC1_OUTD_MEM_BLK_SET</ref>(0)<sp/>|<sp/><ref refid="HPM6300_2ip_2hpm__ffa__regs_8h_1a36abfe5e43d53160e976cdd673a35516" kindref="member">FFA_OP_FIR_MISC1_COEF_MEM_BLK_SET</ref>(0)<sp/>|</highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="HPM6300_2ip_2hpm__ffa__regs_8h_1a5498d8538a2232fe1342a939d507e7ce" kindref="member">FFA_OP_FIR_MISC1_IND_MEM_BLK_SET</ref>(1)<sp/>|<sp/><ref refid="HPM6300_2ip_2hpm__ffa__regs_8h_1a21f22406edb1bb7981a698504de1fedc" kindref="member">FFA_OP_FIR_MISC1_FIR_DATA_TAPS_SET</ref>(fir_xfer-&gt;<ref refid="structfir__xfer__t_1a0cd144a2ddb2dbfbfcfd538401cc7bba" kindref="member">input_taps</ref>);</highlight></codeline>
<codeline lineno="83"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/>uint32_t<sp/>fir_misc1<sp/>=<sp/><ref refid="HPM6300_2ip_2hpm__ffa__regs_8h_1a281bb7411dd13fe996140375af9cf9df" kindref="member">FFA_OP_FIR_MISC1_OUTD_MEM_BLK_SET</ref>(0)<sp/>|<sp/><ref refid="HPM6300_2ip_2hpm__ffa__regs_8h_1a36abfe5e43d53160e976cdd673a35516" kindref="member">FFA_OP_FIR_MISC1_COEF_MEM_BLK_SET</ref>(1)<sp/>|</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="HPM6300_2ip_2hpm__ffa__regs_8h_1a5498d8538a2232fe1342a939d507e7ce" kindref="member">FFA_OP_FIR_MISC1_IND_MEM_BLK_SET</ref>(2)<sp/>|<sp/><ref refid="HPM6300_2ip_2hpm__ffa__regs_8h_1a21f22406edb1bb7981a698504de1fedc" kindref="member">FFA_OP_FIR_MISC1_FIR_DATA_TAPS_SET</ref>(fir_xfer-&gt;<ref refid="structfir__xfer__t_1a0cd144a2ddb2dbfbfcfd538401cc7bba" kindref="member">input_taps</ref>);</highlight></codeline>
<codeline lineno="86"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="87"><highlight class="normal"></highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structFFA__Type_1a19a844313aea8d41f5f3eadcdc4a4659" kindref="member">OP_REG1</ref><sp/>=<sp/>fir_misc1;</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structFFA__Type_1a233af99bafec220a616ec0fafc20443c" kindref="member">OP_REG2</ref><sp/>=<sp/>0xFFFFFFFFUL;</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structFFA__Type_1a89d2303dc2782b396df773c75c26fbe4" kindref="member">OP_REG3</ref><sp/>=<sp/>(uint32_t)<sp/>fir_xfer-&gt;<ref refid="structfir__xfer__t_1a1f963f7a4efb36a73d5179bef919a38c" kindref="member">src</ref>;</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structFFA__Type_1a3a01bda689a43930686104b485957358" kindref="member">OP_REG4</ref><sp/>=<sp/>(uint32_t)<sp/>fir_xfer-&gt;<ref refid="structfir__xfer__t_1a0f9a9298d208b8e323ab4ba892cbc4cb" kindref="member">coeff</ref>;</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structFFA__Type_1a7d6f823babc8f88c760f96c814202041" kindref="member">OP_REG5</ref><sp/>=<sp/>(uint32_t)<sp/>fir_xfer-&gt;<ref refid="structfir__xfer__t_1a56ecf2b249f3036ebb951195c6b2d492" kindref="member">dst</ref>;</highlight></codeline>
<codeline lineno="93"><highlight class="normal"></highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__ffa__interface_1ga1f87a53ab913a04ed99a8fdfecad48e2" kindref="member">ffa_enable</ref>(ptr);</highlight></codeline>
<codeline lineno="95"><highlight class="normal">}</highlight></codeline>
<codeline lineno="96"><highlight class="normal"></highlight></codeline>
<codeline lineno="97"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref><sp/><ref refid="hpm__ffa__drv_8c_1a6affdc67674b3001004244f411ea31dd" kindref="member">get_fft_error_kind</ref>(uint32_t<sp/>ffa_status)</highlight></codeline>
<codeline lineno="98"><highlight class="normal">{</highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref><sp/>status;</highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="group__common__interface_1gae1eae6c44712583303b6e650a21d4875" kindref="member">IS_HPM_BITMASK_SET</ref>(ffa_status,<sp/><ref refid="hpm__ffa__drv_8c_1a91bc796d788595013a5b60a2724b06dc" kindref="member">FFA_ERROR_MASKS</ref>))<sp/>{</highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="group__common__interface_1gae1eae6c44712583303b6e650a21d4875" kindref="member">IS_HPM_BITMASK_SET</ref>(ffa_status,<sp/><ref refid="HPM6300_2ip_2hpm__ffa__regs_8h_1a8be9410825e23ec34ba46f6a468b6ec9" kindref="member">FFA_STATUS_FIR_OV_MASK</ref>))<sp/>{</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>status<sp/>=<sp/><ref refid="group__ffa__interface_1ggaaff7507baa14a46cb5c601e34273ba70ae0247dc1bdeb1daef537a78c04dbe0ba" kindref="member">status_ffa_fir_overflow</ref>;</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="group__common__interface_1gae1eae6c44712583303b6e650a21d4875" kindref="member">IS_HPM_BITMASK_SET</ref>(ffa_status,<sp/><ref refid="HPM6300_2ip_2hpm__ffa__regs_8h_1a6c5c8009a0bb9b57d264ed45f9bdfa24" kindref="member">FFA_STATUS_FFT_OV_MASK</ref>))<sp/>{</highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>status<sp/>=<sp/><ref refid="group__ffa__interface_1ggaaff7507baa14a46cb5c601e34273ba70a7b4e8b1e8e7aea7627952afc1cd4d6da" kindref="member">status_ffa_fft_overflow</ref>;</highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="group__common__interface_1gae1eae6c44712583303b6e650a21d4875" kindref="member">IS_HPM_BITMASK_SET</ref>(ffa_status,<sp/><ref refid="HPM6300_2ip_2hpm__ffa__regs_8h_1a46b58ac7ac247727093854bd57468969" kindref="member">FFA_STATUS_WR_ERR_MASK</ref>))<sp/>{</highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>status<sp/>=<sp/><ref refid="group__ffa__interface_1ggaaff7507baa14a46cb5c601e34273ba70a4492a81c778b9286d7d144fe084344ba" kindref="member">status_ffa_write_error</ref>;</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="group__common__interface_1gae1eae6c44712583303b6e650a21d4875" kindref="member">IS_HPM_BITMASK_SET</ref>(ffa_status,<sp/><ref refid="HPM6300_2ip_2hpm__ffa__regs_8h_1a6d61b844d3b734d0878a09c1e8509fed" kindref="member">FFA_STATUS_RD_NXT_ERR_MASK</ref>))<sp/>{</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>status<sp/>=<sp/><ref refid="group__ffa__interface_1ggaaff7507baa14a46cb5c601e34273ba70a78f561f808e778c73a9dd1ce33d38cf1" kindref="member">status_ffa_read_next_error</ref>;</highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>status<sp/>=<sp/><ref refid="group__ffa__interface_1ggaaff7507baa14a46cb5c601e34273ba70aa42f437ec24ceab79d60132dbbc56c28" kindref="member">status_ffa_read_error</ref>;</highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>status<sp/>=<sp/><ref refid="group__common__interface_1gga57008dafb69438605b6d0039d9ed7a8fa99d8737a9b635c0c9d87d7ac65801ce7" kindref="member">status_success</ref>;</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>status;</highlight></codeline>
<codeline lineno="116"><highlight class="normal">}</highlight></codeline>
<codeline lineno="117"><highlight class="normal"></highlight></codeline>
<codeline lineno="118"><highlight class="normal"><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref><sp/><ref refid="group__ffa__interface_1ga77d761e7ed7aeabd0c567debde5e78b2" kindref="member">ffa_calculate_fft_blocking</ref>(<ref refid="structFFA__Type" kindref="compound">FFA_Type</ref><sp/>*ptr,<sp/><ref refid="structfft__xfer__t" kindref="compound">fft_xfer_t</ref><sp/>*fft_xfer)</highlight></codeline>
<codeline lineno="119"><highlight class="normal">{</highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref><sp/>status<sp/>=<sp/><ref refid="group__common__interface_1gga57008dafb69438605b6d0039d9ed7a8fa380c9b8304ad8399f1be634d6f5c4701" kindref="member">status_invalid_argument</ref>;</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">do</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1ga6552192bf6d102d80777fc98a59811d9" kindref="member">HPM_BREAK_IF</ref>((ptr<sp/>==<sp/>NULL)<sp/>||<sp/>(fft_xfer<sp/>==<sp/>NULL)<sp/>||<sp/>!<ref refid="hpm__ffa__drv_8c_1a5ab2734f58130ab9c2363c8ead61e170" kindref="member">is_point_num_valid</ref>(fft_xfer-&gt;<ref refid="structfft__xfer__t_1aabc5e2b787b94a3afae6d3921b813b84" kindref="member">num_points</ref>));</highlight></codeline>
<codeline lineno="123"><highlight class="normal"></highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fft_xfer-&gt;<ref refid="structfft__xfer__t_1a6429a8ebce912fa070e28a0718bf6356" kindref="member">interrupt_mask</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="125"><highlight class="normal"></highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__ffa__interface_1ga5e56293311ea18ed803b77929d819b7f" kindref="member">ffa_start_fft</ref>(ptr,<sp/>fft_xfer);</highlight></codeline>
<codeline lineno="127"><highlight class="normal"></highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(!<ref refid="group__common__interface_1gae1eae6c44712583303b6e650a21d4875" kindref="member">IS_HPM_BITMASK_SET</ref>(ptr-&gt;<ref refid="structFFA__Type_1a7500a3029b4869590cbbdb6e13679dc4" kindref="member">STATUS</ref>,<sp/><ref refid="HPM6300_2ip_2hpm__ffa__regs_8h_1a37a8c2e10d1760c800e477e55e652500" kindref="member">FFA_STATUS_OP_CMD_DONE_MASK</ref>))<sp/>{</highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="130"><highlight class="normal"></highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uint32_t<sp/>ffa_status<sp/>=<sp/>ptr-&gt;<ref refid="structFFA__Type_1a7500a3029b4869590cbbdb6e13679dc4" kindref="member">STATUS</ref>;</highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>status<sp/>=<sp/><ref refid="hpm__ffa__drv_8c_1a6affdc67674b3001004244f411ea31dd" kindref="member">get_fft_error_kind</ref>(ffa_status);</highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="134"><highlight class="normal"></highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>status;</highlight></codeline>
<codeline lineno="136"><highlight class="normal">}</highlight></codeline>
<codeline lineno="137"><highlight class="normal"></highlight></codeline>
<codeline lineno="138"><highlight class="normal"><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref><sp/><ref refid="group__ffa__interface_1ga45e70f073a381048d0a19e3d31d1d775" kindref="member">ffa_calculate_fir_blocking</ref>(<ref refid="structFFA__Type" kindref="compound">FFA_Type</ref><sp/>*ptr,<sp/><ref refid="structfir__xfer__t" kindref="compound">fir_xfer_t</ref><sp/>*fir_xfer)</highlight></codeline>
<codeline lineno="139"><highlight class="normal">{</highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref><sp/>status<sp/>=<sp/><ref refid="group__common__interface_1gga57008dafb69438605b6d0039d9ed7a8fa380c9b8304ad8399f1be634d6f5c4701" kindref="member">status_invalid_argument</ref>;</highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/>uint32_t<sp/>i,<sp/>data_size,<sp/>buffer_size,<sp/>input_size,<sp/>num;</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structfir__xfer__t" kindref="compound">fir_xfer_t</ref><sp/>xfer<sp/>=<sp/>{<sp/>0<sp/>};</highlight></codeline>
<codeline lineno="143"><highlight class="normal"></highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">do</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__common__interface_1ga6552192bf6d102d80777fc98a59811d9" kindref="member">HPM_BREAK_IF</ref>((ptr<sp/>==<sp/>NULL)<sp/>||<sp/>(fir_xfer<sp/>==<sp/>NULL));</highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(fir_xfer-&gt;<ref refid="structfir__xfer__t_1a2e16478723923d7874906fd40b4487dc" kindref="member">data_type</ref>)<sp/>{</highlight></codeline>
<codeline lineno="147"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>defined(HPM_IP_FEATURE_FFA_FP32)<sp/>&amp;&amp;<sp/>HPM_IP_FEATURE_FFA_FP32</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>FFA_DATA_TYPE_COMPLEX_FP32:</highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>FFA_DATA_TYPE_REAL_FP32:</highlight></codeline>
<codeline lineno="150"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__ffa__interface_1gae5d5d4ceb4204fe83a21d6a6e3e5d612" kindref="member">FFA_DATA_TYPE_REAL_Q31</ref>:</highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__ffa__interface_1ga606c07bcff8d952376e87009f7f27f4d" kindref="member">FFA_DATA_TYPE_COMPLEX_Q31</ref>:</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>data_size<sp/>=<sp/>4U;</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__ffa__interface_1ga96970b166721a9bc66dceb65e9466a34" kindref="member">FFA_DATA_TYPE_COMPLEX_Q15</ref>:</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__ffa__interface_1ga7d8e9366db62955109fbe85cc375715e" kindref="member">FFA_DATA_TYPE_REAL_Q15</ref>:</highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>data_size<sp/>=<sp/>2U;</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>status;</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>buffer_size<sp/>=<sp/><ref refid="HPM6300_2HPM6360_2hpm__soc__feature_8h_1a5cf08047525c51417659ed25ebe0c5f6" kindref="member">FFA_SOC_BUFFER_MAX</ref><sp/>/<sp/>data_size;</highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(fir_xfer-&gt;<ref refid="structfir__xfer__t_1a0cd144a2ddb2dbfbfcfd538401cc7bba" kindref="member">input_taps</ref><sp/>&gt;<sp/>buffer_size)<sp/>{</highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>input_size<sp/>=<sp/>buffer_size<sp/>-<sp/>fir_xfer-&gt;<ref refid="structfir__xfer__t_1a3e33e4ac6d3885a2e28ab71da2f20305" kindref="member">coef_taps</ref><sp/>+<sp/>1;</highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>num<sp/>=<sp/>fir_xfer-&gt;<ref refid="structfir__xfer__t_1a0cd144a2ddb2dbfbfcfd538401cc7bba" kindref="member">input_taps</ref><sp/>/<sp/>input_size;</highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>0;<sp/>i<sp/>&lt;=<sp/>num;<sp/>i++)<sp/>{</highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(i<sp/>==<sp/>num)<sp/>{</highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>xfer.<ref refid="structfir__xfer__t_1a0cd144a2ddb2dbfbfcfd538401cc7bba" kindref="member">input_taps</ref><sp/>=<sp/>fir_xfer-&gt;<ref refid="structfir__xfer__t_1a0cd144a2ddb2dbfbfcfd538401cc7bba" kindref="member">input_taps</ref><sp/>-<sp/>i<sp/>*<sp/>input_size;</highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(xfer.<ref refid="structfir__xfer__t_1a0cd144a2ddb2dbfbfcfd538401cc7bba" kindref="member">input_taps</ref><sp/>==<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>xfer.<ref refid="structfir__xfer__t_1a0cd144a2ddb2dbfbfcfd538401cc7bba" kindref="member">input_taps</ref><sp/>=<sp/>buffer_size;</highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>xfer.<ref refid="structfir__xfer__t_1a2e16478723923d7874906fd40b4487dc" kindref="member">data_type</ref><sp/>=<sp/>fir_xfer-&gt;<ref refid="structfir__xfer__t_1a2e16478723923d7874906fd40b4487dc" kindref="member">data_type</ref>;</highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>xfer.<ref refid="structfir__xfer__t_1a56ecf2b249f3036ebb951195c6b2d492" kindref="member">dst</ref><sp/>=<sp/>(uint8_t<sp/>*)fir_xfer-&gt;<ref refid="structfir__xfer__t_1a56ecf2b249f3036ebb951195c6b2d492" kindref="member">dst</ref><sp/>+<sp/>i<sp/>*<sp/>input_size<sp/>*<sp/>data_size;</highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>xfer.<ref refid="structfir__xfer__t_1a1f963f7a4efb36a73d5179bef919a38c" kindref="member">src</ref><sp/>=<sp/>(uint8_t<sp/>*)fir_xfer-&gt;<ref refid="structfir__xfer__t_1a1f963f7a4efb36a73d5179bef919a38c" kindref="member">src</ref><sp/>+<sp/>i<sp/>*<sp/>input_size<sp/>*<sp/>data_size;</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>xfer.<ref refid="structfir__xfer__t_1a0f9a9298d208b8e323ab4ba892cbc4cb" kindref="member">coeff</ref><sp/>=<sp/>fir_xfer-&gt;<ref refid="structfir__xfer__t_1a0f9a9298d208b8e323ab4ba892cbc4cb" kindref="member">coeff</ref>;</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>xfer.<ref refid="structfir__xfer__t_1a3ba878d2e96655ae7162750e151b451d" kindref="member">interrupt_mask</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>xfer.<ref refid="structfir__xfer__t_1a3e33e4ac6d3885a2e28ab71da2f20305" kindref="member">coef_taps</ref><sp/>=<sp/>fir_xfer-&gt;<ref refid="structfir__xfer__t_1a3e33e4ac6d3885a2e28ab71da2f20305" kindref="member">coef_taps</ref>;</highlight></codeline>
<codeline lineno="181"><highlight class="normal"></highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__ffa__interface_1ga7f3e816e832db8390e5dd586317bb2ba" kindref="member">ffa_start_fir</ref>(ptr,<sp/>&amp;xfer);</highlight></codeline>
<codeline lineno="183"><highlight class="normal"></highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(!<ref refid="group__common__interface_1gae1eae6c44712583303b6e650a21d4875" kindref="member">IS_HPM_BITMASK_SET</ref>(ptr-&gt;<ref refid="structFFA__Type_1a7500a3029b4869590cbbdb6e13679dc4" kindref="member">STATUS</ref>,<sp/><ref refid="HPM6300_2ip_2hpm__ffa__regs_8h_1a37a8c2e10d1760c800e477e55e652500" kindref="member">FFA_STATUS_OP_CMD_DONE_MASK</ref>))<sp/>{</highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uint32_t<sp/>ffa_status<sp/>=<sp/>ptr-&gt;<ref refid="structFFA__Type_1a7500a3029b4869590cbbdb6e13679dc4" kindref="member">STATUS</ref>;</highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>status<sp/>=<sp/><ref refid="hpm__ffa__drv_8c_1a6affdc67674b3001004244f411ea31dd" kindref="member">get_fft_error_kind</ref>(ffa_status);</highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(status<sp/>!=<sp/><ref refid="group__common__interface_1gga57008dafb69438605b6d0039d9ed7a8fa99d8737a9b635c0c9d87d7ac65801ce7" kindref="member">status_success</ref>)<sp/>{</highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>status;</highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="193"><highlight class="normal"></highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fir_xfer-&gt;<ref refid="structfir__xfer__t_1a3ba878d2e96655ae7162750e151b451d" kindref="member">interrupt_mask</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="195"><highlight class="normal"></highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__ffa__interface_1ga7f3e816e832db8390e5dd586317bb2ba" kindref="member">ffa_start_fir</ref>(ptr,<sp/>fir_xfer);</highlight></codeline>
<codeline lineno="197"><highlight class="normal"></highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(!<ref refid="group__common__interface_1gae1eae6c44712583303b6e650a21d4875" kindref="member">IS_HPM_BITMASK_SET</ref>(ptr-&gt;<ref refid="structFFA__Type_1a7500a3029b4869590cbbdb6e13679dc4" kindref="member">STATUS</ref>,<sp/><ref refid="HPM6300_2ip_2hpm__ffa__regs_8h_1a37a8c2e10d1760c800e477e55e652500" kindref="member">FFA_STATUS_OP_CMD_DONE_MASK</ref>))<sp/>{</highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="200"><highlight class="normal"></highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uint32_t<sp/>ffa_status<sp/>=<sp/>ptr-&gt;<ref refid="structFFA__Type_1a7500a3029b4869590cbbdb6e13679dc4" kindref="member">STATUS</ref>;</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>status<sp/>=<sp/><ref refid="hpm__ffa__drv_8c_1a6affdc67674b3001004244f411ea31dd" kindref="member">get_fft_error_kind</ref>(ffa_status);</highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="205"><highlight class="normal"></highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>status;</highlight></codeline>
<codeline lineno="207"><highlight class="normal">}</highlight></codeline>
    </programlisting>
    <location file="drivers/src/hpm_ffa_drv.c"/>
  </compounddef>
</doxygen>
