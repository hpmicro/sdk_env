<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.13.2" xml:lang="en-US">
  <compounddef id="hpm__mtgv2__drv_8c" kind="file" language="C++">
    <compoundname>hpm_mtgv2_drv.c</compoundname>
    <includes local="yes">hpm_clock_drv.h</includes>
    <includes refid="hpm__mtgv2__drv_8h" local="yes">hpm_mtgv2_drv.h</includes>
    <incdepgraph>
      <node id="4">
        <label>hpm_common.h</label>
        <link refid="hpm__common_8h"/>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="9" relation="include">
        </childnode>
      </node>
      <node id="3">
        <label>hpm_mtgv2_drv.h</label>
        <link refid="hpm__mtgv2__drv_8h"/>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
      </node>
      <node id="1">
        <label>drivers/src/hpm_mtgv2_drv.c</label>
        <link refid="hpm__mtgv2__drv_8c"/>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="3" relation="include">
        </childnode>
      </node>
      <node id="10">
        <label>hpm_mtgv2_regs.h</label>
        <link refid="hpm__mtgv2__regs_8h"/>
      </node>
      <node id="5">
        <label>assert.h</label>
      </node>
      <node id="2">
        <label>hpm_clock_drv.h</label>
      </node>
      <node id="6">
        <label>stdbool.h</label>
      </node>
      <node id="7">
        <label>stdint.h</label>
      </node>
      <node id="9">
        <label>stdlib.h</label>
      </node>
      <node id="8">
        <label>string.h</label>
      </node>
    </incdepgraph>
    <sectiondef kind="func">
      <member refid="group__mtg__interface_1gaa3f5d415c2b66d6316358759ec90ce86" kind="function"><name>mtg_calc_vel_preset</name></member>
      <member refid="group__mtg__interface_1ga4ec0e8169d4897cb10c3c8ec1163716b" kind="function"><name>mtg_calc_acc_preset</name></member>
      <member refid="group__mtg__interface_1gafd36abc97bfa957ff113a65eccf30d93" kind="function"><name>mtg_calc_jer_preset</name></member>
      <member refid="group__mtg__interface_1ga453fca4c589a37adca0add0b30c10b64" kind="function"><name>mtg_get_tra_lock_result</name></member>
      <member refid="group__mtg__interface_1ga426affc1931c9fef8df98b5bd8bf77da" kind="function"><name>mtg_setup_event</name></member>
      <member refid="group__mtg__interface_1gad43815f5ca1a4abcd9b92689f2a6ea76" kind="function"><name>mtg_setup_tra_limit</name></member>
      <member refid="group__mtg__interface_1ga7bb1f3e50d02b2d7a7aa189070cd3aa0" kind="function"><name>mtg_setup_tra_software_pos_one_way_mode</name></member>
      <member refid="group__mtg__interface_1gaf7d8dc01fab12716f1a5977aa87a01b1" kind="function"><name>mtg_setup_tra_hardware_pos_one_way_mode</name></member>
      <member refid="group__mtg__interface_1gafc5c312967d11e184cadad66015b2d7a" kind="function"><name>mtg_disable_tra_pos_one_way_mode</name></member>
      <member refid="group__mtg__interface_1gaba8d720ea360fd9431062e6561bc6964" kind="function"><name>mtg_setup_tra_vel_one_way</name></member>
      <member refid="group__mtg__interface_1ga523aa44ab388d52f7d530ccb77c07980" kind="function"><name>mtg_filter_get_default_filter_stage_param</name></member>
      <member refid="group__mtg__interface_1ga23e51f8877dac645299e3b279110d4c9" kind="function"><name>mtg_setup_filter</name></member>
      <member refid="group__mtg__interface_1ga0b27429c5645c8b423257eee9659b985" kind="function"><name>mtg_setup_time</name></member>
      <member refid="group__mtg__interface_1ga139b02c70c9a3cc55eabfe2b23d7df11" kind="function"><name>mtg_setup_timeout</name></member>
      <member refid="group__mtg__interface_1ga2b63efd18bbc01bab02e8b1b1db996b6" kind="function"><name>mtg_setup_link_cfg</name></member>
      <member refid="group__mtg__interface_1ga06dd36f534f2ade791addd7be4427a7f" kind="function"><name>mtg_soft_event_trigger</name></member>
      <member refid="group__mtg__interface_1gaa59cb623421ddc63a093a858b2de9389" kind="function"><name>mtg_get_default_tra_shift</name></member>
    </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">/*</highlight></codeline>
<codeline lineno="2"><highlight class="comment"><sp/>*<sp/>Copyright<sp/>(c)<sp/>2024<sp/>HPMicro</highlight></codeline>
<codeline lineno="3"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="4"><highlight class="comment"><sp/>*<sp/>SPDX-License-Identifier:<sp/>BSD-3-Clause</highlight></codeline>
<codeline lineno="5"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="6"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;hpm_clock_drv.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="hpm__mtgv2__drv_8h" kindref="compound">hpm_mtgv2_drv.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal">int32_t<sp/><ref refid="group__mtg__interface_1gaa3f5d415c2b66d6316358759ec90ce86" kindref="member">mtg_calc_vel_preset</ref>(<ref refid="structMTGV2__Type" kindref="compound">MTGV2_Type</ref><sp/>*base,<sp/><ref refid="HPM5300_2HPM5301_2hpm__clock__drv_8h_1a24298d5cfc4913a8c6970632ef6bc19f" kindref="member">clock_name_t</ref><sp/>clock,<sp/>uint8_t<sp/>tra_index,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>speed)</highlight></codeline>
<codeline lineno="11"><highlight class="normal">{</highlight></codeline>
<codeline lineno="12"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(tra_index<sp/>&lt;<sp/>2);</highlight></codeline>
<codeline lineno="13"><highlight class="normal"><sp/><sp/><sp/><sp/>uint32_t<sp/>mtg_clock_fre<sp/>=<sp/><ref refid="group__clock__interface_1ga0b6cfe27aaccef750309ac03a4285189" kindref="member">clock_get_frequency</ref>(clock);</highlight></codeline>
<codeline lineno="14"><highlight class="normal"><sp/><sp/><sp/><sp/>uint32_t<sp/>shift_vel<sp/>=<sp/><ref refid="hpm__mtgv2__regs_8h_1a26dfe7988d6bf3678189e344d3424177" kindref="member">MTGV2_TRA_SHIFT_VEL_SHIFT_GET</ref>(base-&gt;<ref refid="structMTGV2__Type_1a55b02aa134fd63ff0d24193d97f65b8c" kindref="member">TRA</ref>[tra_index].<ref refid="structMTGV2__Type_1aed9224e6a840c3dd33d6f2a587705eb0" kindref="member">SHIFT</ref>);</highlight></codeline>
<codeline lineno="15"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(shift_vel<sp/>&lt;=<sp/>8);</highlight></codeline>
<codeline lineno="16"><highlight class="normal"><sp/><sp/><sp/><sp/>uint32_t<sp/>rev_vel_shift<sp/>=<sp/>12<sp/>-<sp/>shift_vel;</highlight></codeline>
<codeline lineno="17"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(int32_t)(speed<sp/>*<sp/>((uint64_t)1<sp/>&lt;&lt;<sp/>(rev_vel_shift<sp/>*<sp/>8))<sp/>/<sp/>mtg_clock_fre);</highlight></codeline>
<codeline lineno="18"><highlight class="normal">}</highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight></codeline>
<codeline lineno="20"><highlight class="normal">int32_t<sp/><ref refid="group__mtg__interface_1ga4ec0e8169d4897cb10c3c8ec1163716b" kindref="member">mtg_calc_acc_preset</ref>(<ref refid="structMTGV2__Type" kindref="compound">MTGV2_Type</ref><sp/>*base,<sp/><ref refid="HPM5300_2HPM5301_2hpm__clock__drv_8h_1a24298d5cfc4913a8c6970632ef6bc19f" kindref="member">clock_name_t</ref><sp/>clock,<sp/>uint8_t<sp/>tra_index,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>acc)</highlight></codeline>
<codeline lineno="21"><highlight class="normal">{</highlight></codeline>
<codeline lineno="22"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(tra_index<sp/>&lt;<sp/>2);</highlight></codeline>
<codeline lineno="23"><highlight class="normal"><sp/><sp/><sp/><sp/>uint32_t<sp/>mtg_clock_fre<sp/>=<sp/><ref refid="group__clock__interface_1ga0b6cfe27aaccef750309ac03a4285189" kindref="member">clock_get_frequency</ref>(clock);</highlight></codeline>
<codeline lineno="24"><highlight class="normal"><sp/><sp/><sp/><sp/>uint32_t<sp/>shift_vel<sp/>=<sp/><ref refid="hpm__mtgv2__regs_8h_1a26dfe7988d6bf3678189e344d3424177" kindref="member">MTGV2_TRA_SHIFT_VEL_SHIFT_GET</ref>(base-&gt;<ref refid="structMTGV2__Type_1a55b02aa134fd63ff0d24193d97f65b8c" kindref="member">TRA</ref>[tra_index].<ref refid="structMTGV2__Type_1aed9224e6a840c3dd33d6f2a587705eb0" kindref="member">SHIFT</ref>);</highlight></codeline>
<codeline lineno="25"><highlight class="normal"><sp/><sp/><sp/><sp/>uint32_t<sp/>shift_acc<sp/>=<sp/><ref refid="hpm__mtgv2__regs_8h_1a4c49428445545e38b9319b8f277d1444" kindref="member">MTGV2_TRA_SHIFT_ACC_SHIFT_GET</ref>(base-&gt;<ref refid="structMTGV2__Type_1a55b02aa134fd63ff0d24193d97f65b8c" kindref="member">TRA</ref>[tra_index].<ref refid="structMTGV2__Type_1aed9224e6a840c3dd33d6f2a587705eb0" kindref="member">SHIFT</ref>);</highlight></codeline>
<codeline lineno="26"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(shift_acc<sp/>&lt;=<sp/>shift_vel);</highlight></codeline>
<codeline lineno="27"><highlight class="normal"><sp/><sp/><sp/><sp/>uint32_t<sp/>vel_acc_shift<sp/>=<sp/>shift_vel<sp/>-<sp/>shift_acc;</highlight></codeline>
<codeline lineno="28"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(int32_t)(acc<sp/>*<sp/>((uint64_t)<ref refid="group__mtg__interface_1gaa3f5d415c2b66d6316358759ec90ce86" kindref="member">mtg_calc_vel_preset</ref>(base,<sp/>clock,<sp/>tra_index,<sp/>1)<sp/>&lt;&lt;<sp/>(vel_acc_shift<sp/>*<sp/>8))<sp/>/<sp/>mtg_clock_fre);</highlight></codeline>
<codeline lineno="29"><highlight class="normal">}</highlight></codeline>
<codeline lineno="30"><highlight class="normal"></highlight></codeline>
<codeline lineno="31"><highlight class="normal">int32_t<sp/><ref refid="group__mtg__interface_1gafd36abc97bfa957ff113a65eccf30d93" kindref="member">mtg_calc_jer_preset</ref>(<ref refid="structMTGV2__Type" kindref="compound">MTGV2_Type</ref><sp/>*base,<sp/><ref refid="HPM5300_2HPM5301_2hpm__clock__drv_8h_1a24298d5cfc4913a8c6970632ef6bc19f" kindref="member">clock_name_t</ref><sp/>clock,<sp/>uint8_t<sp/>tra_index,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>jer)</highlight></codeline>
<codeline lineno="32"><highlight class="normal">{</highlight></codeline>
<codeline lineno="33"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(tra_index<sp/>&lt;<sp/>2);</highlight></codeline>
<codeline lineno="34"><highlight class="normal"><sp/><sp/><sp/><sp/>uint32_t<sp/>mtg_clock_fre<sp/>=<sp/><ref refid="group__clock__interface_1ga0b6cfe27aaccef750309ac03a4285189" kindref="member">clock_get_frequency</ref>(clock);</highlight></codeline>
<codeline lineno="35"><highlight class="normal"><sp/><sp/><sp/><sp/>uint32_t<sp/>shift_jerk<sp/>=<sp/><ref refid="hpm__mtgv2__regs_8h_1aa764b6851355edf543f6cc2a396347f0" kindref="member">MTGV2_TRA_SHIFT_JER_SHIFT_GET</ref>(base-&gt;<ref refid="structMTGV2__Type_1a55b02aa134fd63ff0d24193d97f65b8c" kindref="member">TRA</ref>[tra_index].<ref refid="structMTGV2__Type_1aed9224e6a840c3dd33d6f2a587705eb0" kindref="member">SHIFT</ref>);</highlight></codeline>
<codeline lineno="36"><highlight class="normal"><sp/><sp/><sp/><sp/>uint32_t<sp/>shift_acc<sp/>=<sp/><ref refid="hpm__mtgv2__regs_8h_1a4c49428445545e38b9319b8f277d1444" kindref="member">MTGV2_TRA_SHIFT_ACC_SHIFT_GET</ref>(base-&gt;<ref refid="structMTGV2__Type_1a55b02aa134fd63ff0d24193d97f65b8c" kindref="member">TRA</ref>[tra_index].<ref refid="structMTGV2__Type_1aed9224e6a840c3dd33d6f2a587705eb0" kindref="member">SHIFT</ref>);</highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(shift_jerk<sp/>&lt;=<sp/>shift_acc);</highlight></codeline>
<codeline lineno="38"><highlight class="normal"><sp/><sp/><sp/><sp/>uint32_t<sp/>acc_jer_shift<sp/>=<sp/>shift_acc<sp/>-<sp/>shift_jerk;</highlight></codeline>
<codeline lineno="39"><highlight class="normal"><sp/><sp/><sp/><sp/>int32_t<sp/>temp<sp/>=<sp/><ref refid="group__mtg__interface_1ga4ec0e8169d4897cb10c3c8ec1163716b" kindref="member">mtg_calc_acc_preset</ref>(base,<sp/>clock,<sp/>tra_index,<sp/>1);</highlight></codeline>
<codeline lineno="40"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(int32_t)(jer<sp/>*<sp/>((uint64_t)temp<sp/>&lt;&lt;<sp/>(acc_jer_shift<sp/>*<sp/>8))<sp/>/<sp/>mtg_clock_fre);</highlight></codeline>
<codeline lineno="41"><highlight class="normal">}</highlight></codeline>
<codeline lineno="42"><highlight class="normal"></highlight></codeline>
<codeline lineno="43"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group__mtg__interface_1ga453fca4c589a37adca0add0b30c10b64" kindref="member">mtg_get_tra_lock_result</ref>(<ref refid="structMTGV2__Type" kindref="compound">MTGV2_Type</ref><sp/>*base,<sp/>uint8_t<sp/>tra_index,<sp/><ref refid="group__mtg__interface_1ga073dcc519689ee1b3080c00da15162c6" kindref="member">mtg_lock_value_t</ref><sp/>*para)</highlight></codeline>
<codeline lineno="44"><highlight class="normal">{</highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1a55b02aa134fd63ff0d24193d97f65b8c" kindref="member">TRA</ref>[tra_index].<ref refid="structMTGV2__Type_1ac48c3898884ccaf1fe3ca1cd4c70bb7f" kindref="member">CONTROL</ref><sp/>|=<sp/><ref refid="hpm__mtgv2__regs_8h_1a81b0e0a768653b97d8cd45e99ccfd79b" kindref="member">MTGV2_TRA_CONTROL_SW_LOCK_SET</ref>(1);</highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1a55b02aa134fd63ff0d24193d97f65b8c" kindref="member">TRA</ref>[tra_index].<ref refid="structMTGV2__Type_1ac48c3898884ccaf1fe3ca1cd4c70bb7f" kindref="member">CONTROL</ref><sp/>&amp;=<sp/><ref refid="hpm__mtgv2__regs_8h_1af7ae8edc8ce852b852fcb49db5516a06" kindref="member">~MTGV2_TRA_CONTROL_SW_LOCK_MASK</ref>;</highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><sp/><sp/>para-&gt;<ref refid="structmtg__result_1aa6871089e956b86c67965bc860f3d4e0" kindref="member">rev</ref><sp/>=<sp/>base-&gt;<ref refid="structMTGV2__Type_1a55b02aa134fd63ff0d24193d97f65b8c" kindref="member">TRA</ref>[tra_index].<ref refid="structMTGV2__Type_1a5a84f4b55ff2f0f14275817dd44de4d1" kindref="member">LOCK_REV</ref>;</highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/>para-&gt;<ref refid="structmtg__result_1a5b226d753f964cebe29adaf1cb46cb5f" kindref="member">pos</ref><sp/>=<sp/>base-&gt;<ref refid="structMTGV2__Type_1a55b02aa134fd63ff0d24193d97f65b8c" kindref="member">TRA</ref>[tra_index].<ref refid="structMTGV2__Type_1a75f85f711812d4211098ce6d9e6e30dd" kindref="member">LOCK_POS</ref>;</highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/>para-&gt;<ref refid="structmtg__result_1aa98ed8c62c35cd95c7058daa815c1b70" kindref="member">vel</ref><sp/>=<sp/>base-&gt;<ref refid="structMTGV2__Type_1a55b02aa134fd63ff0d24193d97f65b8c" kindref="member">TRA</ref>[tra_index].<ref refid="structMTGV2__Type_1af5ada7e5edd048ba042c89b54c8ccbfd" kindref="member">LOCK_VEL</ref>;</highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/><sp/>para-&gt;<ref refid="structmtg__result_1a0a72cd58f13755ebab6f1d9d1b0fe682" kindref="member">acc</ref><sp/>=<sp/>base-&gt;<ref refid="structMTGV2__Type_1a55b02aa134fd63ff0d24193d97f65b8c" kindref="member">TRA</ref>[tra_index].<ref refid="structMTGV2__Type_1abe7a6d865ee07216a6eafb5e716aaa78" kindref="member">LOCK_ACC</ref>;</highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/><sp/><sp/>para-&gt;<ref refid="structmtg__result_1a0f17dc04824a3a3239e6ebc59db3c838" kindref="member">time_stamp</ref><sp/>=<sp/>base-&gt;<ref refid="structMTGV2__Type_1a55b02aa134fd63ff0d24193d97f65b8c" kindref="member">TRA</ref>[tra_index].<ref refid="structMTGV2__Type_1a938ea8fa7bf8dbf04ac3798e53a0a0bb" kindref="member">LOCK_TIME</ref>;</highlight></codeline>
<codeline lineno="52"><highlight class="normal">}</highlight></codeline>
<codeline lineno="53"><highlight class="normal"></highlight></codeline>
<codeline lineno="54"><highlight class="normal"><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref><sp/><ref refid="group__mtg__interface_1ga426affc1931c9fef8df98b5bd8bf77da" kindref="member">mtg_setup_event</ref>(<ref refid="structMTGV2__Type" kindref="compound">MTGV2_Type</ref><sp/>*base,<sp/>uint8_t<sp/>event_index,<sp/><ref refid="group__mtg__interface_1ga8cb887e5b847770c33a7026cd6af40eb" kindref="member">mtg_event_param_t</ref><sp/>*param)</highlight></codeline>
<codeline lineno="55"><highlight class="normal">{</highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(event_index<sp/>&lt;<sp/>4);</highlight></codeline>
<codeline lineno="57"><highlight class="normal"></highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(param-&gt;<ref refid="structmtg__event__param_1a49e07ee5d2e7c944a0d50408437e539a" kindref="member">mode</ref>)<sp/>{</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__mtg__interface_1ggac2e582b84a5ce462956afd5966badab8af6242dca49231a5b0efbb586d33e82cd" kindref="member">event_mode_across</ref>:</highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1a8194a7348cac02ea2860d2145c1fe6f4" kindref="member">EVENT</ref>[event_index].<ref refid="structMTGV2__Type_1a8288d7cfc0002de8a7ecc7b4d5e04668" kindref="member">PRESET_0</ref><sp/>=<sp/>param-&gt;<ref refid="structmtg__event__param_1aec74bfb02e140e8b2081f726b81b7b02" kindref="member">preset</ref>.cross_param.cross_value_h;</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1a8194a7348cac02ea2860d2145c1fe6f4" kindref="member">EVENT</ref>[event_index].<ref refid="structMTGV2__Type_1ad22f6c599f63d8f522dac8592d7fdf6c" kindref="member">PRESET_1</ref><sp/>=<sp/>param-&gt;<ref refid="structmtg__event__param_1aec74bfb02e140e8b2081f726b81b7b02" kindref="member">preset</ref>.cross_param.cross_value_l;</highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__mtg__interface_1ggac2e582b84a5ce462956afd5966badab8aabed416ab1b094a2063426bcd439d1a5" kindref="member">event_mode_hold</ref>:</highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1a8194a7348cac02ea2860d2145c1fe6f4" kindref="member">EVENT</ref>[event_index].<ref refid="structMTGV2__Type_1a8288d7cfc0002de8a7ecc7b4d5e04668" kindref="member">PRESET_0</ref><sp/>=<sp/>param-&gt;<ref refid="structmtg__event__param_1aec74bfb02e140e8b2081f726b81b7b02" kindref="member">preset</ref>.hold_param.hold_value_h;</highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1a8194a7348cac02ea2860d2145c1fe6f4" kindref="member">EVENT</ref>[event_index].<ref refid="structMTGV2__Type_1ad22f6c599f63d8f522dac8592d7fdf6c" kindref="member">PRESET_1</ref><sp/>=<sp/>param-&gt;<ref refid="structmtg__event__param_1aec74bfb02e140e8b2081f726b81b7b02" kindref="member">preset</ref>.hold_param.hold_value_l;</highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1a8194a7348cac02ea2860d2145c1fe6f4" kindref="member">EVENT</ref>[event_index].<ref refid="structMTGV2__Type_1aaceed7e7ab51a3ca6d7a6182af03727c" kindref="member">PRESET_2</ref><sp/>=<sp/>param-&gt;<ref refid="structmtg__event__param_1aec74bfb02e140e8b2081f726b81b7b02" kindref="member">preset</ref>.hold_param.error_limit;</highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1a8194a7348cac02ea2860d2145c1fe6f4" kindref="member">EVENT</ref>[event_index].<ref refid="structMTGV2__Type_1a3b53e09eeef540a85e3f862d82c5a894" kindref="member">PRESET_3</ref><sp/>=<sp/>param-&gt;<ref refid="structmtg__event__param_1aec74bfb02e140e8b2081f726b81b7b02" kindref="member">preset</ref>.hold_param.hold_clock_cnt;</highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__mtg__interface_1ggac2e582b84a5ce462956afd5966badab8a8cfcf871d8c6d62d4c5dd2c84afed0cb" kindref="member">event_mode_over_protect</ref>:</highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1a8194a7348cac02ea2860d2145c1fe6f4" kindref="member">EVENT</ref>[event_index].<ref refid="structMTGV2__Type_1a8288d7cfc0002de8a7ecc7b4d5e04668" kindref="member">PRESET_0</ref><sp/>=<sp/>param-&gt;<ref refid="structmtg__event__param_1aec74bfb02e140e8b2081f726b81b7b02" kindref="member">preset</ref>.over_protect_param.limit_value_h;</highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1a8194a7348cac02ea2860d2145c1fe6f4" kindref="member">EVENT</ref>[event_index].<ref refid="structMTGV2__Type_1ad22f6c599f63d8f522dac8592d7fdf6c" kindref="member">PRESET_1</ref><sp/>=<sp/>param-&gt;<ref refid="structmtg__event__param_1aec74bfb02e140e8b2081f726b81b7b02" kindref="member">preset</ref>.over_protect_param.limit_value_l;</highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__mtg__interface_1ggac2e582b84a5ce462956afd5966badab8a82aea8796f0fe11697dc57c3c35c88ca" kindref="member">event_mode_time_match</ref>:</highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1a8194a7348cac02ea2860d2145c1fe6f4" kindref="member">EVENT</ref>[event_index].<ref refid="structMTGV2__Type_1a8288d7cfc0002de8a7ecc7b4d5e04668" kindref="member">PRESET_0</ref><sp/>=<sp/>param-&gt;<ref refid="structmtg__event__param_1aec74bfb02e140e8b2081f726b81b7b02" kindref="member">preset</ref>.time_param.clock_count;</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group__common__interface_1gga57008dafb69438605b6d0039d9ed7a8fa380c9b8304ad8399f1be634d6f5c4701" kindref="member">status_invalid_argument</ref>;</highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="79"><highlight class="normal"></highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/>uint32_t<sp/>tmp<sp/>=<sp/><ref refid="hpm__mtgv2__regs_8h_1adbebb7891d052c8d9ecd743978b0d59d" kindref="member">MTGV2_EVENT_CONTROL_ENABLE_SET</ref>(param-&gt;<ref refid="structmtg__event__param_1a350d3b34cd450c7ab496d261fd424fd5" kindref="member">enable</ref><sp/>==<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal"><sp/>?<sp/>1<sp/>:<sp/>0)<sp/>|</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="hpm__mtgv2__regs_8h_1aa5f6534920a2966a1ba475b66d82ce65" kindref="member">MTGV2_EVENT_CONTROL_SOURCE_MUX_SET</ref>(param-&gt;<ref refid="structmtg__event__param_1af2aac39ae78823353cd57a3afea8948f" kindref="member">obj_postion</ref>)<sp/>|</highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="hpm__mtgv2__regs_8h_1ad8b720a7290395ed4204296ae9c44833" kindref="member">MTGV2_EVENT_CONTROL_OBJECT_SET</ref>(param-&gt;<ref refid="structmtg__event__param_1a96588bc2cd91804c7ae0ed8cc7809913" kindref="member">obj</ref>)<sp/>|</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="hpm__mtgv2__regs_8h_1af26571e7a007a3139ed65306cba199ca" kindref="member">MTGV2_EVENT_CONTROL_MODE_SET</ref>(param-&gt;<ref refid="structmtg__event__param_1a49e07ee5d2e7c944a0d50408437e539a" kindref="member">mode</ref>)<sp/>|</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="hpm__mtgv2__regs_8h_1a07f729d3c2544a9d0834e322b185f744" kindref="member">MTGV2_EVENT_CONTROL_DIR_SET</ref>(param-&gt;<ref refid="structmtg__event__param_1ab98fb508a0050ae27afcabaefa8c4944" kindref="member">dir</ref>)<sp/>|</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="hpm__mtgv2__regs_8h_1aff8cf97e443016989355e41895d2bcff" kindref="member">MTGV2_EVENT_CONTROL_DIR_MODE_SET</ref>(param-&gt;<ref refid="structmtg__event__param_1afb96ad3f831f21ef57a5f76db770fca9" kindref="member">dir_mode</ref>)<sp/>|</highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="hpm__mtgv2__regs_8h_1a7436268e1252e3fbdf1f159850edad5b" kindref="member">MTGV2_EVENT_CONTROL_TRIG_NUM_SET</ref>(param-&gt;<ref refid="structmtg__event__param_1a248ab81ec1372444f9d1d39cbf9e9b42" kindref="member">trig_num</ref>);</highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1a8194a7348cac02ea2860d2145c1fe6f4" kindref="member">EVENT</ref>[event_index].<ref refid="structMTGV2__Type_1ac48c3898884ccaf1fe3ca1cd4c70bb7f" kindref="member">CONTROL</ref><sp/>=<sp/>tmp;</highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(param-&gt;<ref refid="structmtg__event__param_1ac1108cc00e1e000b8c6c2b3d32606e1f" kindref="member">irq_en</ref>)<sp/>{</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(event_index)<sp/>{</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>0:</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__mtg__interface_1ga3d516bc3e371a0ef7bbe2837aaac03dc" kindref="member">mtg_enable_irq</ref>(base,<sp/><ref refid="group__mtg__interface_1gga1cda3c14d770986e5ad561c4d785ab24a06a7130924bd9276f4b7f0c50b2b801a" kindref="member">irq_event0</ref>);</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>1:</highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__mtg__interface_1ga3d516bc3e371a0ef7bbe2837aaac03dc" kindref="member">mtg_enable_irq</ref>(base,<sp/><ref refid="group__mtg__interface_1gga1cda3c14d770986e5ad561c4d785ab24a30362b7881c8cb344cfe5fe24bcab6b0" kindref="member">irq_event1</ref>);</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>2:</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__mtg__interface_1ga3d516bc3e371a0ef7bbe2837aaac03dc" kindref="member">mtg_enable_irq</ref>(base,<sp/><ref refid="group__mtg__interface_1gga1cda3c14d770986e5ad561c4d785ab24a8bf3f5539f1c893534567276cbaf30a9" kindref="member">irq_event2</ref>);</highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>3:</highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__mtg__interface_1ga3d516bc3e371a0ef7bbe2837aaac03dc" kindref="member">mtg_enable_irq</ref>(base,<sp/><ref refid="group__mtg__interface_1gga1cda3c14d770986e5ad561c4d785ab24ad7248561ea4321191f2bc6ac0256c9a3" kindref="member">irq_event3</ref>);</highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group__common__interface_1gga57008dafb69438605b6d0039d9ed7a8fa99d8737a9b635c0c9d87d7ac65801ce7" kindref="member">status_success</ref>;</highlight></codeline>
<codeline lineno="107"><highlight class="normal">}</highlight></codeline>
<codeline lineno="108"><highlight class="normal"></highlight></codeline>
<codeline lineno="109"><highlight class="normal"><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref><sp/><ref refid="group__mtg__interface_1gad43815f5ca1a4abcd9b92689f2a6ea76" kindref="member">mtg_setup_tra_limit</ref>(<ref refid="structMTGV2__Type" kindref="compound">MTGV2_Type</ref><sp/>*base,<sp/>uint8_t<sp/>tra_index,<sp/><ref refid="group__mtg__interface_1ga065b3ca3ee8d751c7a8c68cee97dd44f" kindref="member">mtg_tra_limit_param_t</ref><sp/>*param)</highlight></codeline>
<codeline lineno="110"><highlight class="normal">{</highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(tra_index<sp/>&lt;<sp/>2);</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(param-&gt;<ref refid="structmtg__tra__limit__param_1ac2cd5338a40bc4e54958a11d1b04582e" kindref="member">pos_step_limit_en</ref>)<sp/>{</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1a55b02aa134fd63ff0d24193d97f65b8c" kindref="member">TRA</ref>[tra_index].<ref refid="structMTGV2__Type_1ac48c3898884ccaf1fe3ca1cd4c70bb7f" kindref="member">CONTROL</ref><sp/>|=<sp/><ref refid="hpm__mtgv2__regs_8h_1ad368b55bde3b6de0b6807618391a9d69" kindref="member">MTGV2_TRA_STEP_LIMIT_CTRL_VEL_STEP_EN_SET</ref>(1);</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1a55b02aa134fd63ff0d24193d97f65b8c" kindref="member">TRA</ref>[tra_index].<ref refid="structMTGV2__Type_1a09ce329b0054dcab3246c1603d0d4497" kindref="member">POS_STEP_MAX</ref><sp/>=<sp/>param-&gt;<ref refid="structmtg__tra__limit__param_1aee425d6970b7cabe6aacc72510d52f5b" kindref="member">pos_step_max</ref>;</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1a55b02aa134fd63ff0d24193d97f65b8c" kindref="member">TRA</ref>[tra_index].<ref refid="structMTGV2__Type_1a0ee6d10806f19cc3138ae2723917d87a" kindref="member">POS_STEP_MIN</ref><sp/>=<sp/>param-&gt;<ref refid="structmtg__tra__limit__param_1a3c964b51fbd006e33a6386156aa73062" kindref="member">pos_step_min</ref>;</highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1a55b02aa134fd63ff0d24193d97f65b8c" kindref="member">TRA</ref>[tra_index].<ref refid="structMTGV2__Type_1ac48c3898884ccaf1fe3ca1cd4c70bb7f" kindref="member">CONTROL</ref><sp/>&amp;=<sp/><ref refid="hpm__mtgv2__regs_8h_1a2a1cc89bac5b9b544e61da42debd8298" kindref="member">~MTGV2_TRA_STEP_LIMIT_CTRL_VEL_STEP_EN_MASK</ref>;</highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(param-&gt;<ref refid="structmtg__tra__limit__param_1a18629344632e412e3ecf36260bf86c0f" kindref="member">vel_step_limit_en</ref>)<sp/>{</highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1a55b02aa134fd63ff0d24193d97f65b8c" kindref="member">TRA</ref>[tra_index].<ref refid="structMTGV2__Type_1ac48c3898884ccaf1fe3ca1cd4c70bb7f" kindref="member">CONTROL</ref><sp/>|=<sp/><ref refid="hpm__mtgv2__regs_8h_1af9ce2885793af9376bc84bf998eb33ef" kindref="member">MTGV2_TRA_STEP_LIMIT_CTRL_POS_STEP_EN_SET</ref>(1);</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1a55b02aa134fd63ff0d24193d97f65b8c" kindref="member">TRA</ref>[tra_index].<ref refid="structMTGV2__Type_1a33b1f0ed727eacc37078f7291b880318" kindref="member">VEL_STEP_MAX</ref><sp/>=<sp/>param-&gt;<ref refid="structmtg__tra__limit__param_1a5c86f1826dbc944f8acfab13dc7d2e58" kindref="member">vel_step_max</ref>;</highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1a55b02aa134fd63ff0d24193d97f65b8c" kindref="member">TRA</ref>[tra_index].<ref refid="structMTGV2__Type_1a2b458177c811e544226b654bd6b7c134" kindref="member">VEL_STEP_MIN</ref><sp/>=<sp/>param-&gt;<ref refid="structmtg__tra__limit__param_1a85c8ab9d2f6364bdbaa5f2648c11f1ab" kindref="member">vel_step_min</ref>;</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1a55b02aa134fd63ff0d24193d97f65b8c" kindref="member">TRA</ref>[tra_index].<ref refid="structMTGV2__Type_1ac48c3898884ccaf1fe3ca1cd4c70bb7f" kindref="member">CONTROL</ref><sp/>&amp;=<sp/><ref refid="hpm__mtgv2__regs_8h_1ac4788f910bbbb74bf6ddf29bdc3da96b" kindref="member">~MTGV2_TRA_STEP_LIMIT_CTRL_POS_STEP_EN_MASK</ref>;</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group__common__interface_1gga57008dafb69438605b6d0039d9ed7a8fa99d8737a9b635c0c9d87d7ac65801ce7" kindref="member">status_success</ref>;</highlight></codeline>
<codeline lineno="127"><highlight class="normal">}</highlight></codeline>
<codeline lineno="128"><highlight class="normal"></highlight></codeline>
<codeline lineno="129"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group__mtg__interface_1ga7bb1f3e50d02b2d7a7aa189070cd3aa0" kindref="member">mtg_setup_tra_software_pos_one_way_mode</ref>(<ref refid="structMTGV2__Type" kindref="compound">MTGV2_Type</ref><sp/>*base,<sp/>uint8_t<sp/>tra_index,<sp/><ref refid="group__mtg__interface_1ga62a56fb89818a93a3bb7a52c8d41717d" kindref="member">mtg_software_force_one_way_mode_t</ref><sp/>param)</highlight></codeline>
<codeline lineno="130"><highlight class="normal">{</highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(tra_index<sp/>&lt;<sp/>2);</highlight></codeline>
<codeline lineno="132"><highlight class="normal"></highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1a55b02aa134fd63ff0d24193d97f65b8c" kindref="member">TRA</ref>[tra_index].<ref refid="structMTGV2__Type_1a1b356a70e3edf7a7b10237598c455c3f" kindref="member">STEP_LIMIT_CTRL</ref><sp/>|=<sp/><ref refid="hpm__mtgv2__regs_8h_1a2d18ceb1b995b57f5af61b7446a02c51" kindref="member">MTGV2_TRA_STEP_LIMIT_CTRL_POS_ONE_WAY_EN_SET</ref>(1)<sp/>|</highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="hpm__mtgv2__regs_8h_1a544d5f900ed807e059d39fe68cf7fe4a" kindref="member">MTGV2_TRA_STEP_LIMIT_CTRL_POS_ONE_WAY_MODE_SET</ref>(1)<sp/>|</highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="hpm__mtgv2__regs_8h_1a0c954e13591ee724485b971159802b67" kindref="member">MTGV2_TRA_STEP_LIMIT_CTRL_POS_ONE_WAY_FORCE_MODE_SET</ref>(param);</highlight></codeline>
<codeline lineno="136"><highlight class="normal">}</highlight></codeline>
<codeline lineno="137"><highlight class="normal"></highlight></codeline>
<codeline lineno="138"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group__mtg__interface_1gaf7d8dc01fab12716f1a5977aa87a01b1" kindref="member">mtg_setup_tra_hardware_pos_one_way_mode</ref>(<ref refid="structMTGV2__Type" kindref="compound">MTGV2_Type</ref><sp/>*base,<sp/>uint8_t<sp/>tra_index,<sp/><ref refid="group__mtg__interface_1gacede51d7757fb9b448e4f8c05688cf71" kindref="member">mtg_hardware_force_one_way_mode_t</ref><sp/>*param)</highlight></codeline>
<codeline lineno="139"><highlight class="normal">{</highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(tra_index<sp/>&lt;<sp/>2);</highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1a55b02aa134fd63ff0d24193d97f65b8c" kindref="member">TRA</ref>[tra_index].<ref refid="structMTGV2__Type_1a1b356a70e3edf7a7b10237598c455c3f" kindref="member">STEP_LIMIT_CTRL</ref><sp/>|=<sp/><ref refid="hpm__mtgv2__regs_8h_1a2d18ceb1b995b57f5af61b7446a02c51" kindref="member">MTGV2_TRA_STEP_LIMIT_CTRL_POS_ONE_WAY_EN_SET</ref>(1)<sp/>|</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="hpm__mtgv2__regs_8h_1a544d5f900ed807e059d39fe68cf7fe4a" kindref="member">MTGV2_TRA_STEP_LIMIT_CTRL_POS_ONE_WAY_MODE_SET</ref>(0);</highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1a55b02aa134fd63ff0d24193d97f65b8c" kindref="member">TRA</ref>[tra_index].<ref refid="structMTGV2__Type_1a85294ef3db2cbdf1eac127c214e26503" kindref="member">VEL_LIMIT_P</ref><sp/>=<sp/>param-&gt;<ref refid="structmtg__hardware__force__one__way__mode_1a1a8eddd283703f4a1a70e02d6697857f" kindref="member">vel_limit_p</ref>;</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1a55b02aa134fd63ff0d24193d97f65b8c" kindref="member">TRA</ref>[tra_index].<ref refid="structMTGV2__Type_1a8d44aea27eab4adb401618ab3b4a1d7f" kindref="member">VEL_LIMIT_N</ref><sp/>=<sp/>param-&gt;<ref refid="structmtg__hardware__force__one__way__mode_1ae246f50b4d80cc00f4f22e319283b2ed" kindref="member">vel_limit_n</ref>;</highlight></codeline>
<codeline lineno="145"><highlight class="normal">}</highlight></codeline>
<codeline lineno="146"><highlight class="normal"></highlight></codeline>
<codeline lineno="147"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group__mtg__interface_1gafc5c312967d11e184cadad66015b2d7a" kindref="member">mtg_disable_tra_pos_one_way_mode</ref>(<ref refid="structMTGV2__Type" kindref="compound">MTGV2_Type</ref><sp/>*base,<sp/>uint8_t<sp/>tra_index)</highlight></codeline>
<codeline lineno="148"><highlight class="normal">{</highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1a55b02aa134fd63ff0d24193d97f65b8c" kindref="member">TRA</ref>[tra_index].<ref refid="structMTGV2__Type_1a1b356a70e3edf7a7b10237598c455c3f" kindref="member">STEP_LIMIT_CTRL</ref><sp/>&amp;=<sp/><ref refid="hpm__mtgv2__regs_8h_1a3c0d885386164f1b88be89bf665194b2" kindref="member">~MTGV2_TRA_STEP_LIMIT_CTRL_POS_ONE_WAY_EN_MASK</ref>;</highlight></codeline>
<codeline lineno="150"><highlight class="normal">}</highlight></codeline>
<codeline lineno="151"><highlight class="normal"></highlight></codeline>
<codeline lineno="152"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group__mtg__interface_1gaba8d720ea360fd9431062e6561bc6964" kindref="member">mtg_setup_tra_vel_one_way</ref>(<ref refid="structMTGV2__Type" kindref="compound">MTGV2_Type</ref><sp/>*base,<sp/>uint8_t<sp/>tra_index,<sp/><ref refid="group__mtg__interface_1ga1dbb02181b504c0f8fefab47def03716" kindref="member">vel_one_way_mode_t</ref><sp/>mode,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>enable)</highlight></codeline>
<codeline lineno="153"><highlight class="normal">{</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(tra_index<sp/>&lt;<sp/>2);</highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(enable)<sp/>{</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(mode)<sp/>{</highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__mtg__interface_1ggac4cd261755802394de64ff78975be155a37bcc7497a45b6d67fb25014416a9e42" kindref="member">bigger_or_eq_zero</ref>:</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1a55b02aa134fd63ff0d24193d97f65b8c" kindref="member">TRA</ref>[tra_index].<ref refid="structMTGV2__Type_1ac48c3898884ccaf1fe3ca1cd4c70bb7f" kindref="member">CONTROL</ref><sp/>|=<sp/><ref refid="hpm__mtgv2__regs_8h_1a0af3350ef8fa8938e6956031599890bb" kindref="member">MTGV2_TRA_STEP_LIMIT_CTRL_VEL_ONE_WAY_EN_SET</ref>(1)<sp/>|</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="hpm__mtgv2__regs_8h_1a7c3d003bbcdd00b91ee6db8ca5cbfa5b" kindref="member">MTGV2_TRA_STEP_LIMIT_CTRL_VEL_ONE_WAY_MODE_SET</ref>(1);</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__mtg__interface_1ggac4cd261755802394de64ff78975be155a5ed0f6ce61295ba5f7192a20a53570d7" kindref="member">smaller_or_eq_zero</ref>:</highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1a55b02aa134fd63ff0d24193d97f65b8c" kindref="member">TRA</ref>[tra_index].<ref refid="structMTGV2__Type_1ac48c3898884ccaf1fe3ca1cd4c70bb7f" kindref="member">CONTROL</ref><sp/>&amp;=<sp/><ref refid="hpm__mtgv2__regs_8h_1a14320656305a6daf1c743725f9877e55" kindref="member">~MTGV2_TRA_STEP_LIMIT_CTRL_VEL_ONE_WAY_MODE_MASK</ref>;</highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1a55b02aa134fd63ff0d24193d97f65b8c" kindref="member">TRA</ref>[tra_index].<ref refid="structMTGV2__Type_1ac48c3898884ccaf1fe3ca1cd4c70bb7f" kindref="member">CONTROL</ref><sp/>|=<sp/><ref refid="hpm__mtgv2__regs_8h_1a0af3350ef8fa8938e6956031599890bb" kindref="member">MTGV2_TRA_STEP_LIMIT_CTRL_VEL_ONE_WAY_EN_SET</ref>(1);</highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1a55b02aa134fd63ff0d24193d97f65b8c" kindref="member">TRA</ref>[tra_index].<ref refid="structMTGV2__Type_1ac48c3898884ccaf1fe3ca1cd4c70bb7f" kindref="member">CONTROL</ref><sp/>&amp;=<sp/><ref refid="hpm__mtgv2__regs_8h_1a3770be96177c254080b24a87c7a7ffc0" kindref="member">~MTGV2_TRA_STEP_LIMIT_CTRL_VEL_ONE_WAY_EN_MASK</ref>;</highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="169"><highlight class="normal">}</highlight></codeline>
<codeline lineno="170"><highlight class="normal"></highlight></codeline>
<codeline lineno="171"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group__mtg__interface_1ga523aa44ab388d52f7d530ccb77c07980" kindref="member">mtg_filter_get_default_filter_stage_param</ref>(<ref refid="group__mtg__interface_1ga508b7a6d8072a97c93093ceb79ba537b" kindref="member">mtg_filter_param_t</ref><sp/>*param)</highlight></codeline>
<codeline lineno="172"><highlight class="normal">{</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/>param-&gt;<ref refid="structmtg__filter__param_1ab32618b5686488948e8895d03616f7e4" kindref="member">err_init</ref><sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/>param-&gt;<ref refid="structmtg__filter__param_1a9e99859211d6757c9b790d811731ddb1" kindref="member">err_bypass_mode</ref><sp/>=<sp/><ref refid="group__mtg__interface_1gga765d19533ac9647907d38be4eea17f74a49199782d36920b9f3f0f932bebd87ea" kindref="member">mtg_filter_err_bypass_mode_hw</ref>;</highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/>param-&gt;<ref refid="structmtg__filter__param_1a1efbbc2a502db410341c649ed0ed4368" kindref="member">first_load_mode</ref><sp/>=<sp/><ref refid="group__mtg__interface_1gga9b9b3361a7725d96b167acbbe1b959a1a1982656172905a53a6058facec747ecb" kindref="member">mtg_filter_first_load_mode_without_acc</ref>;</highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/>param-&gt;<ref refid="structmtg__filter__param_1ad547eae66d4aa2c779f4f4097c3ffd9b" kindref="member">err_bypass_f_i_en</ref><sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/>param-&gt;<ref refid="structmtg__filter__param_1a2547a541d497ba9364e384a9a0b7d03e" kindref="member">err_bypass_i_f_en</ref><sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/>param-&gt;<ref refid="structmtg__filter__param_1a020b54258ea802a611ef5ad7f152a224" kindref="member">filter_time_constant_tp</ref><sp/>=<sp/>50000<sp/>/<sp/>5;</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/>param-&gt;<ref refid="structmtg__filter__param_1a617bf525c7a44aabb88fe0566a9fc419" kindref="member">filter_time_constant_tz</ref><sp/>=<sp/>1000000<sp/>/<sp/>5;</highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/>param-&gt;<ref refid="structmtg__filter__param_1a9db83006cd5042aded9d978a86f2c788" kindref="member">filter_time_constant_tz_1</ref><sp/>=<sp/>1000000<sp/>/<sp/>5;</highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/>param-&gt;<ref refid="structmtg__filter__param_1af47cfe2275f97384f5887be7fc04e9aa" kindref="member">filter_gain</ref><sp/>=<sp/><ref refid="hpm__mtgv2__regs_8h_1a0b18efbe8b8d0ac8b1a9316dfd24c733" kindref="member">MTGV2_FILTER_GAIN_GAIN_T0_EN_SET</ref>(1)<sp/>|</highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="hpm__mtgv2__regs_8h_1a058c5b8d890beb76491a0a57bcc5f33f" kindref="member">MTGV2_FILTER_GAIN_GAIN_T1_EN_SET</ref>(0)<sp/>|</highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="hpm__mtgv2__regs_8h_1aed6b99507ae4e48039beec417651c6d4" kindref="member">MTGV2_FILTER_GAIN_K_SET</ref>(256);</highlight></codeline>
<codeline lineno="184"><highlight class="normal"></highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/>param-&gt;<ref refid="structmtg__filter__param_1a0f3f2ecd3e77928128860a1d68d041e9" kindref="member">filter_stage_shift</ref>[0]<sp/>=<sp/><ref refid="hpm__mtgv2__regs_8h_1a9c542e2fc1dfac0678c331726f0987b0" kindref="member">MTGV2_FILTER_STAGE_SHIFT0_STAGE3_SHIFT1_SET</ref>(5);</highlight></codeline>
<codeline lineno="186"><highlight class="normal"></highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/>param-&gt;<ref refid="structmtg__filter__param_1a0f3f2ecd3e77928128860a1d68d041e9" kindref="member">filter_stage_shift</ref>[1]<sp/>=<sp/><ref refid="hpm__mtgv2__regs_8h_1ab105b7ee73f8b3d2e1f9f9d1068fb5f2" kindref="member">MTGV2_FILTER_STAGE_SHIFT1_STAGE5_SHIFT1_SET</ref>(7);</highlight></codeline>
<codeline lineno="188"><highlight class="normal"></highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/>param-&gt;<ref refid="structmtg__filter__param_1aed8154a6ce7abf32f2a7da59a5181806" kindref="member">filter_param_shift</ref><sp/>=<sp/><ref refid="hpm__mtgv2__regs_8h_1a58f61f6e20c92c4050c6676625cf538a" kindref="member">MTGV2_FILTER_PARAM_SHIFT_ACC_SHIFT_PARAM_SET</ref>(0)<sp/>|</highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="hpm__mtgv2__regs_8h_1af8952d24509e8473d795610eb5e5510d" kindref="member">MTGV2_FILTER_PARAM_SHIFT_VEL_SHIFT_PARAM_SET</ref>(7)<sp/>|</highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="hpm__mtgv2__regs_8h_1ac81c6616ab730e4d93b16910c24ba655" kindref="member">MTGV2_FILTER_PARAM_SHIFT_GAIN_K_SHIFT_SET</ref>(6)<sp/>|</highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="hpm__mtgv2__regs_8h_1a4f14f6e3bce07ca4206b3561f1b91882" kindref="member">MTGV2_FILTER_PARAM_SHIFT_GAIN_T0_SHIFT_SET</ref>(4)<sp/>|</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="hpm__mtgv2__regs_8h_1aeb7e912aede5b0072fb06ef2d4f3d320" kindref="member">MTGV2_FILTER_PARAM_SHIFT_GAIN_T1_SHIFT_SET</ref>(3);</highlight></codeline>
<codeline lineno="194"><highlight class="normal"></highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/>param-&gt;<ref refid="structmtg__filter__param_1a5046a8d66670b91885df241d45389eac" kindref="member">filter_time_shift</ref><sp/>=<sp/><ref refid="hpm__mtgv2__regs_8h_1ad1720efa3d96e26ea55786d71de22c91" kindref="member">MTGV2_FILTER_TIME_SHIFT_ACC_SHIFT_TIME1_SET</ref>(7)<sp/>|</highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="hpm__mtgv2__regs_8h_1a1e7305b59ac40c10bd65d8c6b8959d0b" kindref="member">MTGV2_FILTER_TIME_SHIFT_VEL_SHIFT_TIME1_SET</ref>(7)<sp/>|</highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="hpm__mtgv2__regs_8h_1a9ee7ced393f5678718d635b2c4b91447" kindref="member">MTGV2_FILTER_TIME_SHIFT_ACC_SHIFT_TIME0_SET</ref>(7)<sp/>|</highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="hpm__mtgv2__regs_8h_1a7236d0867762ea6255c9cb43707ff512" kindref="member">MTGV2_FILTER_TIME_SHIFT_VEL_SHIFT_TIME0_SET</ref>(7);</highlight></codeline>
<codeline lineno="199"><highlight class="normal"></highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/>param-&gt;<ref refid="structmtg__filter__param_1acff79e831c1db1f7e49b5726f9de3306" kindref="member">filter_ff_shift</ref><sp/>=<sp/><ref refid="hpm__mtgv2__regs_8h_1af825978f9c015a5c8fc0918b8182a3dd" kindref="member">MTGV2_FILTER_FF_SHIFT_OUTPUT_ACC_SHIFT_SET</ref>(3)<sp/>|</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="hpm__mtgv2__regs_8h_1ac087ed1c1c70fc7039c34f547c703977" kindref="member">MTGV2_FILTER_FF_SHIFT_FILTER_ACC_SHIFT_SET</ref>(3)<sp/>|</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="hpm__mtgv2__regs_8h_1a1c1e7862afdc8782be951ee3634a360a" kindref="member">MTGV2_FILTER_FF_SHIFT_OUTPUT_VEL_SHIFT_SET</ref>(3)<sp/>|</highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="hpm__mtgv2__regs_8h_1a31c98a509b63cbad5f36b631bd98b0db" kindref="member">MTGV2_FILTER_FF_SHIFT_FILTER_VEL_SHIFT_SET</ref>(3);</highlight></codeline>
<codeline lineno="204"><highlight class="normal"></highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/>param-&gt;<ref refid="structmtg__filter__param_1a5a65de576ec47cb36eb0df90a4d1e5d7" kindref="member">vel_init_value</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/>param-&gt;<ref refid="structmtg__filter__param_1a5dcef5e21a9e1f49633effb42775fa75" kindref="member">acc_init_value</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/>param-&gt;<ref refid="structmtg__filter__param_1a644a23f7a0e592bb67a2dace143e0819" kindref="member">timeout_en</ref><sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="208"><highlight class="normal">}</highlight></codeline>
<codeline lineno="209"><highlight class="normal"></highlight></codeline>
<codeline lineno="210"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group__mtg__interface_1ga23e51f8877dac645299e3b279110d4c9" kindref="member">mtg_setup_filter</ref>(<ref refid="structMTGV2__Type" kindref="compound">MTGV2_Type</ref><sp/>*base,<sp/><ref refid="group__mtg__interface_1ga508b7a6d8072a97c93093ceb79ba537b" kindref="member">mtg_filter_param_t</ref><sp/>*param)</highlight></codeline>
<codeline lineno="211"><highlight class="normal">{</highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1a3e96917ec5fdaa586ae03ea9f44d33f4" kindref="member">FILTER_STAGE_SHIFT0</ref><sp/>=<sp/>param-&gt;<ref refid="structmtg__filter__param_1a0f3f2ecd3e77928128860a1d68d041e9" kindref="member">filter_stage_shift</ref>[0];</highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1af97f3d13fb010d60c72dc96f2bde67a9" kindref="member">FILTER_STAGE_SHIFT1</ref><sp/>=<sp/>param-&gt;<ref refid="structmtg__filter__param_1a0f3f2ecd3e77928128860a1d68d041e9" kindref="member">filter_stage_shift</ref>[1];</highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1a045ec1dd5cb8f8e00e18ad1ffae2258a" kindref="member">FILTER_TIME_CONSTANT_TP</ref><sp/>=<sp/>param-&gt;<ref refid="structmtg__filter__param_1a020b54258ea802a611ef5ad7f152a224" kindref="member">filter_time_constant_tp</ref>;</highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1abf007d8464963cf61ecc9e4124a5c740" kindref="member">FILTER_TIME_CONSTANT_TZ</ref><sp/>=<sp/>param-&gt;<ref refid="structmtg__filter__param_1a617bf525c7a44aabb88fe0566a9fc419" kindref="member">filter_time_constant_tz</ref>;</highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1ab50cc49256ec4bfcb44c7af5df28cb30" kindref="member">FILTER_TIME_CONSTANT_TZ_1</ref><sp/>=<sp/>param-&gt;<ref refid="structmtg__filter__param_1a9db83006cd5042aded9d978a86f2c788" kindref="member">filter_time_constant_tz_1</ref>;</highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1a4019f5819a3fd842824b0909805b0d09" kindref="member">FILTER_GAIN</ref><sp/>=<sp/>param-&gt;<ref refid="structmtg__filter__param_1af47cfe2275f97384f5887be7fc04e9aa" kindref="member">filter_gain</ref>;</highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1aa72efc5369005dd85454a4549cacac95" kindref="member">FILTER_PARAM_SHIFT</ref><sp/>=<sp/>param-&gt;<ref refid="structmtg__filter__param_1aed8154a6ce7abf32f2a7da59a5181806" kindref="member">filter_param_shift</ref>;</highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1a1b17127389ac863070dddefb339fd714" kindref="member">FILTER_TIME_SHIFT</ref><sp/>=<sp/>param-&gt;<ref refid="structmtg__filter__param_1a5046a8d66670b91885df241d45389eac" kindref="member">filter_time_shift</ref>;</highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1aeb598927218c8c7332436c5169b2c7c8" kindref="member">FILTER_FF_SHIFT</ref><sp/>=<sp/>param-&gt;<ref refid="structmtg__filter__param_1acff79e831c1db1f7e49b5726f9de3306" kindref="member">filter_ff_shift</ref>;</highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1aca3b031b5055a0825680fe4403347b5a" kindref="member">FILTER_ACC_FF</ref><sp/>=<sp/>param-&gt;<ref refid="structmtg__filter__param_1a5dcef5e21a9e1f49633effb42775fa75" kindref="member">acc_init_value</ref>;</highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1ac13dfbddaf81da3770e7679d15304ea0" kindref="member">FILTER_VEL_FF</ref><sp/>=<sp/>param-&gt;<ref refid="structmtg__filter__param_1a5a65de576ec47cb36eb0df90a4d1e5d7" kindref="member">vel_init_value</ref>;</highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/><sp/>uint32_t<sp/>mask<sp/>=<sp/><ref refid="hpm__mtgv2__regs_8h_1aca3e8f5c54d21079ce6df20b230577ca" kindref="member">MTGV2_FILTER_CONTROL_ERR_INIT_EN_MASK</ref><sp/>|<sp/><ref refid="hpm__mtgv2__regs_8h_1af86f755baa8efe43c430f39b7cc08d54" kindref="member">MTGV2_FILTER_CONTROL_ERR_BYPASS_EN_MASK</ref><sp/>|<sp/>\</highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="hpm__mtgv2__regs_8h_1a2f7987b08d9ca4e7545941a0ed6f0016" kindref="member">MTGV2_FILTER_CONTROL_ERR_BYPASS_MODE_MASK</ref><sp/>|<sp/><ref refid="hpm__mtgv2__regs_8h_1a46cc8ddd23f17598cd0a7191c30b6005" kindref="member">MTGV2_FILTER_CONTROL_ERR_BYPASS_I_F_EN_MASK</ref><sp/>|<sp/>\</highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="hpm__mtgv2__regs_8h_1a9cbef76c324d044a9bdc2f241b90c08f" kindref="member">MTGV2_FILTER_CONTROL_ERR_BYPASS_F_I_EN_MASK</ref><sp/>|<sp/><ref refid="hpm__mtgv2__regs_8h_1a0e5155a546bf2d664cf644abcf7ab68a" kindref="member">MTGV2_FILTER_CONTROL_SW_LOCK_MASK</ref><sp/>|<sp/>\</highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="hpm__mtgv2__regs_8h_1ab5f46eb20b2d0cf4b31b627d13e2b12d" kindref="member">MTGV2_FILTER_CONTROL_TIMEOUT_EN_MASK</ref><sp/>|<sp/><ref refid="hpm__mtgv2__regs_8h_1aad018c37a4d38ccf4c2deaead78bafe1" kindref="member">MTGV2_FILTER_CONTROL_A_EN_MASK</ref><sp/>|<sp/>\</highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="hpm__mtgv2__regs_8h_1abfe3045651eb616caf5c79cd5dfceba2" kindref="member">MTGV2_FILTER_CONTROL_FF_MODE_MASK</ref><sp/>|<sp/><ref refid="hpm__mtgv2__regs_8h_1aa5f9d30fbe62aba1d5fc5d2b08db1732" kindref="member">MTGV2_FILTER_CONTROL_FF_EN_MASK</ref><sp/>|<sp/>\</highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="hpm__mtgv2__regs_8h_1add3c99c1b5736559b800be72e6d65b7b" kindref="member">MTGV2_FILTER_CONTROL_FIRST_LOAD_MODE_MASK</ref><sp/>|<sp/><ref refid="hpm__mtgv2__regs_8h_1a0302f65a7cee45912e8a7e02a174f097" kindref="member">MTGV2_FILTER_CONTROL_ENABLE_MASK</ref>;</highlight></codeline>
<codeline lineno="229"><highlight class="normal"></highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/><sp/><sp/>uint32_t<sp/>tmp<sp/>=<sp/><ref refid="hpm__mtgv2__regs_8h_1adfc31736333d72389ba1552cc88e23b2" kindref="member">MTGV2_FILTER_CONTROL_ERR_INIT_EN_SET</ref>(param-&gt;<ref refid="structmtg__filter__param_1ab32618b5686488948e8895d03616f7e4" kindref="member">err_init</ref>)<sp/>|</highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="hpm__mtgv2__regs_8h_1a8d4ab6a62155158a136ab44137674b10" kindref="member">MTGV2_FILTER_CONTROL_ERR_BYPASS_EN_SET</ref>(param-&gt;<ref refid="structmtg__filter__param_1a90fc0205628a7862da07d053d9446b23" kindref="member">err_bypass_en</ref>)<sp/>|</highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="hpm__mtgv2__regs_8h_1ac6bf5393035dc7e6b9c580341cca4545" kindref="member">MTGV2_FILTER_CONTROL_ERR_BYPASS_MODE_SET</ref>(param-&gt;<ref refid="structmtg__filter__param_1a9e99859211d6757c9b790d811731ddb1" kindref="member">err_bypass_mode</ref>)<sp/>|</highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="hpm__mtgv2__regs_8h_1aa98989527b94688f2414aa79b95a9208" kindref="member">MTGV2_FILTER_CONTROL_ERR_BYPASS_I_F_EN_SET</ref>(param-&gt;<ref refid="structmtg__filter__param_1a2547a541d497ba9364e384a9a0b7d03e" kindref="member">err_bypass_i_f_en</ref>)<sp/>|</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="hpm__mtgv2__regs_8h_1ae5d9d04ff0d45a2bd742c9d9be71f2e6" kindref="member">MTGV2_FILTER_CONTROL_ERR_BYPASS_F_I_EN_SET</ref>(param-&gt;<ref refid="structmtg__filter__param_1ad547eae66d4aa2c779f4f4097c3ffd9b" kindref="member">err_bypass_f_i_en</ref>)<sp/>|</highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="hpm__mtgv2__regs_8h_1af074d3c4f8bbb9a589116385a39a0aba" kindref="member">MTGV2_FILTER_CONTROL_A_EN_SET</ref>(param-&gt;<ref refid="structmtg__filter__param_1a2e9062c3795d3c4e475a5271fa90811b" kindref="member">acceleration_en</ref>)<sp/>|</highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="hpm__mtgv2__regs_8h_1aa935e9395a614fb2544fed68007d9f32" kindref="member">MTGV2_FILTER_CONTROL_FF_MODE_SET</ref>(param-&gt;<ref refid="structmtg__filter__param_1a57c51b9cb0810020df825c6552ac0aca" kindref="member">ff_mode</ref>)<sp/>|</highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="hpm__mtgv2__regs_8h_1ab1857760d6bf3588df1a9aef793a0f22" kindref="member">MTGV2_FILTER_CONTROL_FF_EN_SET</ref>(param-&gt;<ref refid="structmtg__filter__param_1a2d87e8af1eee4ad743bf4bd463166250" kindref="member">ff_en</ref>)<sp/>|</highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="hpm__mtgv2__regs_8h_1af6d5c422b51162a6b2c4d4b2a8e7ec4b" kindref="member">MTGV2_FILTER_CONTROL_FIRST_LOAD_MODE_SET</ref>(param-&gt;<ref refid="structmtg__filter__param_1a1efbbc2a502db410341c649ed0ed4368" kindref="member">first_load_mode</ref>)<sp/>|</highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="hpm__mtgv2__regs_8h_1a11cb2654ed3411f477aab98de1be7411" kindref="member">MTGV2_FILTER_CONTROL_ENABLE_SET</ref>(param-&gt;<ref refid="structmtg__filter__param_1aa0c505c807c2e08ec917968fcf132287" kindref="member">enable</ref>);</highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1a3ed2613c41e7b8c668345ed32b705aae" kindref="member">FILTER_CONTROL</ref><sp/>&amp;=<sp/>~mask;</highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1a3ed2613c41e7b8c668345ed32b705aae" kindref="member">FILTER_CONTROL</ref><sp/>|=<sp/>tmp;</highlight></codeline>
<codeline lineno="242"><highlight class="normal">}</highlight></codeline>
<codeline lineno="243"><highlight class="normal"></highlight></codeline>
<codeline lineno="244"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group__mtg__interface_1ga0b27429c5645c8b423257eee9659b985" kindref="member">mtg_setup_time</ref>(<ref refid="structMTGV2__Type" kindref="compound">MTGV2_Type</ref><sp/>*base,<sp/><ref refid="group__mtg__interface_1gaf644f1c7e70226f08deb70b5a5262241" kindref="member">mtg_time_init_param_t</ref><sp/>*param)</highlight></codeline>
<codeline lineno="245"><highlight class="normal">{</highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(param-&gt;<ref refid="structmtg__time__init__param_1a9993b87ad84efdc54350ebc8f7c86c8e" kindref="member">enable</ref>)<sp/>{</highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(param-&gt;<ref refid="structmtg__time__init__param_1a600e294c96ce02a60ccd7c95e3ef9a4a" kindref="member">index</ref><sp/>==<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1adeae723db9a0af34e8196f83bdb76811" kindref="member">FILTER_TIME0_SW_ADJUST</ref><sp/>=<sp/>param-&gt;<ref refid="structmtg__time__init__param_1af32c0f133b559747b0cf8fdc0e42d0cb" kindref="member">adjust_value</ref>;</highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1a3ed2613c41e7b8c668345ed32b705aae" kindref="member">FILTER_CONTROL</ref><sp/>&amp;=<sp/><ref refid="hpm__mtgv2__regs_8h_1a524bb762931a3eccc7c5e5cffb4507f5" kindref="member">~MTGV2_FILTER_CONTROL_SEL_TIME0_MASK</ref>;</highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1a3ed2613c41e7b8c668345ed32b705aae" kindref="member">FILTER_CONTROL</ref><sp/>|=<sp/><ref refid="hpm__mtgv2__regs_8h_1aadf59f7c9275f5959e0c77ecf74cf239" kindref="member">MTGV2_FILTER_CONTROL_SEL_TIME0_SET</ref>(param-&gt;<ref refid="structmtg__time__init__param_1a91f52c838875254c36798f3e19ab544b" kindref="member">source</ref>);</highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1a3ed2613c41e7b8c668345ed32b705aae" kindref="member">FILTER_CONTROL</ref><sp/>|=<sp/><ref refid="hpm__mtgv2__regs_8h_1a3f35497ef3c9c8282636225a936ddda1" kindref="member">MTGV2_FILTER_CONTROL_EN_TIME0_SET</ref>(1);</highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(param-&gt;<ref refid="structmtg__time__init__param_1a600e294c96ce02a60ccd7c95e3ef9a4a" kindref="member">index</ref><sp/>==<sp/>1)<sp/>{</highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1afc96b55ef3c7f2fac2c386cacca8be58" kindref="member">FILTER_TIME1_SW_ADJUST</ref><sp/>=<sp/>param-&gt;<ref refid="structmtg__time__init__param_1af32c0f133b559747b0cf8fdc0e42d0cb" kindref="member">adjust_value</ref>;</highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1a3ed2613c41e7b8c668345ed32b705aae" kindref="member">FILTER_CONTROL</ref><sp/>&amp;=<sp/><ref refid="hpm__mtgv2__regs_8h_1ad2fd42837ea13d1619934f016674f122" kindref="member">~MTGV2_FILTER_CONTROL_SEL_TIME1_MASK</ref>;</highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1a3ed2613c41e7b8c668345ed32b705aae" kindref="member">FILTER_CONTROL</ref><sp/>|=<sp/><ref refid="hpm__mtgv2__regs_8h_1a40f2f06a33308a308729e4c262fb778b" kindref="member">MTGV2_FILTER_CONTROL_SEL_TIME1_SET</ref>(param-&gt;<ref refid="structmtg__time__init__param_1a91f52c838875254c36798f3e19ab544b" kindref="member">source</ref>);</highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1a3ed2613c41e7b8c668345ed32b705aae" kindref="member">FILTER_CONTROL</ref><sp/>|=<sp/><ref refid="hpm__mtgv2__regs_8h_1aa78a16ad85e47078e1f836e131e8afb4" kindref="member">MTGV2_FILTER_CONTROL_EN_TIME1_SET</ref>(1);</highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(param-&gt;<ref refid="structmtg__time__init__param_1a600e294c96ce02a60ccd7c95e3ef9a4a" kindref="member">index</ref><sp/>==<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1a3ed2613c41e7b8c668345ed32b705aae" kindref="member">FILTER_CONTROL</ref><sp/>&amp;=<sp/><ref refid="hpm__mtgv2__regs_8h_1a1727751d41d53692360192945a3d23c0" kindref="member">~MTGV2_FILTER_CONTROL_EN_TIME0_MASK</ref>;</highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(param-&gt;<ref refid="structmtg__time__init__param_1a600e294c96ce02a60ccd7c95e3ef9a4a" kindref="member">index</ref><sp/>==<sp/>1)<sp/>{</highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1a3ed2613c41e7b8c668345ed32b705aae" kindref="member">FILTER_CONTROL</ref><sp/>&amp;=<sp/><ref refid="hpm__mtgv2__regs_8h_1a7496d551d61ba3732042a3140d7b95d4" kindref="member">~MTGV2_FILTER_CONTROL_EN_TIME1_MASK</ref>;</highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="265"><highlight class="normal">}</highlight></codeline>
<codeline lineno="266"><highlight class="normal"></highlight></codeline>
<codeline lineno="267"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group__mtg__interface_1ga139b02c70c9a3cc55eabfe2b23d7df11" kindref="member">mtg_setup_timeout</ref>(<ref refid="structMTGV2__Type" kindref="compound">MTGV2_Type</ref><sp/>*base,<sp/><ref refid="group__mtg__interface_1ga958c967ec5a5f1b7435f0bb288957dcf" kindref="member">mtg_timeout_param_t</ref><sp/>*param)</highlight></codeline>
<codeline lineno="268"><highlight class="normal">{</highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(param-&gt;<ref refid="structmtg__timeout__param_1a7234651c44108facfea68dd11681fe4e" kindref="member">enable</ref>)<sp/>{</highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1a3fe65d058193c5e7040bf0f9244bcaa3" kindref="member">FILTER_TIMEOUT_CNT</ref><sp/>=<sp/>param-&gt;<ref refid="structmtg__timeout__param_1a880d6b855f7b1484ee66d91d672b4143" kindref="member">timeout_clock_count</ref>;</highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1a3ed2613c41e7b8c668345ed32b705aae" kindref="member">FILTER_CONTROL</ref><sp/>|=<sp/><ref refid="hpm__mtgv2__regs_8h_1a44e179831eb3c85a895a7268583c97c5" kindref="member">MTGV2_FILTER_CONTROL_TIMEOUT_EN_SET</ref>(1);</highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1a3ed2613c41e7b8c668345ed32b705aae" kindref="member">FILTER_CONTROL</ref><sp/>&amp;=<sp/><ref refid="hpm__mtgv2__regs_8h_1ab5f46eb20b2d0cf4b31b627d13e2b12d" kindref="member">~MTGV2_FILTER_CONTROL_TIMEOUT_EN_MASK</ref>;</highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="275"><highlight class="normal">}</highlight></codeline>
<codeline lineno="276"><highlight class="normal"></highlight></codeline>
<codeline lineno="277"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group__mtg__interface_1ga2b63efd18bbc01bab02e8b1b1db996b6" kindref="member">mtg_setup_link_cfg</ref>(<ref refid="structMTGV2__Type" kindref="compound">MTGV2_Type</ref><sp/>*base,<sp/>uint8_t<sp/>tra_index,<sp/><ref refid="group__mtg__interface_1ga616d2b3d8663c1d6bbac7ed6a8f37fb1" kindref="member">mtg_link_cfg_t</ref><sp/>link_cfg,<sp/><ref refid="group__mtg__interface_1ga25c32bd8756490eea1edb7e0f1c96992" kindref="member">mtg_tra_cmd_cfg_t</ref><sp/>*cmd_cfg)</highlight></codeline>
<codeline lineno="278"><highlight class="normal">{</highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/><sp/><sp/>assert((tra_index<sp/>&lt;<sp/>2)<sp/>&amp;&amp;<sp/>(cmd_cfg-&gt;<ref refid="structmtg__tra__cmd__cfg_1afec838a8bb0e3b7d50abcd0ca907662d" kindref="member">index</ref><sp/>&lt;<sp/>4));</highlight></codeline>
<codeline lineno="280"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(cmd_cfg-&gt;<ref refid="structmtg__tra__cmd__cfg_1afec838a8bb0e3b7d50abcd0ca907662d" kindref="member">index</ref>)<sp/>{</highlight></codeline>
<codeline lineno="281"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>0:</highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1a55b02aa134fd63ff0d24193d97f65b8c" kindref="member">TRA</ref>[tra_index].<ref refid="structMTGV2__Type_1a65fd0fe53f2065fe3fde83dc7d9a305a" kindref="member">LINK</ref><sp/>&amp;=<sp/><ref refid="hpm__mtgv2__regs_8h_1a024cc8504e4a9c917b052356dc239145" kindref="member">~MTGV2_TRA_LINK_LINK_CFG_0_MASK</ref>;</highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1a55b02aa134fd63ff0d24193d97f65b8c" kindref="member">TRA</ref>[tra_index].<ref refid="structMTGV2__Type_1a65fd0fe53f2065fe3fde83dc7d9a305a" kindref="member">LINK</ref><sp/>|=<sp/><ref refid="hpm__mtgv2__regs_8h_1a04dd76bf4dffe0b0021a944f2ae3e93b" kindref="member">MTGV2_TRA_LINK_LINK_CFG_0_SET</ref>(link_cfg);</highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>1:</highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1a55b02aa134fd63ff0d24193d97f65b8c" kindref="member">TRA</ref>[tra_index].<ref refid="structMTGV2__Type_1a65fd0fe53f2065fe3fde83dc7d9a305a" kindref="member">LINK</ref><sp/>&amp;=<sp/><ref refid="hpm__mtgv2__regs_8h_1a6968ec360997bb91bb2a728d8f72e757" kindref="member">~MTGV2_TRA_LINK_LINK_CFG_1_MASK</ref>;</highlight></codeline>
<codeline lineno="287"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1a55b02aa134fd63ff0d24193d97f65b8c" kindref="member">TRA</ref>[tra_index].<ref refid="structMTGV2__Type_1a65fd0fe53f2065fe3fde83dc7d9a305a" kindref="member">LINK</ref><sp/>|=<sp/><ref refid="hpm__mtgv2__regs_8h_1aa3b1fe27fe7c0b0818fdc96410c00a5f" kindref="member">MTGV2_TRA_LINK_LINK_CFG_1_SET</ref>(link_cfg);</highlight></codeline>
<codeline lineno="288"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>2:</highlight></codeline>
<codeline lineno="290"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1a55b02aa134fd63ff0d24193d97f65b8c" kindref="member">TRA</ref>[tra_index].<ref refid="structMTGV2__Type_1a65fd0fe53f2065fe3fde83dc7d9a305a" kindref="member">LINK</ref><sp/>&amp;=<sp/><ref refid="hpm__mtgv2__regs_8h_1ac5f9492be36ad0a3ef6b5974ea232b45" kindref="member">~MTGV2_TRA_LINK_LINK_CFG_2_MASK</ref>;</highlight></codeline>
<codeline lineno="291"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1a55b02aa134fd63ff0d24193d97f65b8c" kindref="member">TRA</ref>[tra_index].<ref refid="structMTGV2__Type_1a65fd0fe53f2065fe3fde83dc7d9a305a" kindref="member">LINK</ref><sp/>|=<sp/><ref refid="hpm__mtgv2__regs_8h_1a05d033fbed020b4822938cbaa54e59e4" kindref="member">MTGV2_TRA_LINK_LINK_CFG_2_SET</ref>(link_cfg);</highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>3:</highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1a55b02aa134fd63ff0d24193d97f65b8c" kindref="member">TRA</ref>[tra_index].<ref refid="structMTGV2__Type_1a65fd0fe53f2065fe3fde83dc7d9a305a" kindref="member">LINK</ref><sp/>&amp;=<sp/><ref refid="hpm__mtgv2__regs_8h_1a23d2cca0f6b058149415019087468807" kindref="member">~MTGV2_TRA_LINK_LINK_CFG_3_MASK</ref>;</highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1a55b02aa134fd63ff0d24193d97f65b8c" kindref="member">TRA</ref>[tra_index].<ref refid="structMTGV2__Type_1a65fd0fe53f2065fe3fde83dc7d9a305a" kindref="member">LINK</ref><sp/>|=<sp/><ref refid="hpm__mtgv2__regs_8h_1a60e67e391a665f3f873fa8301321e92d" kindref="member">MTGV2_TRA_LINK_LINK_CFG_3_SET</ref>(link_cfg);</highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="298"><highlight class="normal"></highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1a55b02aa134fd63ff0d24193d97f65b8c" kindref="member">TRA</ref>[tra_index].<ref refid="structMTGV2__Type_1acf453932262023a7945ada9471f4d9c7" kindref="member">CMD</ref>[cmd_cfg-&gt;<ref refid="structmtg__tra__cmd__cfg_1afec838a8bb0e3b7d50abcd0ca907662d" kindref="member">index</ref>].<ref refid="structMTGV2__Type_1a4f1e1cd0c43a5880b9883c3e4826e78b" kindref="member">JER_PRESET</ref><sp/>=<sp/>cmd_cfg-&gt;<ref refid="structmtg__tra__cmd__cfg_1a576f9820bb76485789a8acd85a3e81c6" kindref="member">jer_preset</ref>;</highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1a55b02aa134fd63ff0d24193d97f65b8c" kindref="member">TRA</ref>[tra_index].<ref refid="structMTGV2__Type_1acf453932262023a7945ada9471f4d9c7" kindref="member">CMD</ref>[cmd_cfg-&gt;<ref refid="structmtg__tra__cmd__cfg_1afec838a8bb0e3b7d50abcd0ca907662d" kindref="member">index</ref>].<ref refid="structMTGV2__Type_1aefab62a0afce0d8fbfa454c7c980f07f" kindref="member">ACC_PRESET</ref><sp/>=<sp/>cmd_cfg-&gt;<ref refid="structmtg__tra__cmd__cfg_1a64065063de3db33392d47f3eda58692e" kindref="member">acc_preset</ref>;</highlight></codeline>
<codeline lineno="301"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1a55b02aa134fd63ff0d24193d97f65b8c" kindref="member">TRA</ref>[tra_index].<ref refid="structMTGV2__Type_1acf453932262023a7945ada9471f4d9c7" kindref="member">CMD</ref>[cmd_cfg-&gt;<ref refid="structmtg__tra__cmd__cfg_1afec838a8bb0e3b7d50abcd0ca907662d" kindref="member">index</ref>].<ref refid="structMTGV2__Type_1a34ae5715aca40bc8f61a4273a4aba96e" kindref="member">VEL_PRESET</ref><sp/>=<sp/>cmd_cfg-&gt;<ref refid="structmtg__tra__cmd__cfg_1a39ea2b9be37d695f3bc5da8e40123c67" kindref="member">vel_preset</ref>;</highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1a55b02aa134fd63ff0d24193d97f65b8c" kindref="member">TRA</ref>[tra_index].<ref refid="structMTGV2__Type_1acf453932262023a7945ada9471f4d9c7" kindref="member">CMD</ref>[cmd_cfg-&gt;<ref refid="structmtg__tra__cmd__cfg_1afec838a8bb0e3b7d50abcd0ca907662d" kindref="member">index</ref>].<ref refid="structMTGV2__Type_1a0858797754ff8e770a0d2931928412c3" kindref="member">POS_PRESET</ref><sp/>=<sp/>cmd_cfg-&gt;<ref refid="structmtg__tra__cmd__cfg_1a17ce89f8204358d54358f2621cef03ca" kindref="member">pos_preset</ref>;</highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1a55b02aa134fd63ff0d24193d97f65b8c" kindref="member">TRA</ref>[tra_index].<ref refid="structMTGV2__Type_1acf453932262023a7945ada9471f4d9c7" kindref="member">CMD</ref>[cmd_cfg-&gt;<ref refid="structmtg__tra__cmd__cfg_1afec838a8bb0e3b7d50abcd0ca907662d" kindref="member">index</ref>].<ref refid="structMTGV2__Type_1a833094c14fa71549fbdf28d399290407" kindref="member">REV_PRESET</ref><sp/>=<sp/>cmd_cfg-&gt;<ref refid="structmtg__tra__cmd__cfg_1a0365787b988a50c2342b2a51cdc46352" kindref="member">rev_preset</ref>;</highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1a55b02aa134fd63ff0d24193d97f65b8c" kindref="member">TRA</ref>[tra_index].<ref refid="structMTGV2__Type_1acf453932262023a7945ada9471f4d9c7" kindref="member">CMD</ref>[cmd_cfg-&gt;<ref refid="structmtg__tra__cmd__cfg_1afec838a8bb0e3b7d50abcd0ca907662d" kindref="member">index</ref>].<ref refid="structMTGV2__Type_1ac48c3898884ccaf1fe3ca1cd4c70bb7f" kindref="member">CONTROL</ref><sp/>&amp;=<sp/><ref refid="hpm__mtgv2__regs_8h_1ad9a30f8474f134f08d57fad6d4db8d73" kindref="member">~MTGV2_TRA_CMD_CONTROL_MODE_MASK</ref>;</highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1a55b02aa134fd63ff0d24193d97f65b8c" kindref="member">TRA</ref>[tra_index].<ref refid="structMTGV2__Type_1acf453932262023a7945ada9471f4d9c7" kindref="member">CMD</ref>[cmd_cfg-&gt;<ref refid="structmtg__tra__cmd__cfg_1afec838a8bb0e3b7d50abcd0ca907662d" kindref="member">index</ref>].<ref refid="structMTGV2__Type_1ac48c3898884ccaf1fe3ca1cd4c70bb7f" kindref="member">CONTROL</ref><sp/>&amp;=<sp/><ref refid="hpm__mtgv2__regs_8h_1af65640f5b833702ad68780311082b420" kindref="member">~MTGV2_TRA_CMD_CONTROL_OBJECT_MASK</ref>;</highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1a55b02aa134fd63ff0d24193d97f65b8c" kindref="member">TRA</ref>[tra_index].<ref refid="structMTGV2__Type_1acf453932262023a7945ada9471f4d9c7" kindref="member">CMD</ref>[cmd_cfg-&gt;<ref refid="structmtg__tra__cmd__cfg_1afec838a8bb0e3b7d50abcd0ca907662d" kindref="member">index</ref>].<ref refid="structMTGV2__Type_1ac48c3898884ccaf1fe3ca1cd4c70bb7f" kindref="member">CONTROL</ref><sp/>|=<sp/><ref refid="hpm__mtgv2__regs_8h_1a68a23e944227ff0b3063097156e4b03e" kindref="member">MTGV2_TRA_CMD_CONTROL_OBJECT_SET</ref>(cmd_cfg-&gt;<ref refid="structmtg__tra__cmd__cfg_1aa32d67e34260d8b6e68e1dfdbd66d2ec" kindref="member">object</ref>)<sp/>|</highlight></codeline>
<codeline lineno="307"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="hpm__mtgv2__regs_8h_1a09566974fab2420294cfd6a08f132997" kindref="member">MTGV2_TRA_CMD_CONTROL_MODE_SET</ref>(cmd_cfg-&gt;<ref refid="structmtg__tra__cmd__cfg_1adcdacf0de080521ddf023f7c9b9c88d9" kindref="member">mode</ref>);</highlight></codeline>
<codeline lineno="308"><highlight class="normal">}</highlight></codeline>
<codeline lineno="309"><highlight class="normal"></highlight></codeline>
<codeline lineno="310"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group__mtg__interface_1ga06dd36f534f2ade791addd7be4427a7f" kindref="member">mtg_soft_event_trigger</ref>(<ref refid="structMTGV2__Type" kindref="compound">MTGV2_Type</ref><sp/>*base)</highlight></codeline>
<codeline lineno="311"><highlight class="normal">{</highlight></codeline>
<codeline lineno="312"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1a52a952a8289a912f2601082aa8428cbb" kindref="member">SW_EVENT</ref><sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="313"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMTGV2__Type_1a52a952a8289a912f2601082aa8428cbb" kindref="member">SW_EVENT</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="314"><highlight class="normal">}</highlight></codeline>
<codeline lineno="315"><highlight class="normal"></highlight></codeline>
<codeline lineno="316"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group__mtg__interface_1gaa59cb623421ddc63a093a858b2de9389" kindref="member">mtg_get_default_tra_shift</ref>(<ref refid="group__mtg__interface_1ga829e73d7027afc5f4edfcc0fe9789699" kindref="member">mtg_tra_shift_t</ref><sp/>*cfg)</highlight></codeline>
<codeline lineno="317"><highlight class="normal">{</highlight></codeline>
<codeline lineno="318"><highlight class="normal"><sp/><sp/><sp/><sp/>cfg-&gt;<ref refid="structmtg__tra__shift_1af1e51a789b4725ec796830ecc4596cab" kindref="member">jerk_shift</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="319"><highlight class="normal"><sp/><sp/><sp/><sp/>cfg-&gt;<ref refid="structmtg__tra__shift_1a855b97d231944acf2ca350ac6bfb856a" kindref="member">acc_shift</ref><sp/>=<sp/>4;</highlight></codeline>
<codeline lineno="320"><highlight class="normal"><sp/><sp/><sp/><sp/>cfg-&gt;<ref refid="structmtg__tra__shift_1a330a637578097a6cad4c39e24c2b79b5" kindref="member">vel_shift</ref><sp/>=<sp/>8;</highlight></codeline>
<codeline lineno="321"><highlight class="normal">}</highlight></codeline>
    </programlisting>
    <location file="drivers/src/hpm_mtgv2_drv.c"/>
  </compounddef>
</doxygen>
