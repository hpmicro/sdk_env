<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.9.1" xml:lang="en-US">
  <compounddef id="hpm__jpeg__drv_8c" kind="file" language="C++">
    <compoundname>hpm_jpeg_drv.c</compoundname>
    <includes refid="hpm__jpeg__drv_8h" local="yes">hpm_jpeg_drv.h</includes>
    <incdepgraph>
      <node id="5">
        <label>stdbool.h</label>
      </node>
      <node id="3">
        <label>hpm_common.h</label>
        <link refid="hpm__common_8h"/>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
      </node>
      <node id="4">
        <label>assert.h</label>
      </node>
      <node id="6">
        <label>stdint.h</label>
      </node>
      <node id="8">
        <label>stdlib.h</label>
      </node>
      <node id="7">
        <label>string.h</label>
      </node>
      <node id="1">
        <label>drivers/src/hpm_jpeg_drv.c</label>
        <link refid="hpm__jpeg__drv_8c"/>
        <childnode refid="2" relation="include">
        </childnode>
      </node>
      <node id="2">
        <label>hpm_jpeg_drv.h</label>
        <link refid="hpm__jpeg__drv_8h"/>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="9" relation="include">
        </childnode>
      </node>
      <node id="9">
        <label>hpm_jpeg_regs.h</label>
      </node>
    </incdepgraph>
      <sectiondef kind="define">
      <memberdef kind="define" id="hpm__jpeg__drv_8c_1ac6da98df2ca4f393237e771d44a95f20" prot="public" static="no">
        <name>HPM_JPEG_DEFAULT_MAX_OT</name>
        <initializer>(2)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="drivers/src/hpm_jpeg_drv.c" line="10" column="9" bodyfile="drivers/src/hpm_jpeg_drv.c" bodystart="10" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="hpm__jpeg__drv_8c_1a34073d89d30eddaa34ea8c1fe64b3375" prot="public" static="no">
        <name>JPEG_HY</name>
        <param><defname>x</defname></param>
        <initializer>((x)-&gt;hy)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="drivers/src/hpm_jpeg_drv.c" line="95" column="9" bodyfile="drivers/src/hpm_jpeg_drv.c" bodystart="95" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="hpm__jpeg__drv_8c_1a72fd23e771a02ba4b7a55a3182cb3a8f" prot="public" static="no">
        <name>JPEG_VY</name>
        <param><defname>x</defname></param>
        <initializer>((x)-&gt;vy)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="drivers/src/hpm_jpeg_drv.c" line="96" column="9" bodyfile="drivers/src/hpm_jpeg_drv.c" bodystart="96" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="hpm__jpeg__drv_8c_1a95b327403b4872c5c32c2e88d85550f4" prot="public" static="no">
        <name>JPEG_HC</name>
        <param><defname>x</defname></param>
        <initializer>((x)-&gt;hc)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="drivers/src/hpm_jpeg_drv.c" line="97" column="9" bodyfile="drivers/src/hpm_jpeg_drv.c" bodystart="97" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="hpm__jpeg__drv_8c_1ad035ea647e019fc5483fb153262e5c00" prot="public" static="no">
        <name>JPEG_VC</name>
        <param><defname>x</defname></param>
        <initializer>((x)-&gt;vc)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="drivers/src/hpm_jpeg_drv.c" line="98" column="9" bodyfile="drivers/src/hpm_jpeg_drv.c" bodystart="98" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="hpm__jpeg__drv_8c_1ad9e66197cb911abdbb8b447a5b368a4a" prot="public" static="no">
        <name>JPEG_TABLE_WIDTH</name>
        <param><defname>x</defname></param>
        <initializer>(((x) &amp; 0xF00000UL) &gt;&gt; 20)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="drivers/src/hpm_jpeg_drv.c" line="302" column="9" bodyfile="drivers/src/hpm_jpeg_drv.c" bodystart="302" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="hpm__jpeg__drv_8c_1afb81a39220901e166a19af7a3932fc9e" prot="public" static="no">
        <name>JPEG_TABLE_LENGTH</name>
        <param><defname>x</defname></param>
        <initializer>(((x) &amp; 0xFFFF0UL) &gt;&gt; 4)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="drivers/src/hpm_jpeg_drv.c" line="303" column="9" bodyfile="drivers/src/hpm_jpeg_drv.c" bodystart="303" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="hpm__jpeg__drv_8c_1a0a4ce80fda53c71a1a7cb9bb6a9293ab" prot="public" static="no">
        <name>JPEG_TABLE_TYPE</name>
        <param><defname>x</defname></param>
        <initializer>(((x) &amp; 0xFUL))</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="drivers/src/hpm_jpeg_drv.c" line="304" column="9" bodyfile="drivers/src/hpm_jpeg_drv.c" bodystart="304" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="hpm__jpeg__drv_8c_1a2d2e9199bc37c10b30b72e54105a2022" prot="public" static="no">
        <name>JPEG_TABLE_VALUE_MASK</name>
        <param><defname>x</defname></param>
        <initializer>(((x) == 4) ? (0xFFFFFFFFUL) : (uint32_t) ((1 &lt;&lt; ((x) &lt;&lt; 3)) - 1))</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="drivers/src/hpm_jpeg_drv.c" line="305" column="9" bodyfile="drivers/src/hpm_jpeg_drv.c" bodystart="305" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="var">
      <memberdef kind="variable" id="hpm__jpeg__drv_8c_1ab9ba9867930733e693802a2c3342bc7c" prot="public" static="no" mutable="no">
        <type>const <ref refid="structjpeg__sampling__t" kindref="compound">jpeg_sampling_t</ref></type>
        <definition>const jpeg_sampling_t jpeg_supported_sampling[5]</definition>
        <argsstring>[5]</argsstring>
        <name>jpeg_supported_sampling</name>
        <initializer>= {
    {2, 2, 1, 1}, 
    {2, 1, 1, 1}, 
    {1, 2, 1, 1}, 
    {1, 1, 1, 1}, 
    {1, 1, 0, 0}, 
}</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="drivers/src/hpm_jpeg_drv.c" line="12" column="23" bodyfile="drivers/src/hpm_jpeg_drv.c" bodystart="12" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="hpm__jpeg__drv_8c_1ac368a7f49201dc3f420cb995f365e9e8" prot="public" static="no" mutable="no">
        <type>const <ref refid="structjpeg__pixel__t" kindref="compound">jpeg_pixel_t</ref></type>
        <definition>const jpeg_pixel_t jpeg_supported_pixel_format[6]</definition>
        <argsstring>[6]</argsstring>
        <name>jpeg_supported_pixel_format</name>
        <initializer>= {
    {4, 1, 1, true}, 
    {2, 2, 2, true}, 
    {2, 3, 0, false}, 
    {1, 0, 0, false}, 
    {1, 0, 0, false}, 
    {1, 0, 0, false}, 
}</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="drivers/src/hpm_jpeg_drv.c" line="20" column="20" bodyfile="drivers/src/hpm_jpeg_drv.c" bodystart="20" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="func">
      <memberdef kind="function" id="group__Jpeg__interface_1ga41ebc602e449bde9e59f39800d03a384" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void jpeg_disable_irq</definition>
        <argsstring>(JPEG_Type *ptr, uint32_t mask)</argsstring>
        <name>jpeg_disable_irq</name>
        <param>
          <type><ref refid="structJPEG__Type" kindref="compound">JPEG_Type</ref> *</type>
          <declname>ptr</declname>
        </param>
        <param>
          <type>uint32_t</type>
          <declname>mask</declname>
        </param>
        <briefdescription>
<para>jpeg disable interrupt </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">ptr</parametername>
</parameternamelist>
<parameterdescription>
<para>JPEG base address, HPM_JPEG </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">mask</parametername>
</parameternamelist>
<parameterdescription>
<para><itemizedlist>
<listitem><para>JPEG_EVENT_IN_DMA_FINISH: In DMA Done disable </para>
</listitem>
<listitem><para>JPEG_EVENT_OUT_DMA_FINISH: interrupt disable for all interrupt sources of In DMA module </para>
</listitem>
<listitem><para>JPEG_EVENT_ERROR: The jpg endec restart error interrupt disable </para>
</listitem>
</itemizedlist>
</para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="drivers/src/hpm_jpeg_drv.c" line="29" column="6" bodyfile="drivers/src/hpm_jpeg_drv.c" bodystart="29" bodyend="42"/>
      </memberdef>
      <memberdef kind="function" id="group__Jpeg__interface_1ga0e35231581c3be97db0e365cde2a5aa4" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void jpeg_enable_irq</definition>
        <argsstring>(JPEG_Type *ptr, uint32_t mask)</argsstring>
        <name>jpeg_enable_irq</name>
        <param>
          <type><ref refid="structJPEG__Type" kindref="compound">JPEG_Type</ref> *</type>
          <declname>ptr</declname>
        </param>
        <param>
          <type>uint32_t</type>
          <declname>mask</declname>
        </param>
        <briefdescription>
<para>jpeg enable interrupt </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">ptr</parametername>
</parameternamelist>
<parameterdescription>
<para>JPEG base address, HPM_JPEG </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">mask</parametername>
</parameternamelist>
<parameterdescription>
<para><itemizedlist>
<listitem><para>JPEG_EVENT_IN_DMA_FINISH: In DMA Done enable </para>
</listitem>
<listitem><para>JPEG_EVENT_OUT_DMA_FINISH: interrupt enable for all interrupt sources of In DMA module </para>
</listitem>
<listitem><para>JPEG_EVENT_ERROR: The jpg endec restart error interrupt enable </para>
</listitem>
</itemizedlist>
</para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="drivers/src/hpm_jpeg_drv.c" line="44" column="6" bodyfile="drivers/src/hpm_jpeg_drv.c" bodystart="44" bodyend="57"/>
      </memberdef>
      <memberdef kind="function" id="group__Jpeg__interface_1ga1b68ae13f410f3b2a26fa7924076915b" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void jpeg_reset</definition>
        <argsstring>(JPEG_Type *ptr)</argsstring>
        <name>jpeg_reset</name>
        <param>
          <type><ref refid="structJPEG__Type" kindref="compound">JPEG_Type</ref> *</type>
          <declname>ptr</declname>
        </param>
        <briefdescription>
<para>stop a encoder/decoder conversion and Software Reset </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">ptr</parametername>
</parameternamelist>
<parameterdescription>
<para>JPEG base address, HPM_JPEG </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="drivers/src/hpm_jpeg_drv.c" line="59" column="6" bodyfile="drivers/src/hpm_jpeg_drv.c" bodystart="59" bodyend="65"/>
      </memberdef>
      <memberdef kind="function" id="group__Jpeg__interface_1ga31f3752442feb2f832b6f15b78763ed9" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void jpeg_init</definition>
        <argsstring>(JPEG_Type *ptr)</argsstring>
        <name>jpeg_init</name>
        <param>
          <type><ref refid="structJPEG__Type" kindref="compound">JPEG_Type</ref> *</type>
          <declname>ptr</declname>
        </param>
        <briefdescription>
<para>stop a encoder/decoder conversion and Software Reset </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">ptr</parametername>
</parameternamelist>
<parameterdescription>
<para>JPEG base address, HPM_JPEG </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="drivers/src/hpm_jpeg_drv.c" line="67" column="6" bodyfile="drivers/src/hpm_jpeg_drv.c" bodystart="67" bodyend="71"/>
      </memberdef>
      <memberdef kind="function" id="hpm__jpeg__drv_8c_1a2c10e2b395778e1a6c45719221d09db5" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>static bool jpeg_need_csc</definition>
        <argsstring>(jpeg_pixel_format_t in, jpeg_pixel_format_t out)</argsstring>
        <name>jpeg_need_csc</name>
        <param>
          <type><ref refid="group__Jpeg__interface_1gaa990e1fb6ea33451f65060e42168fe94" kindref="member">jpeg_pixel_format_t</ref></type>
          <declname>in</declname>
        </param>
        <param>
          <type><ref refid="group__Jpeg__interface_1gaa990e1fb6ea33451f65060e42168fe94" kindref="member">jpeg_pixel_format_t</ref></type>
          <declname>out</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="drivers/src/hpm_jpeg_drv.c" line="73" column="13" bodyfile="drivers/src/hpm_jpeg_drv.c" bodystart="73" bodyend="76"/>
      </memberdef>
      <memberdef kind="function" id="hpm__jpeg__drv_8c_1a1917d11373ffc3c5b4e62d0097135ccb" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>static bool jpeg_is_valid_size</definition>
        <argsstring>(uint8_t format, uint32_t width, uint32_t height)</argsstring>
        <name>jpeg_is_valid_size</name>
        <param>
          <type>uint8_t</type>
          <declname>format</declname>
        </param>
        <param>
          <type>uint32_t</type>
          <declname>width</declname>
        </param>
        <param>
          <type>uint32_t</type>
          <declname>height</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="drivers/src/hpm_jpeg_drv.c" line="78" column="13" bodyfile="drivers/src/hpm_jpeg_drv.c" bodystart="78" bodyend="93"/>
      </memberdef>
      <memberdef kind="function" id="hpm__jpeg__drv_8c_1adde802048f22285bbbc90266fdf1aae5" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>uint32_t</type>
        <definition>static uint32_t jpeg_calculate_macro_block_count</definition>
        <argsstring>(uint32_t width, uint32_t height, jpeg_sampling_t *sampling)</argsstring>
        <name>jpeg_calculate_macro_block_count</name>
        <param>
          <type>uint32_t</type>
          <declname>width</declname>
        </param>
        <param>
          <type>uint32_t</type>
          <declname>height</declname>
        </param>
        <param>
          <type><ref refid="structjpeg__sampling__t" kindref="compound">jpeg_sampling_t</ref> *</type>
          <declname>sampling</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="drivers/src/hpm_jpeg_drv.c" line="100" column="17" bodyfile="drivers/src/hpm_jpeg_drv.c" bodystart="100" bodyend="103"/>
      </memberdef>
      <memberdef kind="function" id="hpm__jpeg__drv_8c_1a4e89548080a3a9e847336e9e396cf747" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void jpeg_config_interal_regs</definition>
        <argsstring>(JPEG_Type *ptr, bool decoding, uint32_t macro_block_count, uint8_t format)</argsstring>
        <name>jpeg_config_interal_regs</name>
        <param>
          <type><ref refid="structJPEG__Type" kindref="compound">JPEG_Type</ref> *</type>
          <declname>ptr</declname>
        </param>
        <param>
          <type>bool</type>
          <declname>decoding</declname>
        </param>
        <param>
          <type>uint32_t</type>
          <declname>macro_block_count</declname>
        </param>
        <param>
          <type>uint8_t</type>
          <declname>format</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="drivers/src/hpm_jpeg_drv.c" line="105" column="13" bodyfile="drivers/src/hpm_jpeg_drv.c" bodystart="105" bodyend="139"/>
      </memberdef>
      <memberdef kind="function" id="group__Jpeg__interface_1ga50902f03c37747a8c6f13366921b0fba" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref></type>
        <definition>hpm_stat_t jpeg_start_encode</definition>
        <argsstring>(JPEG_Type *ptr, jpeg_job_config_t *config)</argsstring>
        <name>jpeg_start_encode</name>
        <param>
          <type><ref refid="structJPEG__Type" kindref="compound">JPEG_Type</ref> *</type>
          <declname>ptr</declname>
        </param>
        <param>
          <type><ref refid="structjpeg__job__config__t" kindref="compound">jpeg_job_config_t</ref> *</type>
          <declname>config</declname>
        </param>
        <briefdescription>
<para><itemizedlist>
<listitem><para>it will start encoding, and the process status needs to be checked by querying JPEG_EVENT </para>
</listitem></itemizedlist>
</para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">ptr</parametername>
</parameternamelist>
<parameterdescription>
<para>JPEG base address, HPM_JPEG </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">config</parametername>
</parameternamelist>
<parameterdescription>
<para>config A pointer to the configuration struct of &quot;jpeg_job_config_t&quot; </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<parameterlist kind="retval"><parameteritem>
<parameternamelist>
<parametername>jpeg</parametername>
</parameternamelist>
<parameterdescription>
<para>encoding&apos;s status </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="drivers/src/hpm_jpeg_drv.c" line="141" column="12" bodyfile="drivers/src/hpm_jpeg_drv.c" bodystart="141" bodyend="233"/>
      </memberdef>
      <memberdef kind="function" id="group__Jpeg__interface_1ga54945116d7d8d0b5c4a408cfdfa3bcbd" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref></type>
        <definition>hpm_stat_t jpeg_start_decode</definition>
        <argsstring>(JPEG_Type *ptr, jpeg_job_config_t *config, uint32_t length)</argsstring>
        <name>jpeg_start_decode</name>
        <param>
          <type><ref refid="structJPEG__Type" kindref="compound">JPEG_Type</ref> *</type>
          <declname>ptr</declname>
        </param>
        <param>
          <type><ref refid="structjpeg__job__config__t" kindref="compound">jpeg_job_config_t</ref> *</type>
          <declname>config</declname>
        </param>
        <param>
          <type>uint32_t</type>
          <declname>length</declname>
        </param>
        <briefdescription>
<para>it will start decoding, and the process status needs to be checked by querying JPEG_EVENT </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">ptr</parametername>
</parameternamelist>
<parameterdescription>
<para>JPEG base address, HPM_JPEG </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">config</parametername>
</parameternamelist>
<parameterdescription>
<para>config A pointer to the configuration struct of &quot;jpeg_job_config_t&quot; </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">length</parametername>
</parameternamelist>
<parameterdescription>
<para>Decoded data length </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<parameterlist kind="retval"><parameteritem>
<parameternamelist>
<parametername>jpeg</parametername>
</parameternamelist>
<parameterdescription>
<para>decoding&apos;s status </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="drivers/src/hpm_jpeg_drv.c" line="236" column="12" bodyfile="drivers/src/hpm_jpeg_drv.c" bodystart="236" bodyend="300"/>
      </memberdef>
      <memberdef kind="function" id="group__Jpeg__interface_1gae3b3e404e365c5bf4d4ccf28de62d7c3" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref></type>
        <definition>hpm_stat_t jpeg_fill_table</definition>
        <argsstring>(JPEG_Type *ptr, jpeg_table_t table, uint8_t *data, uint32_t count)</argsstring>
        <name>jpeg_fill_table</name>
        <param>
          <type><ref refid="structJPEG__Type" kindref="compound">JPEG_Type</ref> *</type>
          <declname>ptr</declname>
        </param>
        <param>
          <type><ref refid="group__Jpeg__interface_1ga1939e502ac946d68f76c3c36f0286254" kindref="member">jpeg_table_t</ref></type>
          <declname>table</declname>
        </param>
        <param>
          <type>uint8_t *</type>
          <declname>data</declname>
        </param>
        <param>
          <type>uint32_t</type>
          <declname>count</declname>
        </param>
        <briefdescription>
<para>fill tables for jpeg controller </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">ptr</parametername>
</parameternamelist>
<parameterdescription>
<para>JPEG base address, HPM_JPEG </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">table</parametername>
</parameternamelist>
<parameterdescription>
<para><itemizedlist>
<listitem><para>jpeg_table_qmem: file describe for Decoder and Encoder Q. values </para>
</listitem>
<listitem><para>jpeg_table_huffenc: file describe for Huffman Encoder table </para>
</listitem>
<listitem><para>jpeg_table_huffmin: file describe for Huffman min values </para>
</listitem>
<listitem><para>jpeg_table_huffbase: file describe for Huffman BASE mem values </para>
</listitem>
<listitem><para>jpeg_table_huffsymb: file describe for Huffman SYMB mem values </para>
</listitem>
</itemizedlist>
</para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">data</parametername>
</parameternamelist>
<parameterdescription>
<para><itemizedlist>
<listitem><para>huffenc: data for Huffman Encoder table </para>
</listitem>
<listitem><para>huffmin: data for Huffman min values </para>
</listitem>
<listitem><para>huffbase: data for Huffman BASE mem values </para>
</listitem>
<listitem><para>huffsymb: data for Huffman SYMB mem values </para>
</listitem>
<listitem><para>qetable: data for Encoder Q. values </para>
</listitem>
<listitem><para>qdtable: data for Decoder Q. values </para>
</listitem>
</itemizedlist>
</para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">count</parametername>
</parameternamelist>
<parameterdescription>
<para>data length </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<parameterlist kind="retval"><parameteritem>
<parameternamelist>
<parametername>fill</parametername>
</parameternamelist>
<parameterdescription>
<para>tables&apos;s status </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="drivers/src/hpm_jpeg_drv.c" line="307" column="12" bodyfile="drivers/src/hpm_jpeg_drv.c" bodystart="307" bodyend="325"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">/*</highlight></codeline>
<codeline lineno="2"><highlight class="comment"><sp/>*<sp/>Copyright<sp/>(c)<sp/>2021<sp/>HPMicro</highlight></codeline>
<codeline lineno="3"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="4"><highlight class="comment"><sp/>*<sp/>SPDX-License-Identifier:<sp/>BSD-3-Clause</highlight></codeline>
<codeline lineno="5"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="6"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="hpm__jpeg__drv_8h" kindref="compound">hpm_jpeg_drv.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>HPM_JPEG_DEFAULT_MAX_OT<sp/>(2)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structjpeg__sampling__t" kindref="compound">jpeg_sampling_t</ref><sp/><ref refid="hpm__jpeg__drv_8c_1ab9ba9867930733e693802a2c3342bc7c" kindref="member">jpeg_supported_sampling</ref>[5]<sp/>=<sp/>{</highlight></codeline>
<codeline lineno="13"><highlight class="normal"><sp/><sp/><sp/><sp/>{2,<sp/>2,<sp/>1,<sp/>1},<sp/></highlight><highlight class="comment">/*<sp/>420<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="14"><highlight class="normal"><sp/><sp/><sp/><sp/>{2,<sp/>1,<sp/>1,<sp/>1},<sp/></highlight><highlight class="comment">/*<sp/>422H<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="15"><highlight class="normal"><sp/><sp/><sp/><sp/>{1,<sp/>2,<sp/>1,<sp/>1},<sp/></highlight><highlight class="comment">/*<sp/>422V<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="16"><highlight class="normal"><sp/><sp/><sp/><sp/>{1,<sp/>1,<sp/>1,<sp/>1},<sp/></highlight><highlight class="comment">/*<sp/>444<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="17"><highlight class="normal"><sp/><sp/><sp/><sp/>{1,<sp/>1,<sp/>0,<sp/>0},<sp/></highlight><highlight class="comment">/*<sp/>400<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="18"><highlight class="normal">};</highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structjpeg__pixel__t" kindref="compound">jpeg_pixel_t</ref><sp/><ref refid="hpm__jpeg__drv_8c_1ac368a7f49201dc3f420cb995f365e9e8" kindref="member">jpeg_supported_pixel_format</ref>[6]<sp/>=<sp/>{</highlight></codeline>
<codeline lineno="21"><highlight class="normal"><sp/><sp/><sp/><sp/>{4,<sp/>1,<sp/>1,<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">},<sp/></highlight><highlight class="comment">/*<sp/>JPEG_PIXEL_FORMAT_ARGB8888<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="22"><highlight class="normal"><sp/><sp/><sp/><sp/>{2,<sp/>2,<sp/>2,<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">},<sp/></highlight><highlight class="comment">/*<sp/>JPEG_PIXEL_FORMAT_RGB565<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="23"><highlight class="normal"><sp/><sp/><sp/><sp/>{2,<sp/>3,<sp/>0,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">},<sp/></highlight><highlight class="comment">/*<sp/>JPEG_PIXEL_FORMAT_YUV422H1P<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="24"><highlight class="normal"><sp/><sp/><sp/><sp/>{1,<sp/>0,<sp/>0,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">},<sp/></highlight><highlight class="comment">/*<sp/>JPEG_PIXEL_FORMAT_YUV422H2P<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="25"><highlight class="normal"><sp/><sp/><sp/><sp/>{1,<sp/>0,<sp/>0,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">},<sp/></highlight><highlight class="comment">/*<sp/>JPEG_PIXEL_FORMAT_YUV420<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="26"><highlight class="normal"><sp/><sp/><sp/><sp/>{1,<sp/>0,<sp/>0,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">},<sp/></highlight><highlight class="comment">/*<sp/>JPEG_PIXEL_FORMAT_Y8<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="27"><highlight class="normal">};</highlight></codeline>
<codeline lineno="28"><highlight class="normal"></highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group__Jpeg__interface_1ga41ebc602e449bde9e59f39800d03a384" kindref="member">jpeg_disable_irq</ref>(<ref refid="structJPEG__Type" kindref="compound">JPEG_Type</ref><sp/>*ptr,<sp/>uint32_t<sp/>mask)</highlight></codeline>
<codeline lineno="30"><highlight class="normal">{</highlight></codeline>
<codeline lineno="31"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(mask<sp/>&amp;<sp/><ref refid="group__Jpeg__interface_1ga7797cd7def5d6e254412d8d442b19b5c" kindref="member">JPEG_EVENT_IN_DMA_FINISH</ref>)<sp/>{</highlight></codeline>
<codeline lineno="32"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structJPEG__Type_1a3b3610d317976194fbec227eaa6eb843" kindref="member">INDMA_MISC</ref><sp/>&amp;=<sp/>~(<ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1a2fa260b18484d4cf462772bc30e182f7" kindref="member">JPEG_INDMA_MISC_IN_DMA_DONE_IRQ_EN_MASK</ref></highlight></codeline>
<codeline lineno="33"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1a73bcc136be1d03166d53036deb28f35c" kindref="member">JPEG_INDMA_MISC_IRQ_EN_MASK</ref>);</highlight></codeline>
<codeline lineno="34"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="35"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(mask<sp/>&amp;<sp/><ref refid="group__Jpeg__interface_1ga382e5545d8daae654d1d7c36e71caf6e" kindref="member">JPEG_EVENT_OUT_DMA_FINISH</ref>)<sp/>{</highlight></codeline>
<codeline lineno="36"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structJPEG__Type_1a6497daf35e7bef0e242490965f64a311" kindref="member">OUTDMA_MISC</ref><sp/>&amp;=<sp/>~(<ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1abf1d5ce0a73bd4bf7e4aecd53155f2b4" kindref="member">JPEG_OUTDMA_MISC_OUT_DMA_DONE_IRQ_EN_MASK</ref></highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1ade1751b0f2983dbaa8e98a4c0abc213a" kindref="member">JPEG_OUTDMA_MISC_IRQ_EN_MASK</ref>);</highlight></codeline>
<codeline lineno="38"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="39"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(mask<sp/>&amp;<sp/><ref refid="group__Jpeg__interface_1gac73eaf5cc012963cf97558d9ebf0cc2e" kindref="member">JPEG_EVENT_ERROR</ref>)<sp/>{</highlight></codeline>
<codeline lineno="40"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structJPEG__Type_1a51375eae19eb5888a26dbbd51fd8b72e" kindref="member">CFG</ref><sp/>&amp;=<sp/>~(<ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1a55132d9520dc64520791897519660139" kindref="member">JPEG_CFG_CODEC_RESTART_ERR_IRQ_EN_MASK</ref>);</highlight></codeline>
<codeline lineno="41"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="42"><highlight class="normal">}</highlight></codeline>
<codeline lineno="43"><highlight class="normal"></highlight></codeline>
<codeline lineno="44"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group__Jpeg__interface_1ga0e35231581c3be97db0e365cde2a5aa4" kindref="member">jpeg_enable_irq</ref>(<ref refid="structJPEG__Type" kindref="compound">JPEG_Type</ref><sp/>*ptr,<sp/>uint32_t<sp/>mask)</highlight></codeline>
<codeline lineno="45"><highlight class="normal">{</highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(mask<sp/>&amp;<sp/><ref refid="group__Jpeg__interface_1ga7797cd7def5d6e254412d8d442b19b5c" kindref="member">JPEG_EVENT_IN_DMA_FINISH</ref>)<sp/>{</highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structJPEG__Type_1a3b3610d317976194fbec227eaa6eb843" kindref="member">INDMA_MISC</ref><sp/>|=<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1a2fa260b18484d4cf462772bc30e182f7" kindref="member">JPEG_INDMA_MISC_IN_DMA_DONE_IRQ_EN_MASK</ref></highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1a73bcc136be1d03166d53036deb28f35c" kindref="member">JPEG_INDMA_MISC_IRQ_EN_MASK</ref>;</highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(mask<sp/>&amp;<sp/><ref refid="group__Jpeg__interface_1ga382e5545d8daae654d1d7c36e71caf6e" kindref="member">JPEG_EVENT_OUT_DMA_FINISH</ref>)<sp/>{</highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structJPEG__Type_1a6497daf35e7bef0e242490965f64a311" kindref="member">OUTDMA_MISC</ref><sp/>|=<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1abf1d5ce0a73bd4bf7e4aecd53155f2b4" kindref="member">JPEG_OUTDMA_MISC_OUT_DMA_DONE_IRQ_EN_MASK</ref></highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1ade1751b0f2983dbaa8e98a4c0abc213a" kindref="member">JPEG_OUTDMA_MISC_IRQ_EN_MASK</ref>;</highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(mask<sp/>&amp;<sp/><ref refid="group__Jpeg__interface_1gac73eaf5cc012963cf97558d9ebf0cc2e" kindref="member">JPEG_EVENT_ERROR</ref>)<sp/>{</highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structJPEG__Type_1a51375eae19eb5888a26dbbd51fd8b72e" kindref="member">CFG</ref><sp/>|=<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1a55132d9520dc64520791897519660139" kindref="member">JPEG_CFG_CODEC_RESTART_ERR_IRQ_EN_MASK</ref>;</highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="57"><highlight class="normal">}</highlight></codeline>
<codeline lineno="58"><highlight class="normal"></highlight></codeline>
<codeline lineno="59"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group__Jpeg__interface_1ga1b68ae13f410f3b2a26fa7924076915b" kindref="member">jpeg_reset</ref>(<ref refid="structJPEG__Type" kindref="compound">JPEG_Type</ref><sp/>*ptr)</highlight></codeline>
<codeline lineno="60"><highlight class="normal">{</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__Jpeg__interface_1gacb7848423a3ef6e04b09667dc6c7ffa3" kindref="member">jpeg_stop</ref>(ptr);</highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__Jpeg__interface_1ga0e3585dfc768d43366450befa94dae06" kindref="member">jpeg_software_reset</ref>(ptr);</highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structJPEG__Type_1a9d6d0f080a5c9879f2e064440e05c0a5" kindref="member">STAT</ref><sp/>=<sp/>0xFFFFFFFFUL;</highlight></codeline>
<codeline lineno="64"><highlight class="normal"></highlight></codeline>
<codeline lineno="65"><highlight class="normal">}</highlight></codeline>
<codeline lineno="66"><highlight class="normal"></highlight></codeline>
<codeline lineno="67"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group__Jpeg__interface_1ga31f3752442feb2f832b6f15b78763ed9" kindref="member">jpeg_init</ref>(<ref refid="structJPEG__Type" kindref="compound">JPEG_Type</ref><sp/>*ptr)</highlight></codeline>
<codeline lineno="68"><highlight class="normal">{</highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__Jpeg__interface_1ga1b68ae13f410f3b2a26fa7924076915b" kindref="member">jpeg_reset</ref>(ptr);</highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__Jpeg__interface_1gacbb900144db114e92a19e6cc394bc640" kindref="member">jpeg_clear_cfg</ref>(ptr);</highlight></codeline>
<codeline lineno="71"><highlight class="normal">}</highlight></codeline>
<codeline lineno="72"><highlight class="normal"></highlight></codeline>
<codeline lineno="73"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="hpm__jpeg__drv_8c_1a2c10e2b395778e1a6c45719221d09db5" kindref="member">jpeg_need_csc</ref>(<ref refid="group__Jpeg__interface_1gaa990e1fb6ea33451f65060e42168fe94" kindref="member">jpeg_pixel_format_t</ref><sp/>in,<sp/><ref refid="group__Jpeg__interface_1gaa990e1fb6ea33451f65060e42168fe94" kindref="member">jpeg_pixel_format_t</ref><sp/>out)</highlight></codeline>
<codeline lineno="74"><highlight class="normal">{</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(<ref refid="hpm__jpeg__drv_8c_1ac368a7f49201dc3f420cb995f365e9e8" kindref="member">jpeg_supported_pixel_format</ref>[in].is_rgb<sp/>!=<sp/><ref refid="hpm__jpeg__drv_8c_1ac368a7f49201dc3f420cb995f365e9e8" kindref="member">jpeg_supported_pixel_format</ref>[out].is_rgb);</highlight></codeline>
<codeline lineno="76"><highlight class="normal">}</highlight></codeline>
<codeline lineno="77"><highlight class="normal"></highlight></codeline>
<codeline lineno="78"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="hpm__jpeg__drv_8c_1a1917d11373ffc3c5b4e62d0097135ccb" kindref="member">jpeg_is_valid_size</ref>(uint8_t<sp/>format,<sp/>uint32_t<sp/>width,<sp/>uint32_t<sp/>height)</highlight></codeline>
<codeline lineno="79"><highlight class="normal">{</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/>uint32_t<sp/>align;</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(format<sp/>&gt;<sp/><ref refid="group__common__interface_1ga25f003de16c08a4888b69f619d70f427" kindref="member">ARRAY_SIZE</ref>(<ref refid="hpm__jpeg__drv_8c_1ab9ba9867930733e693802a2c3342bc7c" kindref="member">jpeg_supported_sampling</ref>))<sp/>{</highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/>align<sp/>=<sp/><ref refid="hpm__jpeg__drv_8c_1ab9ba9867930733e693802a2c3342bc7c" kindref="member">jpeg_supported_sampling</ref>[format].<ref refid="structjpeg__sampling__t_1aff59fa79a76761d03fb61770840c115e" kindref="member">hy</ref><sp/>*<sp/>8;</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(width<sp/>%<sp/>align)<sp/>{</highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/>align<sp/>=<sp/><ref refid="hpm__jpeg__drv_8c_1ab9ba9867930733e693802a2c3342bc7c" kindref="member">jpeg_supported_sampling</ref>[format].<ref refid="structjpeg__sampling__t_1af3f778e9cc7fcdfda02fbd858ab9db6f" kindref="member">vy</ref><sp/>*<sp/>8;</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(height<sp/>%<sp/>align)<sp/>{</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="93"><highlight class="normal">}</highlight></codeline>
<codeline lineno="94"><highlight class="normal"></highlight></codeline>
<codeline lineno="95"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>JPEG_HY(x)<sp/>((x)-&gt;hy)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="96"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>JPEG_VY(x)<sp/>((x)-&gt;vy)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="97"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>JPEG_HC(x)<sp/>((x)-&gt;hc)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="98"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>JPEG_VC(x)<sp/>((x)-&gt;vc)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="99"><highlight class="normal"></highlight></codeline>
<codeline lineno="100"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>uint32_t<sp/><ref refid="hpm__jpeg__drv_8c_1adde802048f22285bbbc90266fdf1aae5" kindref="member">jpeg_calculate_macro_block_count</ref>(uint32_t<sp/>width,<sp/>uint32_t<sp/>height,<sp/><ref refid="structjpeg__sampling__t" kindref="compound">jpeg_sampling_t</ref><sp/>*sampling)</highlight></codeline>
<codeline lineno="101"><highlight class="normal">{</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(width<sp/>/<sp/>(<ref refid="hpm__jpeg__drv_8c_1a34073d89d30eddaa34ea8c1fe64b3375" kindref="member">JPEG_HY</ref>(sampling)<sp/>&lt;&lt;<sp/>3))<sp/>*<sp/>(height<sp/>/<sp/>(<ref refid="hpm__jpeg__drv_8c_1a72fd23e771a02ba4b7a55a3182cb3a8f" kindref="member">JPEG_VY</ref>(sampling)<sp/>&lt;&lt;<sp/>3));</highlight></codeline>
<codeline lineno="103"><highlight class="normal">}</highlight></codeline>
<codeline lineno="104"><highlight class="normal"></highlight></codeline>
<codeline lineno="105"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="hpm__jpeg__drv_8c_1a4e89548080a3a9e847336e9e396cf747" kindref="member">jpeg_config_interal_regs</ref>(<ref refid="structJPEG__Type" kindref="compound">JPEG_Type</ref><sp/>*ptr,</highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>decoding,</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uint32_t<sp/>macro_block_count,</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uint8_t<sp/>format)</highlight></codeline>
<codeline lineno="109"><highlight class="normal">{</highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/>(void)<sp/>decoding;</highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/>uint8_t<sp/>hy,<sp/>vy,<sp/>hc,<sp/>vc;</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/>hy<sp/>=<sp/><ref refid="hpm__jpeg__drv_8c_1a34073d89d30eddaa34ea8c1fe64b3375" kindref="member">JPEG_HY</ref>(&amp;<ref refid="hpm__jpeg__drv_8c_1ab9ba9867930733e693802a2c3342bc7c" kindref="member">jpeg_supported_sampling</ref>[format]);</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/>vy<sp/>=<sp/><ref refid="hpm__jpeg__drv_8c_1a72fd23e771a02ba4b7a55a3182cb3a8f" kindref="member">JPEG_VY</ref>(&amp;<ref refid="hpm__jpeg__drv_8c_1ab9ba9867930733e693802a2c3342bc7c" kindref="member">jpeg_supported_sampling</ref>[format]);</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/>hc<sp/>=<sp/><ref refid="hpm__jpeg__drv_8c_1a95b327403b4872c5c32c2e88d85550f4" kindref="member">JPEG_HC</ref>(&amp;<ref refid="hpm__jpeg__drv_8c_1ab9ba9867930733e693802a2c3342bc7c" kindref="member">jpeg_supported_sampling</ref>[format]);</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/>vc<sp/>=<sp/><ref refid="hpm__jpeg__drv_8c_1ad035ea647e019fc5483fb153262e5c00" kindref="member">JPEG_VC</ref>(&amp;<ref refid="hpm__jpeg__drv_8c_1ab9ba9867930733e693802a2c3342bc7c" kindref="member">jpeg_supported_sampling</ref>[format]);</highlight></codeline>
<codeline lineno="116"><highlight class="normal"></highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(format<sp/>!=<sp/><ref refid="group__Jpeg__interface_1gaa8d1d65837c8d7c0056fd59004cdab6c" kindref="member">JPEG_SUPPORTED_FORMAT_400</ref>)<sp/>{</highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structJPEG__Type_1a8f0aaaab23605fe02d905dbb745d772f" kindref="member">IMGREG1</ref><sp/>=<sp/><sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1a5a63ad11c92e023f0b2c1e392ca699b8" kindref="member">JPEG_IMGREG1_NCOL_SET</ref>(2);</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structJPEG__Type_1a8f0aaaab23605fe02d905dbb745d772f" kindref="member">IMGREG1</ref><sp/>=<sp/>8;</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structJPEG__Type_1a081fa61e218e61a01550b3ada99345ec" kindref="member">IMGREG2</ref><sp/>=<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1a111c22c6f3b2ea09fb234c8ae13a3ec6" kindref="member">JPEG_IMGREG2_NMCU_SET</ref>(macro_block_count<sp/>-<sp/>1);</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structJPEG__Type_1aebed3ed0f6eb073777b30a48dad8d6be" kindref="member">IMGREG3</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structJPEG__Type_1a57270bccd13a14742eb8e0748a6ab27a" kindref="member">IMGREG</ref>[0]<sp/>=<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1ae0451599596517a485e898d9453f276c" kindref="member">JPEG_IMGREG_NBLOCK_SET</ref>(hy<sp/>*<sp/>vy<sp/>-<sp/>1);</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(format<sp/>==<sp/><ref refid="group__Jpeg__interface_1gaa8d1d65837c8d7c0056fd59004cdab6c" kindref="member">JPEG_SUPPORTED_FORMAT_400</ref>)<sp/>{</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structJPEG__Type_1a57270bccd13a14742eb8e0748a6ab27a" kindref="member">IMGREG</ref>[1]<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structJPEG__Type_1a57270bccd13a14742eb8e0748a6ab27a" kindref="member">IMGREG</ref>[2]<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structJPEG__Type_1a57270bccd13a14742eb8e0748a6ab27a" kindref="member">IMGREG</ref>[1]<sp/>=<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1ae0451599596517a485e898d9453f276c" kindref="member">JPEG_IMGREG_NBLOCK_SET</ref>(hc<sp/>*<sp/>vc<sp/>-<sp/>1)</highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1aa6b57d67c6e447b8d8754754b1855d34" kindref="member">JPEG_IMGREG_QT_SET</ref>(1)</highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1ace6f59f13cdfd8c7d135d607488b7d06" kindref="member">JPEG_IMGREG_HA_SET</ref>(1)</highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1a2df613d0acb25642fda295d2d358aaaa" kindref="member">JPEG_IMGREG_HD_SET</ref>(1);</highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structJPEG__Type_1a57270bccd13a14742eb8e0748a6ab27a" kindref="member">IMGREG</ref>[2]<sp/>=<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1ae0451599596517a485e898d9453f276c" kindref="member">JPEG_IMGREG_NBLOCK_SET</ref>(hc<sp/>*<sp/>vc<sp/>-<sp/>1)</highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1aa6b57d67c6e447b8d8754754b1855d34" kindref="member">JPEG_IMGREG_QT_SET</ref>(1)</highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1ace6f59f13cdfd8c7d135d607488b7d06" kindref="member">JPEG_IMGREG_HA_SET</ref>(1)</highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1a2df613d0acb25642fda295d2d358aaaa" kindref="member">JPEG_IMGREG_HD_SET</ref>(1);</highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structJPEG__Type_1a57270bccd13a14742eb8e0748a6ab27a" kindref="member">IMGREG</ref>[3]<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="139"><highlight class="normal">}</highlight></codeline>
<codeline lineno="140"><highlight class="normal"></highlight></codeline>
<codeline lineno="141"><highlight class="normal"><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref><sp/><ref refid="group__Jpeg__interface_1ga50902f03c37747a8c6f13366921b0fba" kindref="member">jpeg_start_encode</ref>(<ref refid="structJPEG__Type" kindref="compound">JPEG_Type</ref><sp/>*ptr,<sp/><ref refid="structjpeg__job__config__t" kindref="compound">jpeg_job_config_t</ref><sp/>*config)</highlight></codeline>
<codeline lineno="142"><highlight class="normal">{</highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/>uint32_t<sp/>macro_block_count;</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/>uint32_t<sp/>macro_block_bytes;</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/>uint32_t<sp/>total_bytes;</highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structjpeg__sampling__t" kindref="compound">jpeg_sampling_t</ref><sp/>*sampling;</highlight></codeline>
<codeline lineno="147"><highlight class="normal"></highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="hpm__jpeg__drv_8c_1a1917d11373ffc3c5b4e62d0097135ccb" kindref="member">jpeg_is_valid_size</ref>(config-&gt;<ref refid="structjpeg__job__config__t_1ae2c9313e989740cd2e72f22d99290b3c" kindref="member">jpeg_format</ref>,<sp/>config-&gt;<ref refid="structjpeg__job__config__t_1a122d30120d6ae1e81401a56b0993a939" kindref="member">width_in_pixel</ref>,<sp/>config-&gt;<ref refid="structjpeg__job__config__t_1a87c3f7774262d33898e573d01eff6135" kindref="member">height_in_pixel</ref>))<sp/>{</highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group__common__interface_1ggaae05225933a42f81e7c4a9fb286596f9a380c9b8304ad8399f1be634d6f5c4701" kindref="member">status_invalid_argument</ref>;</highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="151"><highlight class="normal"></highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__Jpeg__interface_1gaaf35df19e281c79ffac0df8d297c9f21" kindref="member">jpeg_disable</ref>(ptr);</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__Jpeg__interface_1ga0e3585dfc768d43366450befa94dae06" kindref="member">jpeg_software_reset</ref>(ptr);</highlight></codeline>
<codeline lineno="154"><highlight class="normal"></highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/>sampling<sp/>=<sp/>(<ref refid="structjpeg__sampling__t" kindref="compound">jpeg_sampling_t</ref><sp/>*)&amp;<ref refid="hpm__jpeg__drv_8c_1ab9ba9867930733e693802a2c3342bc7c" kindref="member">jpeg_supported_sampling</ref>[config-&gt;<ref refid="structjpeg__job__config__t_1ae2c9313e989740cd2e72f22d99290b3c" kindref="member">jpeg_format</ref>];</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/>macro_block_count<sp/>=<sp/><ref refid="hpm__jpeg__drv_8c_1adde802048f22285bbbc90266fdf1aae5" kindref="member">jpeg_calculate_macro_block_count</ref>(config-&gt;<ref refid="structjpeg__job__config__t_1a122d30120d6ae1e81401a56b0993a939" kindref="member">width_in_pixel</ref>,<sp/>config-&gt;<ref refid="structjpeg__job__config__t_1a87c3f7774262d33898e573d01eff6135" kindref="member">height_in_pixel</ref>,<sp/>sampling);</highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/>macro_block_bytes<sp/>=<sp/>(<ref refid="hpm__jpeg__drv_8c_1a34073d89d30eddaa34ea8c1fe64b3375" kindref="member">JPEG_HY</ref>(sampling)<sp/>*<sp/><ref refid="hpm__jpeg__drv_8c_1a72fd23e771a02ba4b7a55a3182cb3a8f" kindref="member">JPEG_VY</ref>(sampling)</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>+<sp/>2<sp/>*<sp/><ref refid="hpm__jpeg__drv_8c_1a95b327403b4872c5c32c2e88d85550f4" kindref="member">JPEG_HC</ref>(sampling)<sp/>*<sp/><ref refid="hpm__jpeg__drv_8c_1ad035ea647e019fc5483fb153262e5c00" kindref="member">JPEG_VC</ref>(sampling))<sp/>&lt;&lt;<sp/>6;</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/>total_bytes<sp/>=<sp/>macro_block_count<sp/>*<sp/>macro_block_bytes;</highlight></codeline>
<codeline lineno="160"><highlight class="normal"></highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>input<sp/>DMA<sp/>setting<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structJPEG__Type_1a3b3610d317976194fbec227eaa6eb843" kindref="member">INDMA_MISC</ref><sp/>=<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1aa9c4f261b095c1a008827498756d789e" kindref="member">JPEG_INDMA_MISC_IN_DMA_ID_SET</ref>(0)</highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1a2bf9b63835f4d93a911c57f6b293f342" kindref="member">JPEG_INDMA_MISC_MAX_OT_SET</ref>(<ref refid="hpm__jpeg__drv_8c_1ac6da98df2ca4f393237e771d44a95f20" kindref="member">HPM_JPEG_DEFAULT_MAX_OT</ref>)</highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1a839cf47074781d2bcd47fb5dc4b013e5" kindref="member">JPEG_INDMA_MISC_INDMA2D_MASK</ref></highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1a75d30b51e96f49e16bdc8faca34f85a9" kindref="member">JPEG_INDMA_MISC_IN_DMA_REQ_MASK</ref></highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1ad4661771765b4121f8dacd9263d103f7" kindref="member">JPEG_INDMA_MISC_PACK_DIR_SET</ref>(config-&gt;<ref refid="structjpeg__job__config__t_1a7b6ac491c5c63314db231dc48aa3430d" kindref="member">in_byte_order</ref>);</highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structJPEG__Type_1a07196247902433650deae27af6662343" kindref="member">INDMABASE</ref><sp/>=<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1a0eb75603d6976dbf474ae4abf2d2d9c5" kindref="member">JPEG_INDMABASE_ADDR_SET</ref>(config-&gt;<ref refid="structjpeg__job__config__t_1adfe8d1ce86a7778fd19d0eca3f7cc508" kindref="member">in_buffer</ref>);</highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structJPEG__Type_1a95a6a162770181d5c879f12a0186cc24" kindref="member">INDMA_CTRL0</ref><sp/>=<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1a2c32e824cd2ef2bd359a91388a906b6f" kindref="member">JPEG_INDMA_CTRL0_TTLEN_SET</ref>(total_bytes)</highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1aaf4906c1641cd264cd4efdc1e7390a8a" kindref="member">JPEG_INDMA_CTRL0_PITCH_SET</ref>(config-&gt;<ref refid="structjpeg__job__config__t_1a122d30120d6ae1e81401a56b0993a939" kindref="member">width_in_pixel</ref><sp/>*<sp/><ref refid="hpm__jpeg__drv_8c_1ac368a7f49201dc3f420cb995f365e9e8" kindref="member">jpeg_supported_pixel_format</ref>[config-&gt;<ref refid="structjpeg__job__config__t_1a8b6bb09b12cd563703329f51c402a3f2" kindref="member">in_pixel_format</ref>].<ref refid="structjpeg__pixel__t_1ab85729da4b5373b1b01cf1f0803e9eda" kindref="member">pixel_width</ref>);</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structJPEG__Type_1aaaf40c450f505089f067a921b9cb0eb3" kindref="member">INDMA_CTRL1</ref><sp/>=<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1a2267d4a95a7db92b00b3f6d9e2e19f94" kindref="member">JPEG_INDMA_CTRL1_ROWLEN_SET</ref>(total_bytes<sp/>&gt;&gt;<sp/>16);</highlight></codeline>
<codeline lineno="171"><highlight class="normal"></highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structJPEG__Type_1a96fab3f427417efe43317907f78de8ee" kindref="member">INXT_CMD</ref><sp/>=<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1a1ac0bdf79ebd27735379ed9b176d9e7e" kindref="member">JPEG_INXT_CMD_ADDR_SET</ref>(5)<sp/>|<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1ad529a352e7df84e9d8417aa93fea5732" kindref="member">JPEG_INXT_CMD_OP_VALID_MASK</ref>;</highlight></codeline>
<codeline lineno="173"><highlight class="normal"></highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>output<sp/>DMA<sp/>setting<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structJPEG__Type_1a6497daf35e7bef0e242490965f64a311" kindref="member">OUTDMA_MISC</ref><sp/>=<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1a579daed538fbf5a86f749f69e19e3891" kindref="member">JPEG_OUTDMA_MISC_EN_OUTCNT_MASK</ref></highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1ab92e9514d94a75639213d6cfb7541d46" kindref="member">JPEG_OUTDMA_MISC_INI_OUTCNT_MASK</ref></highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1acc810d46018b2062654998cf96177c66" kindref="member">JPEG_OUTDMA_MISC_OUT_DMA_ID_SET</ref>(1)</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1adbc946e75090eb1529f94c834abd4db3" kindref="member">JPEG_OUTDMA_MISC_OUT_DMA_REQ_MASK</ref></highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1a1f474181e4eb87531e84bf2a610a32bb" kindref="member">JPEG_OUTDMA_MISC_ADD_ODMA_ENDINGS_MASK</ref></highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1a98ebfee3a3281f2710546ea3ee1dff38" kindref="member">JPEG_OUTDMA_MISC_PACK_DIR_SET</ref>(config-&gt;<ref refid="structjpeg__job__config__t_1acdb8eb20e2eb18e351f1917c372bd174" kindref="member">out_byte_order</ref>);</highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structJPEG__Type_1abc5be2df2eec83a08fb8f8724ab48ce3" kindref="member">OUTDMABASE</ref><sp/>=<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1a9aea297ccfe7ccc57d5d33fb32bdaa2a" kindref="member">JPEG_OUTDMABASE_ADDR_SET</ref>(config-&gt;<ref refid="structjpeg__job__config__t_1a61d26eac50535a32f4d109ceaaf39597" kindref="member">out_buffer</ref>);</highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structJPEG__Type_1a4e40ad69614bade6d9558ec58b4d8f64" kindref="member">OUTDMA_CTRL0</ref><sp/>=<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1a8cb2244fbe522ab9929d08e92ffcd3e0" kindref="member">JPEG_OUTDMA_CTRL0_TTLEN_SET</ref>(total_bytes);</highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structJPEG__Type_1a40f79d46e5f17ce317011ee877c3a9b9" kindref="member">OUTDMA_CTRL1</ref><sp/>=<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1a8f3a1d6c573a2b2cdabb772f7cceb71d" kindref="member">JPEG_OUTDMA_CTRL1_ROWLEN_SET</ref>(total_bytes<sp/>&gt;&gt;<sp/>16);</highlight></codeline>
<codeline lineno="184"><highlight class="normal"></highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structJPEG__Type_1ac2bd2e0e6066139d772f10cf1e45d0d4" kindref="member">ONXT_CMD</ref><sp/>=<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1a07c5f8bd6d943c785e702d33b991e9bb" kindref="member">JPEG_ONXT_CMD_ADDR_SET</ref>(5)<sp/>|<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1a44bbca2ef71843b6a0d6818e06307f3d" kindref="member">JPEG_ONXT_CMD_OP_VALID_MASK</ref>;</highlight></codeline>
<codeline lineno="186"><highlight class="normal"></highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="hpm__jpeg__drv_8c_1a4e89548080a3a9e847336e9e396cf747" kindref="member">jpeg_config_interal_regs</ref>(ptr,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">,<sp/>macro_block_count,<sp/>config-&gt;<ref refid="structjpeg__job__config__t_1ae2c9313e989740cd2e72f22d99290b3c" kindref="member">jpeg_format</ref>);</highlight></codeline>
<codeline lineno="188"><highlight class="normal"></highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structJPEG__Type_1a29386a0b57e65531314bc68abf66543c" kindref="member">WIDTH</ref><sp/>=<sp/>config-&gt;<ref refid="structjpeg__job__config__t_1a122d30120d6ae1e81401a56b0993a939" kindref="member">width_in_pixel</ref><sp/>-<sp/>1;</highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structJPEG__Type_1a0fd70d55b2cca225091a34bf6323631a" kindref="member">HEIGHT</ref><sp/>=<sp/>config-&gt;<ref refid="structjpeg__job__config__t_1a87c3f7774262d33898e573d01eff6135" kindref="member">height_in_pixel</ref><sp/>-<sp/>1;</highlight></codeline>
<codeline lineno="191"><highlight class="normal"></highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="hpm__jpeg__drv_8c_1a2c10e2b395778e1a6c45719221d09db5" kindref="member">jpeg_need_csc</ref>(config-&gt;<ref refid="structjpeg__job__config__t_1a8b6bb09b12cd563703329f51c402a3f2" kindref="member">in_pixel_format</ref>,<sp/>config-&gt;<ref refid="structjpeg__job__config__t_1a09f521b7fd64c63a439e23cf9577aec2" kindref="member">out_pixel_format</ref>))<sp/>{</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(config-&gt;<ref refid="structjpeg__job__config__t_1aee133b41cc4d3053bb711663148bbcfb" kindref="member">enable_ycbcr</ref>)<sp/>{</highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structJPEG__Type_1a1357337a6ec5f1b4cb40ed698b4c23e9" kindref="member">RGB2YUV_COEF0</ref><sp/>=<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1a30211677dcf5e931e6d11e08dd2bcfed" kindref="member">JPEG_RGB2YUV_COEF0_C0_SET</ref>(0x42)</highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1af9f93f05ad86890bd0192230bd0c42ad" kindref="member">JPEG_RGB2YUV_COEF0_UV_OFFSET_SET</ref>(0x80)</highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1a20a60cd660823623859d9b71696b27ed" kindref="member">JPEG_RGB2YUV_COEF0_Y_OFFSET_SET</ref>(0x10)</highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1a3f34b8254e3c24c70f79481d9042fac6" kindref="member">JPEG_RGB2YUV_COEF0_ENABLE_MASK</ref></highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1af8ec0e558501ada651c95750de1a703e" kindref="member">JPEG_RGB2YUV_COEF0_YCBCR_MODE_MASK</ref>;</highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structJPEG__Type_1ab15f690d29c1307c1fb26bd83c757449" kindref="member">RGB2YUV_COEF1</ref><sp/>=<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1ae5078d0a1389cc64500629d8c0849c74" kindref="member">JPEG_RGB2YUV_COEF1_C1_SET</ref>(0x81)</highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1ab72e8ca3d94b5d4140df7b9d27ab8b08" kindref="member">JPEG_RGB2YUV_COEF1_C4_SET</ref>(0x7B5);</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structJPEG__Type_1a80d8b94d5e57ba7c210350d311c9af0c" kindref="member">RGB2YUV_COEF2</ref><sp/>=<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1a13f933a9ab0363707f71add5e258492f" kindref="member">JPEG_RGB2YUV_COEF2_C2_SET</ref>(0x19)</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1aea99c4451fc964b9a053443884e3c63c" kindref="member">JPEG_RGB2YUV_COEF2_C3_SET</ref>(0x7DA);</highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structJPEG__Type_1a834fe78db300cff6448f5681e1f10931" kindref="member">RGB2YUV_COEF3</ref><sp/>=<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1a8401fdc2aeeca013f8bc3b27a36f4adb" kindref="member">JPEG_RGB2YUV_COEF3_C6_SET</ref>(0x70)</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1a56095c012183b3101ffbb9c54d90ccd5" kindref="member">JPEG_RGB2YUV_COEF3_C5_SET</ref>(0x70);</highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structJPEG__Type_1aa071963602b080544ff9f3edc14e0267" kindref="member">RGB2YUV_COEF4</ref><sp/>=<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1ae6704ff8dc7bbc24a7918bc72c4f0dd3" kindref="member">JPEG_RGB2YUV_COEF4_C8_SET</ref>(0x7EE)</highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1a98e686b7dedd39e2e1f01b1018067b72" kindref="member">JPEG_RGB2YUV_COEF4_C7_SET</ref>(0x7A2);</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structJPEG__Type_1a1357337a6ec5f1b4cb40ed698b4c23e9" kindref="member">RGB2YUV_COEF0</ref><sp/>=<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1a30211677dcf5e931e6d11e08dd2bcfed" kindref="member">JPEG_RGB2YUV_COEF0_C0_SET</ref>(0x4D)</highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1af9f93f05ad86890bd0192230bd0c42ad" kindref="member">JPEG_RGB2YUV_COEF0_UV_OFFSET_SET</ref>(0)</highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1a20a60cd660823623859d9b71696b27ed" kindref="member">JPEG_RGB2YUV_COEF0_Y_OFFSET_SET</ref>(0x0)</highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1a3f34b8254e3c24c70f79481d9042fac6" kindref="member">JPEG_RGB2YUV_COEF0_ENABLE_MASK</ref>;</highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structJPEG__Type_1ab15f690d29c1307c1fb26bd83c757449" kindref="member">RGB2YUV_COEF1</ref><sp/>=<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1ae5078d0a1389cc64500629d8c0849c74" kindref="member">JPEG_RGB2YUV_COEF1_C1_SET</ref>(0x96)</highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1ab72e8ca3d94b5d4140df7b9d27ab8b08" kindref="member">JPEG_RGB2YUV_COEF1_C4_SET</ref>(0x7B6);</highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structJPEG__Type_1a80d8b94d5e57ba7c210350d311c9af0c" kindref="member">RGB2YUV_COEF2</ref><sp/>=<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1a13f933a9ab0363707f71add5e258492f" kindref="member">JPEG_RGB2YUV_COEF2_C2_SET</ref>(0x1D)</highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1aea99c4451fc964b9a053443884e3c63c" kindref="member">JPEG_RGB2YUV_COEF2_C3_SET</ref>(0x7DA);</highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structJPEG__Type_1a834fe78db300cff6448f5681e1f10931" kindref="member">RGB2YUV_COEF3</ref><sp/>=<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1a8401fdc2aeeca013f8bc3b27a36f4adb" kindref="member">JPEG_RGB2YUV_COEF3_C6_SET</ref>(0x9D)</highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1a56095c012183b3101ffbb9c54d90ccd5" kindref="member">JPEG_RGB2YUV_COEF3_C5_SET</ref>(0x70);</highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structJPEG__Type_1aa071963602b080544ff9f3edc14e0267" kindref="member">RGB2YUV_COEF4</ref><sp/>=<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1ae6704ff8dc7bbc24a7918bc72c4f0dd3" kindref="member">JPEG_RGB2YUV_COEF4_C8_SET</ref>(0x7E6)</highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1a98e686b7dedd39e2e1f01b1018067b72" kindref="member">JPEG_RGB2YUV_COEF4_C7_SET</ref>(0x77C);</highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structJPEG__Type_1a1357337a6ec5f1b4cb40ed698b4c23e9" kindref="member">RGB2YUV_COEF0</ref><sp/>=<sp/>0x04030000;</highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="224"><highlight class="normal"></highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structJPEG__Type_1a51375eae19eb5888a26dbbd51fd8b72e" kindref="member">CFG</ref><sp/>=<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1a3cd4c65ba60f98ad522cf0b3f051f388" kindref="member">JPEG_CFG_CFG_IPATH_SEL_SET</ref>(<ref refid="hpm__jpeg__drv_8c_1ac368a7f49201dc3f420cb995f365e9e8" kindref="member">jpeg_supported_pixel_format</ref>[config-&gt;<ref refid="structjpeg__job__config__t_1a8b6bb09b12cd563703329f51c402a3f2" kindref="member">in_pixel_format</ref>].<ref refid="structjpeg__pixel__t_1ae4557413e3c656b3cc1b4e4c328bd983" kindref="member">ipath</ref>)</highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1abb753561c2b3c566812ad3a9633fa546" kindref="member">JPEG_CFG_CFG_OPATH_SEL_SET</ref>(<ref refid="hpm__jpeg__drv_8c_1ac368a7f49201dc3f420cb995f365e9e8" kindref="member">jpeg_supported_pixel_format</ref>[config-&gt;<ref refid="structjpeg__job__config__t_1a09f521b7fd64c63a439e23cf9577aec2" kindref="member">out_pixel_format</ref>].<ref refid="structjpeg__pixel__t_1a54fb409c9af3faf8065070187170d1a9" kindref="member">opath</ref>)</highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1a312d931c093ed5a9c366a32237478f0a" kindref="member">JPEG_CFG_CLKGATE_MASK</ref></highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1ac9170d40e8ec3f5662bcff85f1f34450" kindref="member">JPEG_CFG_JDATA_FORMAT_SET</ref>(config-&gt;<ref refid="structjpeg__job__config__t_1ae2c9313e989740cd2e72f22d99290b3c" kindref="member">jpeg_format</ref>)</highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1a37cf8fb6c0d9cdab816415befb6b5fc4" kindref="member">JPEG_CFG_JPEG_EN_MASK</ref></highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1a860861de3eae7a71d13e94c1103bd89a" kindref="member">JPEG_CFG_START_MASK</ref>;</highlight></codeline>
<codeline lineno="231"><highlight class="normal"></highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group__common__interface_1ggaae05225933a42f81e7c4a9fb286596f9a99d8737a9b635c0c9d87d7ac65801ce7" kindref="member">status_success</ref>;</highlight></codeline>
<codeline lineno="233"><highlight class="normal">}</highlight></codeline>
<codeline lineno="234"><highlight class="normal"></highlight></codeline>
<codeline lineno="235"><highlight class="normal"></highlight></codeline>
<codeline lineno="236"><highlight class="normal"><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref><sp/><ref refid="group__Jpeg__interface_1ga54945116d7d8d0b5c4a408cfdfa3bcbd" kindref="member">jpeg_start_decode</ref>(<ref refid="structJPEG__Type" kindref="compound">JPEG_Type</ref><sp/>*ptr,</highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structjpeg__job__config__t" kindref="compound">jpeg_job_config_t</ref><sp/>*config,</highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uint32_t<sp/>length)</highlight></codeline>
<codeline lineno="239"><highlight class="normal">{</highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/><sp/>uint32_t<sp/>macro_block_count;</highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/>uint32_t<sp/>macro_block_bytes;</highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><sp/><sp/>uint32_t<sp/>total_bytes;</highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structjpeg__sampling__t" kindref="compound">jpeg_sampling_t</ref><sp/>*sampling;</highlight></codeline>
<codeline lineno="244"><highlight class="normal"></highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="hpm__jpeg__drv_8c_1a1917d11373ffc3c5b4e62d0097135ccb" kindref="member">jpeg_is_valid_size</ref>(config-&gt;<ref refid="structjpeg__job__config__t_1ae2c9313e989740cd2e72f22d99290b3c" kindref="member">jpeg_format</ref>,<sp/>config-&gt;<ref refid="structjpeg__job__config__t_1a122d30120d6ae1e81401a56b0993a939" kindref="member">width_in_pixel</ref>,<sp/>config-&gt;<ref refid="structjpeg__job__config__t_1a87c3f7774262d33898e573d01eff6135" kindref="member">height_in_pixel</ref>))<sp/>{</highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group__common__interface_1ggaae05225933a42f81e7c4a9fb286596f9a380c9b8304ad8399f1be634d6f5c4701" kindref="member">status_invalid_argument</ref>;</highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="248"><highlight class="normal"></highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__Jpeg__interface_1gaaf35df19e281c79ffac0df8d297c9f21" kindref="member">jpeg_disable</ref>(ptr);</highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__Jpeg__interface_1ga0e3585dfc768d43366450befa94dae06" kindref="member">jpeg_software_reset</ref>(ptr);</highlight></codeline>
<codeline lineno="251"><highlight class="normal"></highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/>sampling<sp/>=<sp/>(<ref refid="structjpeg__sampling__t" kindref="compound">jpeg_sampling_t</ref><sp/>*)&amp;<ref refid="hpm__jpeg__drv_8c_1ab9ba9867930733e693802a2c3342bc7c" kindref="member">jpeg_supported_sampling</ref>[config-&gt;<ref refid="structjpeg__job__config__t_1ae2c9313e989740cd2e72f22d99290b3c" kindref="member">jpeg_format</ref>];</highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/>macro_block_count<sp/>=<sp/><ref refid="hpm__jpeg__drv_8c_1adde802048f22285bbbc90266fdf1aae5" kindref="member">jpeg_calculate_macro_block_count</ref>(config-&gt;<ref refid="structjpeg__job__config__t_1a122d30120d6ae1e81401a56b0993a939" kindref="member">width_in_pixel</ref>,<sp/>config-&gt;<ref refid="structjpeg__job__config__t_1a87c3f7774262d33898e573d01eff6135" kindref="member">height_in_pixel</ref>,<sp/>sampling);</highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/>macro_block_bytes<sp/>=<sp/>(<ref refid="hpm__jpeg__drv_8c_1a34073d89d30eddaa34ea8c1fe64b3375" kindref="member">JPEG_HY</ref>(sampling)<sp/>*<sp/><ref refid="hpm__jpeg__drv_8c_1a72fd23e771a02ba4b7a55a3182cb3a8f" kindref="member">JPEG_VY</ref>(sampling)</highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>+<sp/>2<sp/>*<sp/><ref refid="hpm__jpeg__drv_8c_1a95b327403b4872c5c32c2e88d85550f4" kindref="member">JPEG_HC</ref>(sampling)<sp/>*<sp/><ref refid="hpm__jpeg__drv_8c_1ad035ea647e019fc5483fb153262e5c00" kindref="member">JPEG_VC</ref>(sampling))<sp/>&lt;&lt;<sp/>6;</highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/>total_bytes<sp/>=<sp/>macro_block_count<sp/>*<sp/>macro_block_bytes;</highlight></codeline>
<codeline lineno="257"><highlight class="normal"></highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>input<sp/>DMA<sp/>setting<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structJPEG__Type_1a3b3610d317976194fbec227eaa6eb843" kindref="member">INDMA_MISC</ref><sp/>=<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1aa9c4f261b095c1a008827498756d789e" kindref="member">JPEG_INDMA_MISC_IN_DMA_ID_SET</ref>(1)</highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1a75d30b51e96f49e16bdc8faca34f85a9" kindref="member">JPEG_INDMA_MISC_IN_DMA_REQ_MASK</ref></highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1a2bf9b63835f4d93a911c57f6b293f342" kindref="member">JPEG_INDMA_MISC_MAX_OT_SET</ref>(2)</highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1ad4661771765b4121f8dacd9263d103f7" kindref="member">JPEG_INDMA_MISC_PACK_DIR_SET</ref>(config-&gt;<ref refid="structjpeg__job__config__t_1a7b6ac491c5c63314db231dc48aa3430d" kindref="member">in_byte_order</ref>);</highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structJPEG__Type_1a07196247902433650deae27af6662343" kindref="member">INDMABASE</ref><sp/>=<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1a0eb75603d6976dbf474ae4abf2d2d9c5" kindref="member">JPEG_INDMABASE_ADDR_SET</ref>(config-&gt;<ref refid="structjpeg__job__config__t_1adfe8d1ce86a7778fd19d0eca3f7cc508" kindref="member">in_buffer</ref>);</highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>TODO:<sp/>check<sp/>if<sp/>it<sp/>has<sp/>to<sp/>use<sp/>the<sp/>compressed<sp/>length<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structJPEG__Type_1a95a6a162770181d5c879f12a0186cc24" kindref="member">INDMA_CTRL0</ref><sp/>=<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1a2c32e824cd2ef2bd359a91388a906b6f" kindref="member">JPEG_INDMA_CTRL0_TTLEN_SET</ref>(length);</highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structJPEG__Type_1aaaf40c450f505089f067a921b9cb0eb3" kindref="member">INDMA_CTRL1</ref><sp/>=<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1a2267d4a95a7db92b00b3f6d9e2e19f94" kindref="member">JPEG_INDMA_CTRL1_ROWLEN_SET</ref>(length<sp/>&gt;&gt;<sp/>16);</highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structJPEG__Type_1a96fab3f427417efe43317907f78de8ee" kindref="member">INXT_CMD</ref><sp/>=<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1a1ac0bdf79ebd27735379ed9b176d9e7e" kindref="member">JPEG_INXT_CMD_ADDR_SET</ref>(5)<sp/>|<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1ad529a352e7df84e9d8417aa93fea5732" kindref="member">JPEG_INXT_CMD_OP_VALID_MASK</ref>;</highlight></codeline>
<codeline lineno="268"><highlight class="normal"></highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>output<sp/>DMA<sp/>setting<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structJPEG__Type_1a6497daf35e7bef0e242490965f64a311" kindref="member">OUTDMA_MISC</ref><sp/>=<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1a579daed538fbf5a86f749f69e19e3891" kindref="member">JPEG_OUTDMA_MISC_EN_OUTCNT_MASK</ref></highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1acc810d46018b2062654998cf96177c66" kindref="member">JPEG_OUTDMA_MISC_OUT_DMA_ID_SET</ref>(0)</highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1ab92e9514d94a75639213d6cfb7541d46" kindref="member">JPEG_OUTDMA_MISC_INI_OUTCNT_MASK</ref></highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1adbc946e75090eb1529f94c834abd4db3" kindref="member">JPEG_OUTDMA_MISC_OUT_DMA_REQ_MASK</ref></highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1abbb49f253c23e1be3132b8cf23bc9a4d" kindref="member">JPEG_OUTDMA_MISC_OUTDMA2D_MASK</ref></highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1a98ebfee3a3281f2710546ea3ee1dff38" kindref="member">JPEG_OUTDMA_MISC_PACK_DIR_SET</ref>(config-&gt;<ref refid="structjpeg__job__config__t_1acdb8eb20e2eb18e351f1917c372bd174" kindref="member">out_byte_order</ref>);</highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structJPEG__Type_1abc5be2df2eec83a08fb8f8724ab48ce3" kindref="member">OUTDMABASE</ref><sp/>=<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1a9aea297ccfe7ccc57d5d33fb32bdaa2a" kindref="member">JPEG_OUTDMABASE_ADDR_SET</ref>(config-&gt;<ref refid="structjpeg__job__config__t_1a61d26eac50535a32f4d109ceaaf39597" kindref="member">out_buffer</ref>);</highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structJPEG__Type_1a4e40ad69614bade6d9558ec58b4d8f64" kindref="member">OUTDMA_CTRL0</ref><sp/>=<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1a8cb2244fbe522ab9929d08e92ffcd3e0" kindref="member">JPEG_OUTDMA_CTRL0_TTLEN_SET</ref>(total_bytes)</highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1a4bbaf3d6571fd9b515a7d0f6f3ab7be8" kindref="member">JPEG_OUTDMA_CTRL0_PITCH_SET</ref>(config-&gt;<ref refid="structjpeg__job__config__t_1a122d30120d6ae1e81401a56b0993a939" kindref="member">width_in_pixel</ref><sp/>*<sp/><ref refid="hpm__jpeg__drv_8c_1ac368a7f49201dc3f420cb995f365e9e8" kindref="member">jpeg_supported_pixel_format</ref>[config-&gt;<ref refid="structjpeg__job__config__t_1a09f521b7fd64c63a439e23cf9577aec2" kindref="member">out_pixel_format</ref>].<ref refid="structjpeg__pixel__t_1ab85729da4b5373b1b01cf1f0803e9eda" kindref="member">pixel_width</ref>);</highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structJPEG__Type_1a40f79d46e5f17ce317011ee877c3a9b9" kindref="member">OUTDMA_CTRL1</ref><sp/>=<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1a8f3a1d6c573a2b2cdabb772f7cceb71d" kindref="member">JPEG_OUTDMA_CTRL1_ROWLEN_SET</ref>(total_bytes<sp/>&gt;&gt;<sp/>16);</highlight></codeline>
<codeline lineno="280"><highlight class="normal"><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structJPEG__Type_1ac2bd2e0e6066139d772f10cf1e45d0d4" kindref="member">ONXT_CMD</ref><sp/>=<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1a07c5f8bd6d943c785e702d33b991e9bb" kindref="member">JPEG_ONXT_CMD_ADDR_SET</ref>(5)<sp/>|<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1a44bbca2ef71843b6a0d6818e06307f3d" kindref="member">JPEG_ONXT_CMD_OP_VALID_MASK</ref>;</highlight></codeline>
<codeline lineno="281"><highlight class="normal"></highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="hpm__jpeg__drv_8c_1a4e89548080a3a9e847336e9e396cf747" kindref="member">jpeg_config_interal_regs</ref>(ptr,<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">,<sp/>macro_block_count,<sp/>config-&gt;<ref refid="structjpeg__job__config__t_1ae2c9313e989740cd2e72f22d99290b3c" kindref="member">jpeg_format</ref>);</highlight></codeline>
<codeline lineno="283"><highlight class="normal"></highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structJPEG__Type_1a29386a0b57e65531314bc68abf66543c" kindref="member">WIDTH</ref><sp/>=<sp/>config-&gt;<ref refid="structjpeg__job__config__t_1a122d30120d6ae1e81401a56b0993a939" kindref="member">width_in_pixel</ref><sp/>-<sp/>1;</highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structJPEG__Type_1a0fd70d55b2cca225091a34bf6323631a" kindref="member">HEIGHT</ref><sp/>=<sp/>config-&gt;<ref refid="structjpeg__job__config__t_1a87c3f7774262d33898e573d01eff6135" kindref="member">height_in_pixel</ref><sp/>-<sp/>1;</highlight></codeline>
<codeline lineno="286"><highlight class="normal"></highlight></codeline>
<codeline lineno="287"><highlight class="normal"><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structJPEG__Type_1a13b3e5c3a4860248e5e167812334e2b8" kindref="member">CSC_COEF0</ref><sp/>=<sp/>0x4ab01f0</highlight></codeline>
<codeline lineno="288"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1ab719242a098e401597fead37593b7065" kindref="member">JPEG_CSC_COEF0_YCBCR_MODE_SET</ref>(config-&gt;<ref refid="structjpeg__job__config__t_1aee133b41cc4d3053bb711663148bbcfb" kindref="member">enable_ycbcr</ref>)</highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1aad9074c07833cb5efa42cc775ba3b1b7" kindref="member">JPEG_CSC_COEF0_ENABLE_SET</ref>(<ref refid="hpm__jpeg__drv_8c_1a2c10e2b395778e1a6c45719221d09db5" kindref="member">jpeg_need_csc</ref>(config-&gt;<ref refid="structjpeg__job__config__t_1a8b6bb09b12cd563703329f51c402a3f2" kindref="member">in_pixel_format</ref>,<sp/>config-&gt;<ref refid="structjpeg__job__config__t_1a09f521b7fd64c63a439e23cf9577aec2" kindref="member">out_pixel_format</ref>));</highlight></codeline>
<codeline lineno="290"><highlight class="normal"><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structJPEG__Type_1a81c9a7a0dc3452ae8afe7c0b34304309" kindref="member">CSC_COEF1</ref><sp/>=<sp/>0x01980204;</highlight></codeline>
<codeline lineno="291"><highlight class="normal"><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structJPEG__Type_1a3c6a087c0efda250082beed6ca440201" kindref="member">CSC_COEF2</ref><sp/>=<sp/>0x0730079C;</highlight></codeline>
<codeline lineno="292"><highlight class="normal"></highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structJPEG__Type_1a51375eae19eb5888a26dbbd51fd8b72e" kindref="member">CFG</ref><sp/>=<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1abb753561c2b3c566812ad3a9633fa546" kindref="member">JPEG_CFG_CFG_OPATH_SEL_SET</ref>(<ref refid="hpm__jpeg__drv_8c_1ac368a7f49201dc3f420cb995f365e9e8" kindref="member">jpeg_supported_pixel_format</ref>[config-&gt;<ref refid="structjpeg__job__config__t_1a09f521b7fd64c63a439e23cf9577aec2" kindref="member">out_pixel_format</ref>].<ref refid="structjpeg__pixel__t_1a54fb409c9af3faf8065070187170d1a9" kindref="member">opath</ref>)</highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1ac9170d40e8ec3f5662bcff85f1f34450" kindref="member">JPEG_CFG_JDATA_FORMAT_SET</ref>(config-&gt;<ref refid="structjpeg__job__config__t_1ae2c9313e989740cd2e72f22d99290b3c" kindref="member">jpeg_format</ref>)</highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1a37cf8fb6c0d9cdab816415befb6b5fc4" kindref="member">JPEG_CFG_JPEG_EN_MASK</ref></highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1a860861de3eae7a71d13e94c1103bd89a" kindref="member">JPEG_CFG_START_MASK</ref></highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1a312d931c093ed5a9c366a32237478f0a" kindref="member">JPEG_CFG_CLKGATE_MASK</ref></highlight></codeline>
<codeline lineno="298"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1a0b0b645d7785130d4a0b9ecd49b82685" kindref="member">JPEG_CFG_MODE_MASK</ref>;</highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group__common__interface_1ggaae05225933a42f81e7c4a9fb286596f9a99d8737a9b635c0c9d87d7ac65801ce7" kindref="member">status_success</ref>;</highlight></codeline>
<codeline lineno="300"><highlight class="normal">}</highlight></codeline>
<codeline lineno="301"><highlight class="normal"></highlight></codeline>
<codeline lineno="302"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>JPEG_TABLE_WIDTH(x)<sp/><sp/>(((x)<sp/>&amp;<sp/>0xF00000UL)<sp/>&gt;&gt;<sp/>20)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="303"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>JPEG_TABLE_LENGTH(x)<sp/>(((x)<sp/>&amp;<sp/>0xFFFF0UL)<sp/>&gt;&gt;<sp/>4)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="304"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>JPEG_TABLE_TYPE(x)<sp/><sp/><sp/>(((x)<sp/>&amp;<sp/>0xFUL))</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="305"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>JPEG_TABLE_VALUE_MASK(x)<sp/>(((x)<sp/>==<sp/>4)<sp/>?<sp/>(0xFFFFFFFFUL)<sp/>:<sp/>(uint32_t)<sp/>((1<sp/>&lt;&lt;<sp/>((x)<sp/>&lt;&lt;<sp/>3))<sp/>-<sp/>1))</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="306"><highlight class="normal"></highlight></codeline>
<codeline lineno="307"><highlight class="normal"><ref refid="group__common__interface_1ga087efae82a4b174a0363363d9d5ece19" kindref="member">hpm_stat_t</ref><sp/><ref refid="group__Jpeg__interface_1gae3b3e404e365c5bf4d4ccf28de62d7c3" kindref="member">jpeg_fill_table</ref>(<ref refid="structJPEG__Type" kindref="compound">JPEG_Type</ref><sp/>*ptr,<sp/><ref refid="group__Jpeg__interface_1ga1939e502ac946d68f76c3c36f0286254" kindref="member">jpeg_table_t</ref><sp/>table,<sp/>uint8_t<sp/>*data,<sp/>uint32_t<sp/>count)</highlight></codeline>
<codeline lineno="308"><highlight class="normal">{</highlight></codeline>
<codeline lineno="309"><highlight class="normal"><sp/><sp/><sp/><sp/>uint32_t<sp/>i<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="310"><highlight class="normal"><sp/><sp/><sp/><sp/>uint32_t<sp/>width<sp/>=<sp/><ref refid="hpm__jpeg__drv_8c_1ad9e66197cb911abdbb8b447a5b368a4a" kindref="member">JPEG_TABLE_WIDTH</ref>(table);</highlight></codeline>
<codeline lineno="311"><highlight class="normal"><sp/><sp/><sp/><sp/>uint32_t<sp/>length<sp/>=<sp/><ref refid="hpm__jpeg__drv_8c_1afb81a39220901e166a19af7a3932fc9e" kindref="member">JPEG_TABLE_LENGTH</ref>(table);</highlight></codeline>
<codeline lineno="312"><highlight class="normal"><sp/><sp/><sp/><sp/>uint32_t<sp/>type<sp/>=<sp/><ref refid="hpm__jpeg__drv_8c_1a0a4ce80fda53c71a1a7cb9bb6a9293ab" kindref="member">JPEG_TABLE_TYPE</ref>(table);</highlight></codeline>
<codeline lineno="313"><highlight class="normal"><sp/><sp/><sp/><sp/>uint32_t<sp/>*p;</highlight></codeline>
<codeline lineno="314"><highlight class="normal"></highlight></codeline>
<codeline lineno="315"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(length<sp/>!=<sp/>count)<sp/>{</highlight></codeline>
<codeline lineno="316"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group__common__interface_1ggaae05225933a42f81e7c4a9fb286596f9a380c9b8304ad8399f1be634d6f5c4701" kindref="member">status_invalid_argument</ref>;</highlight></codeline>
<codeline lineno="317"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="318"><highlight class="normal"></highlight></codeline>
<codeline lineno="319"><highlight class="normal"><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structJPEG__Type_1a55d0a9ad661c1db77d5921ab9b1e60bc" kindref="member">BUFADDR</ref><sp/>=<sp/>type<sp/>&lt;&lt;<sp/>28;</highlight></codeline>
<codeline lineno="320"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>count;<sp/>i++)<sp/>{</highlight></codeline>
<codeline lineno="321"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p<sp/>=<sp/>(uint32_t<sp/>*)<sp/>&amp;data[i<sp/>*<sp/>width];</highlight></codeline>
<codeline lineno="322"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptr-&gt;<ref refid="structJPEG__Type_1a79ec4c35ed7da9bbfc86846685eb6f76" kindref="member">BUFDATA</ref><sp/>=<sp/><ref refid="HPM6700_2ip_2hpm__jpeg__regs_8h_1add984a18e22cc42ab79102c4eeeb86a8" kindref="member">JPEG_BUFADDR_ADDR_SET</ref>(*p<sp/>&amp;<sp/><ref refid="hpm__jpeg__drv_8c_1a2d2e9199bc37c10b30b72e54105a2022" kindref="member">JPEG_TABLE_VALUE_MASK</ref>(width));</highlight></codeline>
<codeline lineno="323"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="324"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group__common__interface_1ggaae05225933a42f81e7c4a9fb286596f9a99d8737a9b635c0c9d87d7ac65801ce7" kindref="member">status_success</ref>;</highlight></codeline>
<codeline lineno="325"><highlight class="normal">}</highlight></codeline>
<codeline lineno="326"><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="drivers/src/hpm_jpeg_drv.c"/>
  </compounddef>
</doxygen>
