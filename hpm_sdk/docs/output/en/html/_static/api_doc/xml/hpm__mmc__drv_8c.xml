<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.13.2" xml:lang="en-US">
  <compounddef id="hpm__mmc__drv_8c" kind="file" language="C++">
    <compoundname>hpm_mmc_drv.c</compoundname>
    <includes refid="hpm__mmc__drv_8h" local="yes">hpm_mmc_drv.h</includes>
    <incdepgraph>
      <node id="3">
        <label>hpm_common.h</label>
        <link refid="hpm__common_8h"/>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
      </node>
      <node id="2">
        <label>hpm_mmc_drv.h</label>
        <link refid="hpm__mmc__drv_8h"/>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="9" relation="include">
        </childnode>
      </node>
      <node id="1">
        <label>drivers/src/hpm_mmc_drv.c</label>
        <link refid="hpm__mmc__drv_8c"/>
        <childnode refid="2" relation="include">
        </childnode>
      </node>
      <node id="9">
        <label>hpm_mmc_regs.h</label>
        <link refid="hpm__mmc__regs_8h"/>
      </node>
      <node id="4">
        <label>assert.h</label>
      </node>
      <node id="5">
        <label>stdbool.h</label>
      </node>
      <node id="6">
        <label>stdint.h</label>
      </node>
      <node id="8">
        <label>stdlib.h</label>
      </node>
      <node id="7">
        <label>string.h</label>
      </node>
    </incdepgraph>
    <sectiondef kind="func">
      <member refid="group__mmc__interface_1ga236be37d97e7042f3ddc20051551405f" kind="function"><name>mmc_track_config_pos_mode</name></member>
      <member refid="group__mmc__interface_1ga6607d2d39768a22304897f95eb700c68" kind="function"><name>mmc_track_get_default_mode_config</name></member>
      <member refid="group__mmc__interface_1gad59799a0cea721121d23709ce4168b34" kind="function"><name>mmc_track_config_mode</name></member>
      <member refid="group__mmc__interface_1gac76d921d736584d0a1cf39c100069913" kind="function"><name>mmc_get_default_pos_or_delta_pos_para</name></member>
      <member refid="group__mmc__interface_1ga6a89e991d63716429fa6807c3020828e" kind="function"><name>mmc_track_config_pos_para</name></member>
      <member refid="group__mmc__interface_1gafa722ddc07690077c103ecd16039e6d9" kind="function"><name>mmc_track_config_delta_para</name></member>
      <member refid="group__mmc__interface_1ga289f11bb956b00f07c3523a4aabc4c53" kind="function"><name>mmc_track_config_coef_para</name></member>
      <member refid="group__mmc__interface_1ga4cd7ad48e5dfb5a06069b9680e01aeb9" kind="function"><name>mmc_track_config_coef_trig</name></member>
      <member refid="group__mmc__interface_1ga089f0a03ce12f3c698dfbc3493d9fe36" kind="function"><name>mmc_track_get_result</name></member>
      <member refid="group__mmc__interface_1ga60740b3b88ddffcffad34e160c45104b" kind="function"><name>mmc_pred_get_default_mode_config</name></member>
      <member refid="group__mmc__interface_1ga588d2e8ad99101981820c9bad1ffa6de" kind="function"><name>mmc_pred_config_mode</name></member>
      <member refid="group__mmc__interface_1ga72c6d2831d75fcfc0a4446aab9779de0" kind="function"><name>mmc_pred_config_pos_para</name></member>
      <member refid="group__mmc__interface_1gaee4e22eddb75510ad8b06926058c3219" kind="function"><name>mmc_pred_config_delta_para</name></member>
      <member refid="group__mmc__interface_1gaff6ab08cf69df908dfecfb14c8c3c79f" kind="function"><name>mmc_pred_get_result</name></member>
      <member refid="group__mmc__interface_1gac964e290b5809cb4ffa68e61fcd7a5b1" kind="function"><name>mmc_pred_config_period_time</name></member>
      <member refid="group__mmc__interface_1ga9835a69a9c7ea88a954178c0c291ef25" kind="function"><name>mmc_pred_config_position_trig</name></member>
      <member refid="group__mmc__interface_1ga81d4407393a56754be875cf6eaada2bd" kind="function"><name>mmc_pred_config_speed_trig</name></member>
      <member refid="group__mmc__interface_1gad3fabae99f436dd5bf5e1efc3aa333bc" kind="function"><name>mmc_track_config_position_trig</name></member>
      <member refid="group__mmc__interface_1gad276e02a10e0d7fa10c40b634e2e4a8b" kind="function"><name>mmc_track_config_speed_trig</name></member>
    </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">/*</highlight></codeline>
<codeline lineno="2"><highlight class="comment"><sp/>*<sp/>Copyright<sp/>(c)<sp/>2023<sp/>HPMicro</highlight></codeline>
<codeline lineno="3"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="4"><highlight class="comment"><sp/>*<sp/>SPDX-License-Identifier:<sp/>BSD-3-Clause</highlight></codeline>
<codeline lineno="5"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="6"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="hpm__mmc__drv_8h" kindref="compound">hpm_mmc_drv.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group__mmc__interface_1ga236be37d97e7042f3ddc20051551405f" kindref="member">mmc_track_config_pos_mode</ref>(<ref refid="structMMC__Type" kindref="compound">MMC_Type</ref><sp/>*base,<sp/><ref refid="structmmc__track__pos__mode__t" kindref="compound">mmc_track_pos_mode_t</ref><sp/>*mode)</highlight></codeline>
<codeline lineno="11"><highlight class="normal">{</highlight></codeline>
<codeline lineno="12"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(mode-&gt;<ref refid="structmmc__track__pos__mode__t_1a1d6b738a98bc7fbccedd52e05ae55cbe" kindref="member">discrete_pos_mode</ref>)<sp/>{</highlight></codeline>
<codeline lineno="13"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMMC__Type_1aad09203fd0aafd7ebbf40ade5bd264e6" kindref="member">CR</ref><sp/>|=<sp/><ref refid="hpm__mmc__regs_8h_1a73f52898fbe569693e7063aa4ee0d1bd" kindref="member">MMC_CR_DISCRETETRC_MASK</ref>;</highlight></codeline>
<codeline lineno="14"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMMC__Type_1a1564bdd733969bfeea895f94210c716d" kindref="member">DISCRETECFG0</ref><sp/>=<sp/><ref refid="hpm__mmc__regs_8h_1ac7abdb207f3a5789353c184ece82fa3a" kindref="member">MMC_DISCRETECFG0_POSMAX_SET</ref>(mode-&gt;<ref refid="structmmc__track__pos__mode__t_1aa2816d7ddec38898dab753c8437a50d4" kindref="member">discrete_line</ref>);</highlight></codeline>
<codeline lineno="15"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uint32_t<sp/>inv_line<sp/>=<sp/>(uint32_t)(100000000UL<sp/>/<sp/>mode-&gt;<ref refid="structmmc__track__pos__mode__t_1aa2816d7ddec38898dab753c8437a50d4" kindref="member">discrete_line</ref>);</highlight></codeline>
<codeline lineno="16"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMMC__Type_1aa71688cd5fef5b391f825d857f74b03b" kindref="member">DISCRETECFG1</ref><sp/>=<sp/><ref refid="hpm__mmc__regs_8h_1ae247cdbf2db9b8a0e2b3dd32f438a3c8" kindref="member">MMC_DISCRETECFG1_INV_POSMAX_SET</ref>(inv_line);</highlight></codeline>
<codeline lineno="17"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="18"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMMC__Type_1aad09203fd0aafd7ebbf40ade5bd264e6" kindref="member">CR</ref><sp/>&amp;=<sp/><ref refid="hpm__mmc__regs_8h_1a73f52898fbe569693e7063aa4ee0d1bd" kindref="member">~MMC_CR_DISCRETETRC_MASK</ref>;</highlight></codeline>
<codeline lineno="19"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMMC__Type_1aa71688cd5fef5b391f825d857f74b03b" kindref="member">DISCRETECFG1</ref><sp/>=<sp/><ref refid="hpm__mmc__regs_8h_1ae247cdbf2db9b8a0e2b3dd32f438a3c8" kindref="member">MMC_DISCRETECFG1_INV_POSMAX_SET</ref>(mode-&gt;<ref refid="structmmc__track__pos__mode__t_1a98a416ac3c898b5203ddb43c506e41fd" kindref="member">continuous_step_thr</ref>);</highlight></codeline>
<codeline lineno="20"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMMC__Type_1a92e0d565385bc47e22c6e7b0f9f7c901" kindref="member">CONTCFG0</ref><sp/>=<sp/><ref refid="hpm__mmc__regs_8h_1a5a49d5db507a71c19b3bd567e05d5f7f" kindref="member">MMC_CONTCFG0_HALF_CIRC_THETA_SET</ref>(mode-&gt;<ref refid="structmmc__track__pos__mode__t_1aeb00a182fe4fce9e50a556008b070cd0" kindref="member">continuous_circ_thr</ref>);</highlight></codeline>
<codeline lineno="21"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight></codeline>
<codeline lineno="23"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMMC__Type_1aa3e29f7bd36677e530cbed5b1bf873ff" kindref="member">OOSYNC_THETA_THR</ref><sp/>=<sp/><ref refid="hpm__mmc__regs_8h_1a5a1f1c40ef79c568b66b206569976cbd" kindref="member">MMC_OOSYNC_THETA_THR_VAL_SET</ref>(mode-&gt;<ref refid="structmmc__track__pos__mode__t_1a60d63796307eba02e2a1f320b04d5fd9" kindref="member">oosync_theta_thr</ref>);</highlight></codeline>
<codeline lineno="24"><highlight class="normal">}</highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group__mmc__interface_1ga6607d2d39768a22304897f95eb700c68" kindref="member">mmc_track_get_default_mode_config</ref>(<ref refid="structMMC__Type" kindref="compound">MMC_Type</ref><sp/>*base,<sp/><ref refid="structmmc__track__mode__t" kindref="compound">mmc_track_mode_t</ref><sp/>*config)</highlight></codeline>
<codeline lineno="27"><highlight class="normal">{</highlight></codeline>
<codeline lineno="28"><highlight class="normal"><sp/><sp/><sp/><sp/>(void)<sp/>base;</highlight></codeline>
<codeline lineno="29"><highlight class="normal"><sp/><sp/><sp/><sp/>config-&gt;<ref refid="structmmc__track__mode__t_1afd5363661de69479620ca5c5cfb80754" kindref="member">force_accel_to_zero</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="30"><highlight class="normal"><sp/><sp/><sp/><sp/>config-&gt;<ref refid="structmmc__track__mode__t_1adf98194151824c2e7bdb5efdc508f2e5" kindref="member">en_ms_coef</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="31"><highlight class="normal"><sp/><sp/><sp/><sp/>config-&gt;<ref refid="structmmc__track__mode__t_1adda59cb4cd2068d8c950795d1597b0df" kindref="member">open_loop_mode</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="32"><highlight class="normal"><sp/><sp/><sp/><sp/>config-&gt;<ref refid="structmmc__track__mode__t_1a7e9b5aa991cc3c0b779f1242b829e188" kindref="member">pos_16bit_type</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="33"><highlight class="normal"><sp/><sp/><sp/><sp/>config-&gt;<ref refid="structmmc__track__mode__t_1a37a1ca59378dc18125e5ab9b1110de00" kindref="member">sync_new_pos</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="34"><highlight class="normal"></highlight></codeline>
<codeline lineno="35"><highlight class="normal"><sp/><sp/><sp/><sp/>config-&gt;<ref refid="structmmc__track__mode__t_1a9a183e72b60b1020f602cdd1c3a967fe" kindref="member">pos_mode</ref>.<ref refid="structmmc__track__pos__mode__t_1a1d6b738a98bc7fbccedd52e05ae55cbe" kindref="member">discrete_pos_mode</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="36"><highlight class="normal"><sp/><sp/><sp/><sp/>config-&gt;<ref refid="structmmc__track__mode__t_1a9a183e72b60b1020f602cdd1c3a967fe" kindref="member">pos_mode</ref>.<ref refid="structmmc__track__pos__mode__t_1aa2816d7ddec38898dab753c8437a50d4" kindref="member">discrete_line</ref><sp/>=<sp/>0x10000;</highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/><sp/><sp/>config-&gt;<ref refid="structmmc__track__mode__t_1a9a183e72b60b1020f602cdd1c3a967fe" kindref="member">pos_mode</ref>.<ref refid="structmmc__track__pos__mode__t_1a98a416ac3c898b5203ddb43c506e41fd" kindref="member">continuous_step_thr</ref><sp/>=<sp/>0x1000000;</highlight></codeline>
<codeline lineno="38"><highlight class="normal"><sp/><sp/><sp/><sp/>config-&gt;<ref refid="structmmc__track__mode__t_1a9a183e72b60b1020f602cdd1c3a967fe" kindref="member">pos_mode</ref>.<ref refid="structmmc__track__pos__mode__t_1aeb00a182fe4fce9e50a556008b070cd0" kindref="member">continuous_circ_thr</ref><sp/>=<sp/>0x1000000;</highlight></codeline>
<codeline lineno="39"><highlight class="normal"><sp/><sp/><sp/><sp/>config-&gt;<ref refid="structmmc__track__mode__t_1a9a183e72b60b1020f602cdd1c3a967fe" kindref="member">pos_mode</ref>.<ref refid="structmmc__track__pos__mode__t_1a60d63796307eba02e2a1f320b04d5fd9" kindref="member">oosync_theta_thr</ref><sp/>=<sp/>0x1000000;</highlight></codeline>
<codeline lineno="40"><highlight class="normal">}</highlight></codeline>
<codeline lineno="41"><highlight class="normal"></highlight></codeline>
<codeline lineno="42"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group__mmc__interface_1gad59799a0cea721121d23709ce4168b34" kindref="member">mmc_track_config_mode</ref>(<ref refid="structMMC__Type" kindref="compound">MMC_Type</ref><sp/>*base,<sp/><ref refid="structmmc__track__mode__t" kindref="compound">mmc_track_mode_t</ref><sp/>*config)</highlight></codeline>
<codeline lineno="43"><highlight class="normal">{</highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMMC__Type_1aad09203fd0aafd7ebbf40ade5bd264e6" kindref="member">CR</ref><sp/>&amp;=<sp/>~(<ref refid="hpm__mmc__regs_8h_1ad97294c1ddfd33eae8b6b608372b7117" kindref="member">MMC_CR_FRCACCELZERO_MASK</ref></highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="hpm__mmc__regs_8h_1a3bda1d704e226f0c3fec50c268000bef" kindref="member">MMC_CR_MS_COEF_EN_MASK</ref></highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="hpm__mmc__regs_8h_1a106238c37c45e76a89f8c70b4a993616" kindref="member">MMC_CR_OPEN_LOOP_MODE_MASK</ref></highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="hpm__mmc__regs_8h_1a42852718516d673d45cb259290b1f495" kindref="member">MMC_CR_POS_TYPE_MASK</ref></highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="hpm__mmc__regs_8h_1a49227ab904bea6a9132c253fc8e13cb1" kindref="member">MMC_CR_ADJOP_MASK</ref>);</highlight></codeline>
<codeline lineno="49"><highlight class="normal"></highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMMC__Type_1aad09203fd0aafd7ebbf40ade5bd264e6" kindref="member">CR</ref><sp/>|=<sp/><ref refid="hpm__mmc__regs_8h_1a8d0dbbff773dc36741e6e4e38a948e04" kindref="member">MMC_CR_FRCACCELZERO_SET</ref>(config-&gt;<ref refid="structmmc__track__mode__t_1afd5363661de69479620ca5c5cfb80754" kindref="member">force_accel_to_zero</ref>)</highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="hpm__mmc__regs_8h_1afc74c9a1a72774c7659e0df721fb50bb" kindref="member">MMC_CR_MS_COEF_EN_SET</ref>(config-&gt;<ref refid="structmmc__track__mode__t_1adf98194151824c2e7bdb5efdc508f2e5" kindref="member">en_ms_coef</ref>)</highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="hpm__mmc__regs_8h_1a70150d9211952b57067416e1265a263a" kindref="member">MMC_CR_OPEN_LOOP_MODE_SET</ref>(config-&gt;<ref refid="structmmc__track__mode__t_1adda59cb4cd2068d8c950795d1597b0df" kindref="member">open_loop_mode</ref>)</highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="hpm__mmc__regs_8h_1a8953a6a05549bcba4e35c29b17f62be9" kindref="member">MMC_CR_POS_TYPE_SET</ref>(config-&gt;<ref refid="structmmc__track__mode__t_1a7e9b5aa991cc3c0b779f1242b829e188" kindref="member">pos_16bit_type</ref>)</highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="hpm__mmc__regs_8h_1a484cb490b2e92204b47f9a89dd342b2b" kindref="member">MMC_CR_ADJOP_SET</ref>(config-&gt;<ref refid="structmmc__track__mode__t_1a37a1ca59378dc18125e5ab9b1110de00" kindref="member">sync_new_pos</ref>);</highlight></codeline>
<codeline lineno="55"><highlight class="normal"></highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__mmc__interface_1ga236be37d97e7042f3ddc20051551405f" kindref="member">mmc_track_config_pos_mode</ref>(base,<sp/>&amp;config-&gt;<ref refid="structmmc__track__mode__t_1a9a183e72b60b1020f602cdd1c3a967fe" kindref="member">pos_mode</ref>);</highlight></codeline>
<codeline lineno="57"><highlight class="normal">}</highlight></codeline>
<codeline lineno="58"><highlight class="normal"></highlight></codeline>
<codeline lineno="59"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group__mmc__interface_1gac76d921d736584d0a1cf39c100069913" kindref="member">mmc_get_default_pos_or_delta_pos_para</ref>(<ref refid="structMMC__Type" kindref="compound">MMC_Type</ref><sp/>*base,<sp/><ref refid="structmmc__pos__or__delta__pos__input__t" kindref="compound">mmc_pos_or_delta_pos_input_t</ref><sp/>*para)</highlight></codeline>
<codeline lineno="60"><highlight class="normal">{</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/>(void)<sp/>base;</highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/>para-&gt;<ref refid="structmmc__pos__or__delta__pos__input__t_1a8a794412a7b52d8d14c083aa9857c7e5" kindref="member">pos_time</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/>para-&gt;<ref refid="structmmc__pos__or__delta__pos__input__t_1ad9894a636ea4b72000e851a8f5fcffe7" kindref="member">position</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/><sp/>para-&gt;<ref refid="structmmc__pos__or__delta__pos__input__t_1aadcf2412ffbfd998fc9376baf2ad2719" kindref="member">revolution</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/><sp/>para-&gt;<ref refid="structmmc__pos__or__delta__pos__input__t_1ad1d9e9ceb696f4ef4075d285033ad3f0" kindref="member">speed</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/>para-&gt;<ref refid="structmmc__pos__or__delta__pos__input__t_1a4c9751c16071f5cc76531d3aec301eee" kindref="member">accel</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/><sp/>para-&gt;<ref refid="structmmc__pos__or__delta__pos__input__t_1a2ca37c804887e1ffbd9520d255f710d9" kindref="member">cmd_mask</ref><sp/>=<sp/><ref refid="group__mmc__interface_1gga63e37eb0243db63f2405b72b5e0a2719abc59417a4422df1d85b2e71a4f31fc78" kindref="member">mmc_pos_update_all</ref>;</highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/><sp/>para-&gt;<ref refid="structmmc__pos__or__delta__pos__input__t_1a52a446d3d6bc858ba060127d40f3a96d" kindref="member">trigger</ref><sp/>=<sp/><ref refid="group__mmc__interface_1gga09696b17b82a9bf3e48b15382824b607ae7efe43cfad7d6dc7d3414e9ccb78b20" kindref="member">mmc_pos_update_by_timestamp</ref>;</highlight></codeline>
<codeline lineno="69"><highlight class="normal">}</highlight></codeline>
<codeline lineno="70"><highlight class="normal"></highlight></codeline>
<codeline lineno="71"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group__mmc__interface_1ga6a89e991d63716429fa6807c3020828e" kindref="member">mmc_track_config_pos_para</ref>(<ref refid="structMMC__Type" kindref="compound">MMC_Type</ref><sp/>*base,<sp/><ref refid="structmmc__pos__or__delta__pos__input__t" kindref="compound">mmc_pos_or_delta_pos_input_t</ref><sp/>*para)</highlight></codeline>
<codeline lineno="72"><highlight class="normal">{</highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>speed<sp/>and<sp/>accel<sp/>has<sp/>19bit<sp/>decimal<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/>int32_t<sp/>speed<sp/>=<sp/>(int32_t)(para-&gt;<ref refid="structmmc__pos__or__delta__pos__input__t_1ad1d9e9ceb696f4ef4075d285033ad3f0" kindref="member">speed</ref><sp/>*<sp/>(1<sp/>&lt;&lt;<sp/>19U));</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/>int32_t<sp/>accel<sp/>=<sp/>(int32_t)(para-&gt;<ref refid="structmmc__pos__or__delta__pos__input__t_1a4c9751c16071f5cc76531d3aec301eee" kindref="member">accel</ref><sp/>*<sp/>(1<sp/>&lt;&lt;<sp/>19U));</highlight></codeline>
<codeline lineno="76"><highlight class="normal"></highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMMC__Type_1a4600031d95a10cb23b3e72171aefd04a" kindref="member">INI_SPEED</ref><sp/>=<sp/>speed;</highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMMC__Type_1afb451d8071fc1886fdc07202cceb0c4c" kindref="member">INI_ACCEL</ref><sp/>=<sp/>accel;</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMMC__Type_1a88c66247c77005cf97953e1315e9883c" kindref="member">INI_POS</ref><sp/>=<sp/>para-&gt;<ref refid="structmmc__pos__or__delta__pos__input__t_1ad9894a636ea4b72000e851a8f5fcffe7" kindref="member">position</ref>;</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMMC__Type_1a2655ef4aa3d8d6881ea16d4eb327f54e" kindref="member">INI_REV</ref><sp/>=<sp/>para-&gt;<ref refid="structmmc__pos__or__delta__pos__input__t_1aadcf2412ffbfd998fc9376baf2ad2719" kindref="member">revolution</ref>;</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMMC__Type_1a5f2808fa2d32902570019fc37444bb17" kindref="member">INI_POS_TIME</ref><sp/>=<sp/>para-&gt;<ref refid="structmmc__pos__or__delta__pos__input__t_1a8a794412a7b52d8d14c083aa9857c7e5" kindref="member">pos_time</ref>;</highlight></codeline>
<codeline lineno="82"><highlight class="normal"></highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMMC__Type_1aad09203fd0aafd7ebbf40ade5bd264e6" kindref="member">CR</ref><sp/>&amp;=<sp/>~(<ref refid="hpm__mmc__regs_8h_1a1160acc2c2b6b6b37f080affa57df04a" kindref="member">MMC_CR_INI_POS_TRG_TYPE_MASK</ref><sp/>|<sp/><ref refid="hpm__mmc__regs_8h_1a33a5c9befa5925d1638a0db4769665af" kindref="member">MMC_CR_INI_POS_CMD_MSK_MASK</ref><sp/>|<sp/><ref refid="hpm__mmc__regs_8h_1a346f927ea53c3c25de42836dd2bb10ec" kindref="member">MMC_CR_INI_POS_REQ_MASK</ref>);</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMMC__Type_1aad09203fd0aafd7ebbf40ade5bd264e6" kindref="member">CR</ref><sp/>|=<sp/><ref refid="hpm__mmc__regs_8h_1a476917228fb9cafe362c28ddde427893" kindref="member">MMC_CR_INI_POS_TRG_TYPE_SET</ref>((para-&gt;<ref refid="structmmc__pos__or__delta__pos__input__t_1a52a446d3d6bc858ba060127d40f3a96d" kindref="member">trigger</ref>))</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="hpm__mmc__regs_8h_1aed49dd8dde5fd2d00941368700fba00e" kindref="member">MMC_CR_INI_POS_CMD_MSK_SET</ref>(para-&gt;<ref refid="structmmc__pos__or__delta__pos__input__t_1a2ca37c804887e1ffbd9520d255f710d9" kindref="member">cmd_mask</ref>)</highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="hpm__mmc__regs_8h_1a346f927ea53c3c25de42836dd2bb10ec" kindref="member">MMC_CR_INI_POS_REQ_MASK</ref>;</highlight></codeline>
<codeline lineno="87"><highlight class="normal">}</highlight></codeline>
<codeline lineno="88"><highlight class="normal"></highlight></codeline>
<codeline lineno="89"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group__mmc__interface_1gafa722ddc07690077c103ecd16039e6d9" kindref="member">mmc_track_config_delta_para</ref>(<ref refid="structMMC__Type" kindref="compound">MMC_Type</ref><sp/>*base,<sp/><ref refid="structmmc__pos__or__delta__pos__input__t" kindref="compound">mmc_pos_or_delta_pos_input_t</ref><sp/>*para)</highlight></codeline>
<codeline lineno="90"><highlight class="normal">{</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/>int32_t<sp/>speed<sp/>=<sp/>(int32_t)(para-&gt;<ref refid="structmmc__pos__or__delta__pos__input__t_1ad1d9e9ceb696f4ef4075d285033ad3f0" kindref="member">speed</ref><sp/>*<sp/>(1<sp/>&lt;&lt;<sp/>19U));</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/>int32_t<sp/>accel<sp/>=<sp/>(int32_t)(para-&gt;<ref refid="structmmc__pos__or__delta__pos__input__t_1a4c9751c16071f5cc76531d3aec301eee" kindref="member">accel</ref><sp/>*<sp/>(1<sp/>&lt;&lt;<sp/>19U));</highlight></codeline>
<codeline lineno="93"><highlight class="normal"></highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMMC__Type_1a5b58e15449083150d30b2e0fe596f2d8" kindref="member">INI_DELTA_SPEED</ref><sp/>=<sp/>speed;</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMMC__Type_1ac112a5915f382085536b7f34183fc57b" kindref="member">INI_DELTA_ACCEL</ref><sp/>=<sp/>accel;</highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMMC__Type_1a711ca7cbc3c6c4143d87f705acb726ff" kindref="member">INI_DELTA_POS</ref><sp/>=<sp/>para-&gt;<ref refid="structmmc__pos__or__delta__pos__input__t_1ad9894a636ea4b72000e851a8f5fcffe7" kindref="member">position</ref>;</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMMC__Type_1af3f3fa30d64861b5dae2df1da0c32e12" kindref="member">INI_DELTA_REV</ref><sp/>=<sp/>para-&gt;<ref refid="structmmc__pos__or__delta__pos__input__t_1aadcf2412ffbfd998fc9376baf2ad2719" kindref="member">revolution</ref>;</highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMMC__Type_1a3a9ccbc74de492f81b33412d9f52d32d" kindref="member">INI_DELTA_POS_TIME</ref><sp/>=<sp/>para-&gt;<ref refid="structmmc__pos__or__delta__pos__input__t_1a8a794412a7b52d8d14c083aa9857c7e5" kindref="member">pos_time</ref>;</highlight></codeline>
<codeline lineno="99"><highlight class="normal"></highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMMC__Type_1aad09203fd0aafd7ebbf40ade5bd264e6" kindref="member">CR</ref><sp/>&amp;=<sp/>~(<ref refid="hpm__mmc__regs_8h_1a04b784ad30023e82f72ef3a8e1ed5610" kindref="member">MMC_CR_INI_DELTA_POS_TRG_TYPE_MASK</ref><sp/>|<sp/><ref refid="hpm__mmc__regs_8h_1a0737faf9db1bee2ad8549b301095e2bc" kindref="member">MMC_CR_INI_DELTA_POS_CMD_MSK_MASK</ref><sp/>|<sp/><ref refid="hpm__mmc__regs_8h_1aa3a1326edddd1b321cd6f11b9add64f7" kindref="member">MMC_CR_INI_DELTA_POS_REQ_MASK</ref>);</highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMMC__Type_1aad09203fd0aafd7ebbf40ade5bd264e6" kindref="member">CR</ref><sp/>|=<sp/><ref refid="hpm__mmc__regs_8h_1a32d47cb3629b98851aa82ca1191f124c" kindref="member">MMC_CR_INI_DELTA_POS_TRG_TYPE_SET</ref>((para-&gt;<ref refid="structmmc__pos__or__delta__pos__input__t_1a52a446d3d6bc858ba060127d40f3a96d" kindref="member">trigger</ref>))</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="hpm__mmc__regs_8h_1a1c36a3ef7e204cb8dc178691d2cafe11" kindref="member">MMC_CR_INI_DELTA_POS_CMD_MSK_SET</ref>(para-&gt;<ref refid="structmmc__pos__or__delta__pos__input__t_1a2ca37c804887e1ffbd9520d255f710d9" kindref="member">cmd_mask</ref>)</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="hpm__mmc__regs_8h_1aa3a1326edddd1b321cd6f11b9add64f7" kindref="member">MMC_CR_INI_DELTA_POS_REQ_MASK</ref>;</highlight></codeline>
<codeline lineno="104"><highlight class="normal">}</highlight></codeline>
<codeline lineno="105"><highlight class="normal"></highlight></codeline>
<codeline lineno="106"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group__mmc__interface_1ga289f11bb956b00f07c3523a4aabc4c53" kindref="member">mmc_track_config_coef_para</ref>(<ref refid="structMMC__Type" kindref="compound">MMC_Type</ref><sp/>*base,<sp/><ref refid="structmmc__coef__input__t" kindref="compound">mmc_coef_input_t</ref><sp/>*para)</highlight></codeline>
<codeline lineno="107"><highlight class="normal">{</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/>int32_t<sp/>coef_p<sp/>=<sp/>(int32_t)(para-&gt;<ref refid="structmmc__coef__input__t_1ace08b6e52e336c3c9232b6ae8ab7dccf" kindref="member">coef_p</ref><sp/>*<sp/>(1<sp/>&lt;&lt;<sp/>15U));</highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/>int32_t<sp/>coef_i<sp/>=<sp/>(int32_t)(para-&gt;<ref refid="structmmc__coef__input__t_1ad6d6bb15ae73d4d9bf00df86f4df293e" kindref="member">coef_i</ref><sp/>*<sp/>(1<sp/>&lt;&lt;<sp/>21U));</highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/>int32_t<sp/>coef_a<sp/>=<sp/>(int32_t)(para-&gt;<ref refid="structmmc__coef__input__t_1ac9689736a84c7676f49679999a62afdc" kindref="member">coef_a</ref><sp/>*<sp/>(1<sp/>&lt;&lt;<sp/>19U));</highlight></codeline>
<codeline lineno="111"><highlight class="normal"></highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMMC__Type_1aa80eab0e95b34743a71fab9f2291b4ef" kindref="member">INI_PCOEF</ref><sp/>=<sp/>coef_p;</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMMC__Type_1ad3afc0d7c3ec509bf10ce1f77466f0fb" kindref="member">INI_ICOEF</ref><sp/>=<sp/>coef_i;</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMMC__Type_1a10690b762c9b03f81cfe289304ae8380" kindref="member">INI_ACOEF</ref><sp/>=<sp/>coef_a;</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMMC__Type_1aa5f5f2e6ecf300de67ce4575c18ab474" kindref="member">INI_COEF_TIME</ref><sp/>=<sp/>para-&gt;<ref refid="structmmc__coef__input__t_1a54edd83a72672664bf8708d2f690b090" kindref="member">coef_time</ref>;</highlight></codeline>
<codeline lineno="116"><highlight class="normal"></highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMMC__Type_1aad09203fd0aafd7ebbf40ade5bd264e6" kindref="member">CR</ref><sp/>&amp;=<sp/>~(<ref refid="hpm__mmc__regs_8h_1a8004dc788edad8410fe1728aa02d403e" kindref="member">MMC_CR_INI_COEFS_CMD_MSK_MASK</ref><sp/>|<sp/><ref refid="hpm__mmc__regs_8h_1a5401bbe45a19c8725e98957e003792e0" kindref="member">MMC_CR_INI_COEFS_CMD_MASK</ref>);</highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMMC__Type_1aad09203fd0aafd7ebbf40ade5bd264e6" kindref="member">CR</ref><sp/>|=<sp/><ref refid="hpm__mmc__regs_8h_1a09197e34744c458dccfbdddb8a6aff85" kindref="member">MMC_CR_INI_COEFS_CMD_MSK_SET</ref>(para-&gt;<ref refid="structmmc__coef__input__t_1add5da23dc633e6eab7720cf559a946d5" kindref="member">cmd_mask</ref>)</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="hpm__mmc__regs_8h_1a5401bbe45a19c8725e98957e003792e0" kindref="member">MMC_CR_INI_COEFS_CMD_MASK</ref>;</highlight></codeline>
<codeline lineno="120"><highlight class="normal">}</highlight></codeline>
<codeline lineno="121"><highlight class="normal"></highlight></codeline>
<codeline lineno="122"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group__mmc__interface_1ga4cd7ad48e5dfb5a06069b9680e01aeb9" kindref="member">mmc_track_config_coef_trig</ref>(<ref refid="structMMC__Type" kindref="compound">MMC_Type</ref><sp/>*base,<sp/>uint8_t<sp/>index,<sp/><ref refid="structmmc__coef__trig__config__t" kindref="compound">mmc_coef_trig_config_t</ref><sp/>*config)</highlight></codeline>
<codeline lineno="123"><highlight class="normal">{</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/>int32_t<sp/>coef_p<sp/>=<sp/>(int32_t)(config-&gt;<ref refid="structmmc__coef__trig__config__t_1acb24a5bcf8d797305d253428ed54485e" kindref="member">coef_p</ref><sp/>*<sp/>(1<sp/>&lt;&lt;<sp/>15U));</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/>int32_t<sp/>coef_i<sp/>=<sp/>(int32_t)(config-&gt;<ref refid="structmmc__coef__trig__config__t_1a68ec78fa2240958f7a9a19a1ba5501da" kindref="member">coef_i</ref><sp/>*<sp/>(1<sp/>&lt;&lt;<sp/>21U));</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/>int32_t<sp/>coef_a<sp/>=<sp/>(int32_t)(config-&gt;<ref refid="structmmc__coef__trig__config__t_1af9ad177f8c717d7f7a6d307184d175ae" kindref="member">coef_a</ref><sp/>*<sp/>(1<sp/>&lt;&lt;<sp/>19U));</highlight></codeline>
<codeline lineno="127"><highlight class="normal"></highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMMC__Type_1a067a6276556f4100e677d463248a9b79" kindref="member">COEF_TRG_CFG</ref>[index].<ref refid="structMMC__Type_1a3067838f8913889038f08e4b0651922a" kindref="member">P</ref><sp/>=<sp/>coef_p;</highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMMC__Type_1a067a6276556f4100e677d463248a9b79" kindref="member">COEF_TRG_CFG</ref>[index].<ref refid="structMMC__Type_1a7e35534b385d462d8fd591d85f05021e" kindref="member">I</ref><sp/>=<sp/>coef_i;</highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMMC__Type_1a067a6276556f4100e677d463248a9b79" kindref="member">COEF_TRG_CFG</ref>[index].<ref refid="structMMC__Type_1ab8ca8efe035da093e0484198edbb6630" kindref="member">A</ref><sp/>=<sp/>coef_a;</highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMMC__Type_1a067a6276556f4100e677d463248a9b79" kindref="member">COEF_TRG_CFG</ref>[index].<ref refid="structMMC__Type_1a6da0d49fae56c59f5ff673ab2a61855a" kindref="member">TIME</ref><sp/>=<sp/>config-&gt;<ref refid="structmmc__coef__trig__config__t_1a74f98366275bf329507cac0102462411" kindref="member">hold_time</ref>;</highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMMC__Type_1a067a6276556f4100e677d463248a9b79" kindref="member">COEF_TRG_CFG</ref>[index].<ref refid="structMMC__Type_1a063e5cbc2cdd7b691a890d5800a70066" kindref="member">ERR_THR</ref><sp/>=<sp/>config-&gt;<ref refid="structmmc__coef__trig__config__t_1a54ad34bee07f1c8629b6e65c342c72d1" kindref="member">err_thr</ref>;</highlight></codeline>
<codeline lineno="133"><highlight class="normal">}</highlight></codeline>
<codeline lineno="134"><highlight class="normal"></highlight></codeline>
<codeline lineno="135"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group__mmc__interface_1ga089f0a03ce12f3c698dfbc3493d9fe36" kindref="member">mmc_track_get_result</ref>(<ref refid="structMMC__Type" kindref="compound">MMC_Type</ref><sp/>*base,<sp/><ref refid="structmmc__pos__out__t" kindref="compound">mmc_pos_out_t</ref><sp/>*pos_out,<sp/><ref refid="structmmc__coef__out__t" kindref="compound">mmc_coef_out_t</ref><sp/>*coef_out)</highlight></codeline>
<codeline lineno="136"><highlight class="normal">{</highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>mmc_track_enable_shadow_read(base);<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="138"><highlight class="normal"></highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMMC__Type_1aad09203fd0aafd7ebbf40ade5bd264e6" kindref="member">CR</ref><sp/>|=<sp/><ref refid="hpm__mmc__regs_8h_1aa6f59a716511401fcde83b11274b84d6" kindref="member">MMC_CR_SHADOW_RD_REQ_MASK</ref>;</highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>((base-&gt;<ref refid="structMMC__Type_1aad09203fd0aafd7ebbf40ade5bd264e6" kindref="member">CR</ref><sp/>&amp;<sp/><ref refid="hpm__mmc__regs_8h_1aa6f59a716511401fcde83b11274b84d6" kindref="member">MMC_CR_SHADOW_RD_REQ_MASK</ref>)<sp/>==<sp/><ref refid="hpm__mmc__regs_8h_1aa6f59a716511401fcde83b11274b84d6" kindref="member">MMC_CR_SHADOW_RD_REQ_MASK</ref>)<sp/>{</highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="142"><highlight class="normal"></highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pos_out<sp/>!=<sp/>NULL)<sp/>{</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pos_out-&gt;<ref refid="structmmc__pos__out__t_1a22c6a3691607380588b369834873919d" kindref="member">time</ref><sp/>=<sp/>base-&gt;<ref refid="structMMC__Type_1afc4d2924f16eb388420dc3f99c2734c5" kindref="member">ESTM_TIM</ref>;</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pos_out-&gt;<ref refid="structmmc__pos__out__t_1a55514d213bd88a9ab27546f4b0cfcb93" kindref="member">position</ref><sp/>=<sp/>base-&gt;<ref refid="structMMC__Type_1ace5a3ea2adc6d9e76bf6b72df5446e7d" kindref="member">ESTM_POS</ref>;</highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pos_out-&gt;<ref refid="structmmc__pos__out__t_1a8f7c3ff87dc07f7552c3d8d8b3d4ab65" kindref="member">revolution</ref><sp/>=<sp/>(int32_t)base-&gt;<ref refid="structMMC__Type_1af385805c3f2efd1f2256e9d10daf2119" kindref="member">ESTM_REV</ref>;</highlight></codeline>
<codeline lineno="147"><highlight class="normal"></highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>int32_t<sp/>speed<sp/>=<sp/>base-&gt;<ref refid="structMMC__Type_1a24de997251bb6e0735d4a4248f34b04f" kindref="member">ESTM_SPEED</ref>;</highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>int32_t<sp/>accel<sp/>=<sp/>base-&gt;<ref refid="structMMC__Type_1a87f19a48f45a6b78b1f0742b03cb41eb" kindref="member">ESTM_ACCEL</ref>;</highlight></codeline>
<codeline lineno="150"><highlight class="normal"></highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pos_out-&gt;<ref refid="structmmc__pos__out__t_1a2bc8ddbd3cb6f7655cc1368f02ccd9b0" kindref="member">speed</ref><sp/>=<sp/>(double)speed<sp/>/<sp/>(1<sp/>&lt;&lt;<sp/>19U);</highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pos_out-&gt;<ref refid="structmmc__pos__out__t_1ac8301e844b1748b0e13f8d6115268110" kindref="member">accel</ref><sp/>=<sp/>(double)accel<sp/>/<sp/>(1<sp/>&lt;&lt;<sp/>19U);</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="154"><highlight class="normal"></highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(coef_out<sp/>!=<sp/>NULL)<sp/>{</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>int32_t<sp/>coef_p<sp/>=<sp/>base-&gt;<ref refid="structMMC__Type_1acab3f0962d27b9dd88bbc32fa310f23c" kindref="member">CUR_PCOEF</ref>;</highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>int32_t<sp/>coef_i<sp/>=<sp/>base-&gt;<ref refid="structMMC__Type_1aabbda7750115d8786eb2c687f99c2240" kindref="member">CUR_ICOEF</ref>;</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>int32_t<sp/>coef_a<sp/>=<sp/>base-&gt;<ref refid="structMMC__Type_1ac37015afa92ee4dcd26f3f2deda749b7" kindref="member">CUR_ACOEF</ref>;</highlight></codeline>
<codeline lineno="159"><highlight class="normal"></highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>coef_out-&gt;<ref refid="structmmc__coef__out__t_1aa378a6c4ca2e6cefc2cc4c6dae09a6d9" kindref="member">coef_p</ref><sp/>=<sp/>(double)coef_p<sp/>/<sp/>(1<sp/>&lt;&lt;<sp/>15U);</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>coef_out-&gt;<ref refid="structmmc__coef__out__t_1a64c0eb622562d84c9bdfafbe79cc1b4c" kindref="member">coef_i</ref><sp/>=<sp/>(double)coef_i<sp/>/<sp/>(1<sp/>&lt;&lt;<sp/>21U);</highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>coef_out-&gt;<ref refid="structmmc__coef__out__t_1a0e1147c776764e81231452cee53d1e92" kindref="member">coef_a</ref><sp/>=<sp/>(double)coef_a<sp/>/<sp/>(1<sp/>&lt;&lt;<sp/>19U);</highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="164"><highlight class="normal">}</highlight></codeline>
<codeline lineno="165"><highlight class="normal"></highlight></codeline>
<codeline lineno="166"><highlight class="normal"></highlight></codeline>
<codeline lineno="167"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group__mmc__interface_1ga60740b3b88ddffcffad34e160c45104b" kindref="member">mmc_pred_get_default_mode_config</ref>(<ref refid="structMMC__Type" kindref="compound">MMC_Type</ref><sp/>*base,<sp/><ref refid="structmmc__pred__mode__t" kindref="compound">mmc_pred_mode_t</ref><sp/>*config)</highlight></codeline>
<codeline lineno="168"><highlight class="normal">{</highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/>(void)<sp/>base;</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/>config-&gt;<ref refid="structmmc__pred__mode__t_1a11c7f8ed0decec8ac05b63c770f47347" kindref="member">speed_trig_int</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/>config-&gt;<ref refid="structmmc__pred__mode__t_1a4ce21459e7cf9382b7a3e191fbbe17f0" kindref="member">position_trig_int</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/>config-&gt;<ref refid="structmmc__pred__mode__t_1a84678952c1fea82efbb381f373969462" kindref="member">delta_pos_done_trig_int</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="173"><highlight class="normal"></highlight></codeline>
<codeline lineno="174"><highlight class="normal"></highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/>config-&gt;<ref refid="structmmc__pred__mode__t_1a76f6d44f9f4413ee2fc038f0061e8d4a" kindref="member">open_loop_mode</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/>config-&gt;<ref refid="structmmc__pred__mode__t_1a2029cab0bac277be1fdbe67521b705a2" kindref="member">pred_mode</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/>config-&gt;<ref refid="structmmc__pred__mode__t_1a3eb6bc27d263da9af471476a1a453af8" kindref="member">not_first_pred_trig_type</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/>config-&gt;<ref refid="structmmc__pred__mode__t_1a6b03f1f018bb75d88b3cb5de903ee397" kindref="member">first_pred_trig_type</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="179"><highlight class="normal">}</highlight></codeline>
<codeline lineno="180"><highlight class="normal"></highlight></codeline>
<codeline lineno="181"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group__mmc__interface_1ga588d2e8ad99101981820c9bad1ffa6de" kindref="member">mmc_pred_config_mode</ref>(<ref refid="structMMC__Type" kindref="compound">MMC_Type</ref><sp/>*base,<sp/>uint8_t<sp/>index,<sp/><ref refid="structmmc__pred__mode__t" kindref="compound">mmc_pred_mode_t</ref><sp/>*config)</highlight></codeline>
<codeline lineno="182"><highlight class="normal">{</highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMMC__Type_1a49c8bd6494f9ab9755fa254095832e61" kindref="member">BR</ref>[index].<ref refid="structMMC__Type_1a5d9b48b725b84bc39d885906abcf2bab" kindref="member">BR_CTRL</ref><sp/>&amp;=<sp/>~(<ref refid="hpm__mmc__regs_8h_1ad6d8a133edc82b5fcd64662cbb8aa177" kindref="member">MMC_BR_BR_CTRL_SPEED_TRG_VALID_IE_MASK</ref></highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="hpm__mmc__regs_8h_1a90031e68747965ec0566639864cf4d55" kindref="member">MMC_BR_BR_CTRL_POS_TRG_VALID_IE_MASK</ref></highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="hpm__mmc__regs_8h_1a581e3a49782d82f9f77d21b40390b0e6" kindref="member">MMC_BR_BR_CTRL_INI_DELTA_POS_DONE_IE_MASK</ref></highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="hpm__mmc__regs_8h_1a5b51d3939428c7fe496c5752bd665c81" kindref="member">MMC_BR_BR_CTRL_OPEN_LOOP_MODE_MASK</ref></highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="hpm__mmc__regs_8h_1a11170d1fc9c9891a214928cd0b0dac9f" kindref="member">MMC_BR_BR_CTRL_PRED_MODE_MASK</ref></highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="hpm__mmc__regs_8h_1a9202971e908b44db0e089af70199870c" kindref="member">MMC_BR_BR_CTRL_NF_TRG_TYPE_MASK</ref></highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="hpm__mmc__regs_8h_1a8c78bc2223daf312d36a5f239b5884df" kindref="member">MMC_BR_BR_CTRL_F_TRG_TYPE_MASK</ref>);</highlight></codeline>
<codeline lineno="190"><highlight class="normal"></highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMMC__Type_1a49c8bd6494f9ab9755fa254095832e61" kindref="member">BR</ref>[index].<ref refid="structMMC__Type_1a5d9b48b725b84bc39d885906abcf2bab" kindref="member">BR_CTRL</ref><sp/>|=<sp/><ref refid="hpm__mmc__regs_8h_1adf7720e2fede8da3bed5d922f8469a75" kindref="member">MMC_BR_BR_CTRL_SPEED_TRG_VALID_IE_SET</ref>(config-&gt;<ref refid="structmmc__pred__mode__t_1a11c7f8ed0decec8ac05b63c770f47347" kindref="member">speed_trig_int</ref>)</highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="hpm__mmc__regs_8h_1a260f32a2b6b6b8c31ee18e61ad1c3aa2" kindref="member">MMC_BR_BR_CTRL_POS_TRG_VALID_IE_SET</ref>(config-&gt;<ref refid="structmmc__pred__mode__t_1a4ce21459e7cf9382b7a3e191fbbe17f0" kindref="member">position_trig_int</ref>)</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="hpm__mmc__regs_8h_1afbad67a85d68b1bd03326ecc01e4a1b4" kindref="member">MMC_BR_BR_CTRL_INI_DELTA_POS_DONE_IE_SET</ref>(config-&gt;<ref refid="structmmc__pred__mode__t_1a84678952c1fea82efbb381f373969462" kindref="member">delta_pos_done_trig_int</ref>)</highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="hpm__mmc__regs_8h_1a4d5fad482d049f057c447f7bb6a5b791" kindref="member">MMC_BR_BR_CTRL_OPEN_LOOP_MODE_SET</ref>(config-&gt;<ref refid="structmmc__pred__mode__t_1a76f6d44f9f4413ee2fc038f0061e8d4a" kindref="member">open_loop_mode</ref>)</highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="hpm__mmc__regs_8h_1a03d6215bff656a74586eaa249d32262b" kindref="member">MMC_BR_BR_CTRL_PRED_MODE_SET</ref>(config-&gt;<ref refid="structmmc__pred__mode__t_1a2029cab0bac277be1fdbe67521b705a2" kindref="member">pred_mode</ref>)</highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="hpm__mmc__regs_8h_1a68c8f85029e7195ec15d25d251445083" kindref="member">MMC_BR_BR_CTRL_NF_TRG_TYPE_SET</ref>(config-&gt;<ref refid="structmmc__pred__mode__t_1a3eb6bc27d263da9af471476a1a453af8" kindref="member">not_first_pred_trig_type</ref>)</highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="hpm__mmc__regs_8h_1aff76ddd5d5bc1afe510b0378ac17bcfe" kindref="member">MMC_BR_BR_CTRL_F_TRG_TYPE_SET</ref>(config-&gt;<ref refid="structmmc__pred__mode__t_1a6b03f1f018bb75d88b3cb5de903ee397" kindref="member">first_pred_trig_type</ref>);</highlight></codeline>
<codeline lineno="198"><highlight class="normal">}</highlight></codeline>
<codeline lineno="199"><highlight class="normal"></highlight></codeline>
<codeline lineno="200"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group__mmc__interface_1ga72c6d2831d75fcfc0a4446aab9779de0" kindref="member">mmc_pred_config_pos_para</ref>(<ref refid="structMMC__Type" kindref="compound">MMC_Type</ref><sp/>*base,<sp/>uint8_t<sp/>index,<sp/><ref refid="structmmc__pos__or__delta__pos__input__t" kindref="compound">mmc_pos_or_delta_pos_input_t</ref><sp/>*para,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>req_reload)</highlight></codeline>
<codeline lineno="201"><highlight class="normal">{</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>speed<sp/>and<sp/>accel<sp/>has<sp/>19bit<sp/>decimal<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/>int32_t<sp/>speed<sp/>=<sp/>(int32_t)(para-&gt;<ref refid="structmmc__pos__or__delta__pos__input__t_1ad1d9e9ceb696f4ef4075d285033ad3f0" kindref="member">speed</ref><sp/>*<sp/>(1<sp/>&lt;&lt;<sp/>19U));</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/>int32_t<sp/>accel<sp/>=<sp/>(int32_t)(para-&gt;<ref refid="structmmc__pos__or__delta__pos__input__t_1a4c9751c16071f5cc76531d3aec301eee" kindref="member">accel</ref><sp/>*<sp/>(1<sp/>&lt;&lt;<sp/>19U));</highlight></codeline>
<codeline lineno="205"><highlight class="normal"></highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMMC__Type_1a49c8bd6494f9ab9755fa254095832e61" kindref="member">BR</ref>[index].<ref refid="structMMC__Type_1ae1aa7f4feb337098b36953eec5f81776" kindref="member">BR_INI_SPEED</ref><sp/>=<sp/>speed;</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMMC__Type_1a49c8bd6494f9ab9755fa254095832e61" kindref="member">BR</ref>[index].<ref refid="structMMC__Type_1afe5cd3bd3458fcdb87663988969920db" kindref="member">BR_INI_ACCEL</ref><sp/>=<sp/>accel;</highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMMC__Type_1a49c8bd6494f9ab9755fa254095832e61" kindref="member">BR</ref>[index].<ref refid="structMMC__Type_1ab27a82c7671c3e1f0d0429d084c316ef" kindref="member">BR_INI_POS</ref><sp/>=<sp/>para-&gt;<ref refid="structmmc__pos__or__delta__pos__input__t_1ad9894a636ea4b72000e851a8f5fcffe7" kindref="member">position</ref>;</highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMMC__Type_1a49c8bd6494f9ab9755fa254095832e61" kindref="member">BR</ref>[index].<ref refid="structMMC__Type_1a9deff274641180f931710fd2f0c4a04c" kindref="member">BR_INI_REV</ref><sp/>=<sp/>para-&gt;<ref refid="structmmc__pos__or__delta__pos__input__t_1aadcf2412ffbfd998fc9376baf2ad2719" kindref="member">revolution</ref>;</highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMMC__Type_1a49c8bd6494f9ab9755fa254095832e61" kindref="member">BR</ref>[index].<ref refid="structMMC__Type_1aa1df842e5318ef64721f778b75c6734a" kindref="member">BR_INI_POS_TIME</ref><sp/>=<sp/>para-&gt;<ref refid="structmmc__pos__or__delta__pos__input__t_1a8a794412a7b52d8d14c083aa9857c7e5" kindref="member">pos_time</ref>;</highlight></codeline>
<codeline lineno="211"><highlight class="normal"></highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMMC__Type_1a49c8bd6494f9ab9755fa254095832e61" kindref="member">BR</ref>[index].<ref refid="structMMC__Type_1a5d9b48b725b84bc39d885906abcf2bab" kindref="member">BR_CTRL</ref><sp/>&amp;=<sp/>~(<ref refid="hpm__mmc__regs_8h_1a9c611d5d8d5c8b890a591f0436b3809f" kindref="member">MMC_BR_BR_CTRL_INI_POS_TRG_TYPE_MASK</ref><sp/>|<sp/><ref refid="hpm__mmc__regs_8h_1a1d84dc1a84cd37a72a82e5f899a475fc" kindref="member">MMC_BR_BR_CTRL_INI_POS_CMD_MSK_MASK</ref>);</highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMMC__Type_1a49c8bd6494f9ab9755fa254095832e61" kindref="member">BR</ref>[index].<ref refid="structMMC__Type_1a5d9b48b725b84bc39d885906abcf2bab" kindref="member">BR_CTRL</ref><sp/>|=<sp/><ref refid="hpm__mmc__regs_8h_1a2f5aa705cce3ecb2f1714cbed392c96f" kindref="member">MMC_BR_BR_CTRL_INI_POS_TRG_TYPE_SET</ref>((para-&gt;<ref refid="structmmc__pos__or__delta__pos__input__t_1a52a446d3d6bc858ba060127d40f3a96d" kindref="member">trigger</ref>))</highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="hpm__mmc__regs_8h_1a2e09d4565deb6ab856c6af2f8d633220" kindref="member">MMC_BR_BR_CTRL_INI_POS_CMD_MSK_SET</ref>(para-&gt;<ref refid="structmmc__pos__or__delta__pos__input__t_1a2ca37c804887e1ffbd9520d255f710d9" kindref="member">cmd_mask</ref>);</highlight></codeline>
<codeline lineno="215"><highlight class="normal"></highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(req_reload)<sp/>{</highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMMC__Type_1aad09203fd0aafd7ebbf40ade5bd264e6" kindref="member">CR</ref><sp/>|=<sp/>(1U<sp/>&lt;&lt;<sp/>(<ref refid="hpm__mmc__regs_8h_1abe466fc09f6cd1fb56ad7275eb1806cb" kindref="member">MMC_CR_INI_BR0_POS_REQ_SHIFT</ref><sp/>-<sp/>index));</highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="219"><highlight class="normal">}</highlight></codeline>
<codeline lineno="220"><highlight class="normal"></highlight></codeline>
<codeline lineno="221"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group__mmc__interface_1gaee4e22eddb75510ad8b06926058c3219" kindref="member">mmc_pred_config_delta_para</ref>(<ref refid="structMMC__Type" kindref="compound">MMC_Type</ref><sp/>*base,<sp/>uint8_t<sp/>index,<sp/><ref refid="structmmc__pos__or__delta__pos__input__t" kindref="compound">mmc_pos_or_delta_pos_input_t</ref><sp/>*para)</highlight></codeline>
<codeline lineno="222"><highlight class="normal">{</highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/><sp/>int32_t<sp/>speed<sp/>=<sp/>(int32_t)(para-&gt;<ref refid="structmmc__pos__or__delta__pos__input__t_1ad1d9e9ceb696f4ef4075d285033ad3f0" kindref="member">speed</ref><sp/>*<sp/>(1<sp/>&lt;&lt;<sp/>19U));</highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/>int32_t<sp/>accel<sp/>=<sp/>(int32_t)(para-&gt;<ref refid="structmmc__pos__or__delta__pos__input__t_1a4c9751c16071f5cc76531d3aec301eee" kindref="member">accel</ref><sp/>*<sp/>(1<sp/>&lt;&lt;<sp/>19U));</highlight></codeline>
<codeline lineno="225"><highlight class="normal"></highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMMC__Type_1a49c8bd6494f9ab9755fa254095832e61" kindref="member">BR</ref>[index].<ref refid="structMMC__Type_1a6123f57547143e9e1ff2e2a97f5345ca" kindref="member">BR_INI_DELTA_SPEED</ref><sp/>=<sp/>speed;</highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMMC__Type_1a49c8bd6494f9ab9755fa254095832e61" kindref="member">BR</ref>[index].<ref refid="structMMC__Type_1acd0432abf2fa300ec3b3054e61953eca" kindref="member">BR_INI_DELTA_ACCEL</ref><sp/>=<sp/>accel;</highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMMC__Type_1a49c8bd6494f9ab9755fa254095832e61" kindref="member">BR</ref>[index].<ref refid="structMMC__Type_1aee6b0c8491b3033a9a99d49246e777b6" kindref="member">BR_INI_DELTA_POS</ref><sp/>=<sp/>para-&gt;<ref refid="structmmc__pos__or__delta__pos__input__t_1ad9894a636ea4b72000e851a8f5fcffe7" kindref="member">position</ref>;</highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMMC__Type_1a49c8bd6494f9ab9755fa254095832e61" kindref="member">BR</ref>[index].<ref refid="structMMC__Type_1a0450370df37083a2613f5334ac5ef8e0" kindref="member">BR_INI_DELTA_REV</ref><sp/>=<sp/>para-&gt;<ref refid="structmmc__pos__or__delta__pos__input__t_1aadcf2412ffbfd998fc9376baf2ad2719" kindref="member">revolution</ref>;</highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMMC__Type_1a49c8bd6494f9ab9755fa254095832e61" kindref="member">BR</ref>[index].<ref refid="structMMC__Type_1a4e1aa90f7c7e3a0db7d06b43ce0f4854" kindref="member">BR_INI_DELTA_POS_TIME</ref><sp/>=<sp/>para-&gt;<ref refid="structmmc__pos__or__delta__pos__input__t_1a8a794412a7b52d8d14c083aa9857c7e5" kindref="member">pos_time</ref>;</highlight></codeline>
<codeline lineno="231"><highlight class="normal"></highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMMC__Type_1a49c8bd6494f9ab9755fa254095832e61" kindref="member">BR</ref>[index].<ref refid="structMMC__Type_1a5d9b48b725b84bc39d885906abcf2bab" kindref="member">BR_CTRL</ref><sp/>&amp;=<sp/>~(<ref refid="hpm__mmc__regs_8h_1a1b4e3bff9dd86b0fb4d8f15c98665bef" kindref="member">MMC_BR_BR_CTRL_INI_DELTA_POS_TRG_TYPE_MASK</ref></highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="hpm__mmc__regs_8h_1a03fffcf08e4fa66e05dca95e4fbaff16" kindref="member">MMC_BR_BR_CTRL_INI_DELTA_POS_CMD_MSK_MASK</ref></highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="hpm__mmc__regs_8h_1a494442222900df6672a178743a97f424" kindref="member">MMC_BR_BR_CTRL_INI_DELTA_POS_REQ_MASK</ref>);</highlight></codeline>
<codeline lineno="235"><highlight class="normal"></highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMMC__Type_1a49c8bd6494f9ab9755fa254095832e61" kindref="member">BR</ref>[index].<ref refid="structMMC__Type_1a5d9b48b725b84bc39d885906abcf2bab" kindref="member">BR_CTRL</ref><sp/>|=<sp/><ref refid="hpm__mmc__regs_8h_1a3e7d62d4506d32de17aa887a74331ba9" kindref="member">MMC_BR_BR_CTRL_INI_DELTA_POS_TRG_TYPE_SET</ref>(para-&gt;<ref refid="structmmc__pos__or__delta__pos__input__t_1a52a446d3d6bc858ba060127d40f3a96d" kindref="member">trigger</ref>)</highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="hpm__mmc__regs_8h_1af2afac6a0ad540d028d43f1ff70dea29" kindref="member">MMC_BR_BR_CTRL_INI_DELTA_POS_CMD_MSK_SET</ref>(para-&gt;<ref refid="structmmc__pos__or__delta__pos__input__t_1a2ca37c804887e1ffbd9520d255f710d9" kindref="member">cmd_mask</ref>)</highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="hpm__mmc__regs_8h_1a494442222900df6672a178743a97f424" kindref="member">MMC_BR_BR_CTRL_INI_DELTA_POS_REQ_MASK</ref>;</highlight></codeline>
<codeline lineno="239"><highlight class="normal">}</highlight></codeline>
<codeline lineno="240"><highlight class="normal"></highlight></codeline>
<codeline lineno="241"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>不需要shadow吗<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="242"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group__mmc__interface_1gaff6ab08cf69df908dfecfb14c8c3c79f" kindref="member">mmc_pred_get_result</ref>(<ref refid="structMMC__Type" kindref="compound">MMC_Type</ref><sp/>*base,<sp/>uint8_t<sp/>index,<sp/><ref refid="structmmc__pos__out__t" kindref="compound">mmc_pos_out_t</ref><sp/>*pos_out)</highlight></codeline>
<codeline lineno="243"><highlight class="normal">{</highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pos_out-&gt;<ref refid="structmmc__pos__out__t_1a22c6a3691607380588b369834873919d" kindref="member">time</ref><sp/>=<sp/>base-&gt;<ref refid="structMMC__Type_1a49c8bd6494f9ab9755fa254095832e61" kindref="member">BR</ref>[index].<ref refid="structMMC__Type_1a8b703ff7f07ff58f0623f13362066ee2" kindref="member">BR_CUR_POS_TIME</ref>;</highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pos_out-&gt;<ref refid="structmmc__pos__out__t_1a55514d213bd88a9ab27546f4b0cfcb93" kindref="member">position</ref><sp/>=<sp/>base-&gt;<ref refid="structMMC__Type_1a49c8bd6494f9ab9755fa254095832e61" kindref="member">BR</ref>[index].<ref refid="structMMC__Type_1a65eda126dc5c7898b2a82a4a694fff2d" kindref="member">BR_CUR_POS</ref>;</highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pos_out-&gt;<ref refid="structmmc__pos__out__t_1a8f7c3ff87dc07f7552c3d8d8b3d4ab65" kindref="member">revolution</ref><sp/>=<sp/>(int32_t)base-&gt;<ref refid="structMMC__Type_1a49c8bd6494f9ab9755fa254095832e61" kindref="member">BR</ref>[index].<ref refid="structMMC__Type_1acfefb3c5b4e6df926617f7ff7b6973a2" kindref="member">BR_CUR_REV</ref>;</highlight></codeline>
<codeline lineno="247"><highlight class="normal"></highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>int32_t<sp/>speed<sp/>=<sp/>base-&gt;<ref refid="structMMC__Type_1a49c8bd6494f9ab9755fa254095832e61" kindref="member">BR</ref>[index].<ref refid="structMMC__Type_1a3922d08aa7f4173c723bab33033d2ebb" kindref="member">BR_CUR_SPEED</ref>;</highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>int32_t<sp/>accel<sp/>=<sp/>base-&gt;<ref refid="structMMC__Type_1a49c8bd6494f9ab9755fa254095832e61" kindref="member">BR</ref>[index].<ref refid="structMMC__Type_1aefc8ad9c92de4eb817367f045f5569ef" kindref="member">BR_CUR_ACCEL</ref>;</highlight></codeline>
<codeline lineno="250"><highlight class="normal"></highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pos_out-&gt;<ref refid="structmmc__pos__out__t_1a2bc8ddbd3cb6f7655cc1368f02ccd9b0" kindref="member">speed</ref><sp/>=<sp/>(double)speed<sp/>/<sp/>(1<sp/>&lt;&lt;<sp/>19U);</highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pos_out-&gt;<ref refid="structmmc__pos__out__t_1ac8301e844b1748b0e13f8d6115268110" kindref="member">accel</ref><sp/>=<sp/>(double)accel<sp/>/<sp/>(1<sp/>&lt;&lt;<sp/>19U);</highlight></codeline>
<codeline lineno="253"><highlight class="normal">}</highlight></codeline>
<codeline lineno="254"><highlight class="normal"></highlight></codeline>
<codeline lineno="255"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group__mmc__interface_1gac964e290b5809cb4ffa68e61fcd7a5b1" kindref="member">mmc_pred_config_period_time</ref>(<ref refid="structMMC__Type" kindref="compound">MMC_Type</ref><sp/>*base,<sp/>uint8_t<sp/>index,<sp/><ref refid="structmmc__pred__period__time__t" kindref="compound">mmc_pred_period_time_t</ref><sp/>*time)</highlight></codeline>
<codeline lineno="256"><highlight class="normal">{</highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMMC__Type_1a49c8bd6494f9ab9755fa254095832e61" kindref="member">BR</ref>[index].<ref refid="structMMC__Type_1a88667ac747ab544b0b65019d460a1a8a" kindref="member">BR_TIMEOFF</ref><sp/>=<sp/>time-&gt;<ref refid="structmmc__pred__period__time__t_1a964e3da2f4e2eadbc426a41e57979937" kindref="member">offset_time</ref>;</highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMMC__Type_1a49c8bd6494f9ab9755fa254095832e61" kindref="member">BR</ref>[index].<ref refid="structMMC__Type_1a7d9dfe6d71de8105789320cbcb84e9a3" kindref="member">BR_TRG_PERIOD</ref><sp/>=<sp/>time-&gt;<ref refid="structmmc__pred__period__time__t_1a078c4aed2e4423775478d0edaaad7e93" kindref="member">period_time</ref>;</highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMMC__Type_1a49c8bd6494f9ab9755fa254095832e61" kindref="member">BR</ref>[index].<ref refid="structMMC__Type_1a5ef697c92c99def4b55818596f6b9e89" kindref="member">BR_TRG_F_TIME</ref><sp/>=<sp/>time-&gt;<ref refid="structmmc__pred__period__time__t_1aa74edbe693e7cef7e9a46f169552b97a" kindref="member">first_time</ref>;</highlight></codeline>
<codeline lineno="260"><highlight class="normal">}</highlight></codeline>
<codeline lineno="261"><highlight class="normal"></highlight></codeline>
<codeline lineno="262"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group__mmc__interface_1ga9835a69a9c7ea88a954178c0c291ef25" kindref="member">mmc_pred_config_position_trig</ref>(<ref refid="structMMC__Type" kindref="compound">MMC_Type</ref><sp/>*base,<sp/>uint8_t<sp/>index,<sp/><ref refid="structmmc__pos__trig__t" kindref="compound">mmc_pos_trig_t</ref><sp/>*trig)</highlight></codeline>
<codeline lineno="263"><highlight class="normal">{</highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMMC__Type_1a49c8bd6494f9ab9755fa254095832e61" kindref="member">BR</ref>[index].<ref refid="structMMC__Type_1ace105651b9d115e245cb27406a83971b" kindref="member">BR_TRG_POS_THR</ref><sp/>=<sp/>trig-&gt;<ref refid="structmmc__pos__trig__t_1ac29f57e46f956189d65d470d9331ec2e" kindref="member">position_thr</ref>;</highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMMC__Type_1a49c8bd6494f9ab9755fa254095832e61" kindref="member">BR</ref>[index].<ref refid="structMMC__Type_1a1b99c2da4f7d163a7ae2801e2b5a2f8d" kindref="member">BR_TRG_REV_THR</ref><sp/>=<sp/>trig-&gt;<ref refid="structmmc__pos__trig__t_1a09f0e92e3b74f85fe90d4c5b8ae15bda" kindref="member">revolution_thr</ref>;</highlight></codeline>
<codeline lineno="266"><highlight class="normal"></highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMMC__Type_1a49c8bd6494f9ab9755fa254095832e61" kindref="member">BR</ref>[index].<ref refid="structMMC__Type_1a6716f5219e6606bd3a86c9d8560a08bf" kindref="member">BR_TRG_POS_CFG</ref><sp/>=<sp/><ref refid="hpm__mmc__regs_8h_1af851499bccda02e928e39bef9e55ad1b" kindref="member">MMC_BR_BR_TRG_POS_CFG_EDGE_SET</ref>(trig-&gt;<ref refid="structmmc__pos__trig__t_1aaf4117babbc7a4cb68d23ac92585474e" kindref="member">less_than</ref>)</highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="hpm__mmc__regs_8h_1a06f6e2fbf501c71d699fd7c8f5cf1d62" kindref="member">MMC_BR_BR_TRG_POS_CFG_EN_SET</ref>(trig-&gt;<ref refid="structmmc__pos__trig__t_1afbc899c10228db0fdd77384888a30207" kindref="member">enable</ref>);</highlight></codeline>
<codeline lineno="269"><highlight class="normal">}</highlight></codeline>
<codeline lineno="270"><highlight class="normal"></highlight></codeline>
<codeline lineno="271"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group__mmc__interface_1ga81d4407393a56754be875cf6eaada2bd" kindref="member">mmc_pred_config_speed_trig</ref>(<ref refid="structMMC__Type" kindref="compound">MMC_Type</ref><sp/>*base,<sp/>uint8_t<sp/>index,<sp/><ref refid="structmmc__speed__trig__t" kindref="compound">mmc_speed_trig_t</ref><sp/>*trig)</highlight></codeline>
<codeline lineno="272"><highlight class="normal">{</highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>speed<sp/>has<sp/>19bit<sp/>decimal<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/>int32_t<sp/>speed<sp/>=<sp/>(int32_t)(trig-&gt;<ref refid="structmmc__speed__trig__t_1a0a932a4657756f25e2f7a0e31e11b9bf" kindref="member">speed_thr</ref><sp/>*<sp/>(1<sp/>&lt;&lt;<sp/>19U));</highlight></codeline>
<codeline lineno="275"><highlight class="normal"></highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMMC__Type_1a49c8bd6494f9ab9755fa254095832e61" kindref="member">BR</ref>[index].<ref refid="structMMC__Type_1a462c882706e0484035f50e3f6b151430" kindref="member">BR_TRG_SPEED_THR</ref><sp/>=<sp/>speed;</highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMMC__Type_1a49c8bd6494f9ab9755fa254095832e61" kindref="member">BR</ref>[index].<ref refid="structMMC__Type_1af6a64700d394bc69c2b64c68731fdd5b" kindref="member">BR_TRG_SPEED_CFG</ref><sp/>=<sp/><ref refid="hpm__mmc__regs_8h_1ac9b1f8cb1325b71db258c9b580076402" kindref="member">MMC_BR_BR_TRG_SPEED_CFG_COMP_TYPE_SET</ref>(trig-&gt;<ref refid="structmmc__speed__trig__t_1aaa6d5c71119a1c16ae244993a84076c9" kindref="member">absolute_compare</ref>)</highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="hpm__mmc__regs_8h_1a8132e54ff3612543bc9a06e9d31e9bb9" kindref="member">MMC_BR_BR_TRG_SPEED_CFG_EDGE_SEL_SET</ref>(trig-&gt;<ref refid="structmmc__speed__trig__t_1a90b49988e4e03a25c423cb5d80492095" kindref="member">less_than</ref>)</highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="hpm__mmc__regs_8h_1a0ba5f5ee210a3fdd94aca2731e01243c" kindref="member">MMC_BR_BR_TRG_SPEED_CFG_EN_SET</ref>(trig-&gt;<ref refid="structmmc__speed__trig__t_1a2f81448a5bd51fe7773d49902668475d" kindref="member">enable</ref>);</highlight></codeline>
<codeline lineno="280"><highlight class="normal">}</highlight></codeline>
<codeline lineno="281"><highlight class="normal"></highlight></codeline>
<codeline lineno="282"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group__mmc__interface_1gad3fabae99f436dd5bf5e1efc3aa333bc" kindref="member">mmc_track_config_position_trig</ref>(<ref refid="structMMC__Type" kindref="compound">MMC_Type</ref><sp/>*base,<sp/><ref refid="structmmc__pos__trig__t" kindref="compound">mmc_pos_trig_t</ref><sp/>*trig)</highlight></codeline>
<codeline lineno="283"><highlight class="normal">{</highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMMC__Type_1a9cb189436adcee4b58add5268a628db3" kindref="member">POS_TRG_POS_THR</ref><sp/>=<sp/>trig-&gt;<ref refid="structmmc__pos__trig__t_1ac29f57e46f956189d65d470d9331ec2e" kindref="member">position_thr</ref>;</highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMMC__Type_1aba1ab0f862cf5a6f9702dfdbb7dcc5be" kindref="member">POS_TRG_REV_THR</ref><sp/>=<sp/>trig-&gt;<ref refid="structmmc__pos__trig__t_1a09f0e92e3b74f85fe90d4c5b8ae15bda" kindref="member">revolution_thr</ref>;</highlight></codeline>
<codeline lineno="286"><highlight class="normal"></highlight></codeline>
<codeline lineno="287"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMMC__Type_1a3ccdf8134313e6716e805bba8b35e146" kindref="member">POS_TRG_CFG</ref><sp/>=<sp/><ref refid="hpm__mmc__regs_8h_1ae28abc32e783826cf56ad01eacee1688" kindref="member">MMC_POS_TRG_CFG_EDGE_SET</ref>(trig-&gt;<ref refid="structmmc__pos__trig__t_1aaf4117babbc7a4cb68d23ac92585474e" kindref="member">less_than</ref>)</highlight></codeline>
<codeline lineno="288"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="hpm__mmc__regs_8h_1a3423ee32a81018cfc81634ee76b4969a" kindref="member">MMC_POS_TRG_CFG_EN_SET</ref>(trig-&gt;<ref refid="structmmc__pos__trig__t_1afbc899c10228db0fdd77384888a30207" kindref="member">enable</ref>);</highlight></codeline>
<codeline lineno="289"><highlight class="normal">}</highlight></codeline>
<codeline lineno="290"><highlight class="normal"></highlight></codeline>
<codeline lineno="291"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group__mmc__interface_1gad276e02a10e0d7fa10c40b634e2e4a8b" kindref="member">mmc_track_config_speed_trig</ref>(<ref refid="structMMC__Type" kindref="compound">MMC_Type</ref><sp/>*base,<sp/><ref refid="structmmc__speed__trig__t" kindref="compound">mmc_speed_trig_t</ref><sp/>*trig)</highlight></codeline>
<codeline lineno="292"><highlight class="normal">{</highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>speed<sp/>has<sp/>19bit<sp/>decimal<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/><sp/>int32_t<sp/>speed<sp/>=<sp/>(int32_t)(trig-&gt;<ref refid="structmmc__speed__trig__t_1a0a932a4657756f25e2f7a0e31e11b9bf" kindref="member">speed_thr</ref><sp/>*<sp/>(1<sp/>&lt;&lt;<sp/>19U));</highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMMC__Type_1a8a9e82478474565e2231ce65d4713039" kindref="member">SPEED_TRG_THR</ref><sp/>=<sp/>speed;</highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/><sp/><sp/>base-&gt;<ref refid="structMMC__Type_1acae1f1d94e1c8136dcca5c197bac8254" kindref="member">SPEED_TRG_CFG</ref><sp/>=<sp/><ref refid="hpm__mmc__regs_8h_1aa277ee0296196a524c0b50750d5ef98f" kindref="member">MMC_SPEED_TRG_CFG_COMP_TYPE_SET</ref>(trig-&gt;<ref refid="structmmc__speed__trig__t_1aaa6d5c71119a1c16ae244993a84076c9" kindref="member">absolute_compare</ref>)</highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="hpm__mmc__regs_8h_1af322255631ac7fd26614081110068a9e" kindref="member">MMC_SPEED_TRG_CFG_EDGE_SET</ref>(trig-&gt;<ref refid="structmmc__speed__trig__t_1a90b49988e4e03a25c423cb5d80492095" kindref="member">less_than</ref>)</highlight></codeline>
<codeline lineno="298"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>|<sp/><ref refid="hpm__mmc__regs_8h_1a24907aae34674e7470e14a3c160535e9" kindref="member">MMC_SPEED_TRG_CFG_EN_SET</ref>(trig-&gt;<ref refid="structmmc__speed__trig__t_1a2f81448a5bd51fe7773d49902668475d" kindref="member">enable</ref>);</highlight></codeline>
<codeline lineno="299"><highlight class="normal">}</highlight></codeline>
    </programlisting>
    <location file="drivers/src/hpm_mmc_drv.c"/>
  </compounddef>
</doxygen>
