<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<link rel="icon" href="logo.ico">
<title>HPM SDK: middleware/hpm_mcl_v2/core/sensor/hpm_mcl_encoder.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><a href="https://www.hpmicro.com/"
     target="_blank"><img alt="Logo" src="logo.png"/></a></td>
  <td id="projectalign" style="padding-left: 1em;">
   <div id="projectname">HPM SDK
   </div>
   <div id="projectbrief">HPMicro Software Development Kit</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('hpm__mcl__encoder_8c.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">hpm_mcl_encoder.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;math.h&gt;</code><br />
<code>#include &quot;<a class="el" href="hpm__mcl__encoder_8h_source.html">hpm_mcl_encoder.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="hpm__mcl__physical_8h_source.html">hpm_mcl_physical.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a0c3b77c8d50cba6c95816b8eb555ecea" id="r_a0c3b77c8d50cba6c95816b8eb555ecea"><td class="memItemLeft" align="right" valign="top"><a class="el" href="hpm__mcl__common_8h.html#a572fcb9d78561a8859565bac839c49b1">hpm_mcl_stat_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0c3b77c8d50cba6c95816b8eb555ecea">hpm_mcl_encoder_init</a> (<a class="el" href="structmcl__encoder__t.html">mcl_encoder_t</a> *encoder, <a class="el" href="structmcl__cfg__t.html">mcl_cfg_t</a> *mcl_cfg, <a class="el" href="structmcl__encoer__cfg__t.html">mcl_encoer_cfg_t</a> *encoder_cfg, <a class="el" href="structmcl__filter__iir__df1__t.html">mcl_filter_iir_df1_t</a> *iir)</td></tr>
<tr class="memdesc:a0c3b77c8d50cba6c95816b8eb555ecea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize encoder data.  <br /></td></tr>
<tr class="separator:a0c3b77c8d50cba6c95816b8eb555ecea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c0cb83fb5da4e216567125747517da0" id="r_a0c0cb83fb5da4e216567125747517da0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="hpm__mcl__common_8h.html#a572fcb9d78561a8859565bac839c49b1">hpm_mcl_stat_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0c0cb83fb5da4e216567125747517da0">hpm_mcl_encoder_start_sample</a> (<a class="el" href="structmcl__encoder__t.html">mcl_encoder_t</a> *encoder)</td></tr>
<tr class="memdesc:a0c0cb83fb5da4e216567125747517da0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encoder starts sampling.  <br /></td></tr>
<tr class="separator:a0c0cb83fb5da4e216567125747517da0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a488c3471f2d49a3565f9eab503472faa" id="r_a488c3471f2d49a3565f9eab503472faa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="hpm__mcl__common_8h.html#a572fcb9d78561a8859565bac839c49b1">hpm_mcl_stat_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a488c3471f2d49a3565f9eab503472faa">hpm_mcl_encoder_set_initial_theta</a> (<a class="el" href="structmcl__encoder__t.html">mcl_encoder_t</a> *encoder, float theta)</td></tr>
<tr class="memdesc:a488c3471f2d49a3565f9eab503472faa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the initial value of the angle. Normally, the programme does the initial value setting automatically, but if you are not satisfied with the result, you can set the initial value. The initial value determines the zero point of the electrical angle. This means that the angle read by the sensor is calibrated to zero by the initial value.  <br /></td></tr>
<tr class="separator:a488c3471f2d49a3565f9eab503472faa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a570404d74284f07ad4f0a671f58c6f6e" id="r_a570404d74284f07ad4f0a671f58c6f6e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="hpm__mcl__common_8h.html#a572fcb9d78561a8859565bac839c49b1">hpm_mcl_stat_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a570404d74284f07ad4f0a671f58c6f6e">hpm_mcl_encoder_process</a> (<a class="el" href="structmcl__encoder__t.html">mcl_encoder_t</a> *encoder, uint32_t tick_deta)</td></tr>
<tr class="memdesc:a570404d74284f07ad4f0a671f58c6f6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encoder processing, cycle call.  <br /></td></tr>
<tr class="separator:a570404d74284f07ad4f0a671f58c6f6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5fb00ae11775e198b3006df7c219504" id="r_ae5fb00ae11775e198b3006df7c219504"><td class="memItemLeft" align="right" valign="top"><a class="el" href="hpm__mcl__common_8h.html#a572fcb9d78561a8859565bac839c49b1">hpm_mcl_stat_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae5fb00ae11775e198b3006df7c219504">hpm_mcl_encoder_set_status</a> (<a class="el" href="structmcl__encoder__t.html">mcl_encoder_t</a> *encoder, <a class="el" href="hpm__mcl__encoder_8h.html#ada292d0bcc6c9a8bb5ffd264f3f572c7">mcl_encoder_status_t</a> status)</td></tr>
<tr class="memdesc:ae5fb00ae11775e198b3006df7c219504"><td class="mdescLeft">&#160;</td><td class="mdescRight">Force update of encoder status.  <br /></td></tr>
<tr class="separator:ae5fb00ae11775e198b3006df7c219504"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a850d2f8593c93fdd6110defd602459c7" id="r_a850d2f8593c93fdd6110defd602459c7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a850d2f8593c93fdd6110defd602459c7">hpm_mcl_encoder_force_theta</a> (<a class="el" href="structmcl__encoder__t.html">mcl_encoder_t</a> *encoder, float theta, bool enable)</td></tr>
<tr class="memdesc:a850d2f8593c93fdd6110defd602459c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Force setting of the output angle of the encoder function.  <br /></td></tr>
<tr class="separator:a850d2f8593c93fdd6110defd602459c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae52331fddf8b6b71707c5b21c31bad6e" id="r_ae52331fddf8b6b71707c5b21c31bad6e"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae52331fddf8b6b71707c5b21c31bad6e">hpm_mcl_encoder_get_raw_theta</a> (<a class="el" href="structmcl__encoder__t.html">mcl_encoder_t</a> *encoder)</td></tr>
<tr class="memdesc:ae52331fddf8b6b71707c5b21c31bad6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Getting the raw angle data of the encoder.  <br /></td></tr>
<tr class="separator:ae52331fddf8b6b71707c5b21c31bad6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2dd59824fc0a0751c697088158e0e5e0" id="r_a2dd59824fc0a0751c697088158e0e5e0"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2dd59824fc0a0751c697088158e0e5e0">hpm_mcl_encoder_get_theta</a> (<a class="el" href="structmcl__encoder__t.html">mcl_encoder_t</a> *encoder)</td></tr>
<tr class="memdesc:a2dd59824fc0a0751c697088158e0e5e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the encoder angle value.  <br /></td></tr>
<tr class="separator:a2dd59824fc0a0751c697088158e0e5e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae13b8fb0b56887159f269458f0e004be" id="r_ae13b8fb0b56887159f269458f0e004be"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae13b8fb0b56887159f269458f0e004be">hpm_mcl_encoder_get_sensorless_theta</a> (<a class="el" href="structmcl__encoder__t.html">mcl_encoder_t</a> *encoder)</td></tr>
<tr class="memdesc:ae13b8fb0b56887159f269458f0e004be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get sensorless theta.  <br /></td></tr>
<tr class="separator:ae13b8fb0b56887159f269458f0e004be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a6b6bc0edcb28692798f6950ef3f223" id="r_a7a6b6bc0edcb28692798f6950ef3f223"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7a6b6bc0edcb28692798f6950ef3f223">hpm_mcl_encoder_get_speed</a> (<a class="el" href="structmcl__encoder__t.html">mcl_encoder_t</a> *encoder)</td></tr>
<tr class="memdesc:a7a6b6bc0edcb28692798f6950ef3f223"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get speed.  <br /></td></tr>
<tr class="separator:a7a6b6bc0edcb28692798f6950ef3f223"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ad192a198270565a6cb71e1fd8d9f67" id="r_a4ad192a198270565a6cb71e1fd8d9f67"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4ad192a198270565a6cb71e1fd8d9f67">hpm_mcl_encoder_get_forecast_theta</a> (<a class="el" href="structmcl__encoder__t.html">mcl_encoder_t</a> *encoder)</td></tr>
<tr class="memdesc:a4ad192a198270565a6cb71e1fd8d9f67"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the angle predicted from the speed.  <br /></td></tr>
<tr class="separator:a4ad192a198270565a6cb71e1fd8d9f67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc0e5b4f2d1fa7d929c49edbde81db6f" id="r_adc0e5b4f2d1fa7d929c49edbde81db6f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="hpm__mcl__common_8h.html#a572fcb9d78561a8859565bac839c49b1">hpm_mcl_stat_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adc0e5b4f2d1fa7d929c49edbde81db6f">hpm_mcl_encoder_get_absolute_theta</a> (<a class="el" href="structmcl__encoder__t.html">mcl_encoder_t</a> *encoder, float *theta)</td></tr>
<tr class="memdesc:adc0e5b4f2d1fa7d929c49edbde81db6f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the absolute position of the angle.  <br /></td></tr>
<tr class="separator:adc0e5b4f2d1fa7d929c49edbde81db6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b3eb72f466cba80de2d95ef9c798246" id="r_a4b3eb72f466cba80de2d95ef9c798246"><td class="memItemLeft" align="right" valign="top"><a class="el" href="hpm__mcl__common_8h.html#a572fcb9d78561a8859565bac839c49b1">hpm_mcl_stat_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4b3eb72f466cba80de2d95ef9c798246">hpm_mcl_encoder_get_uvw_status</a> (<a class="el" href="structmcl__encoder__t.html">mcl_encoder_t</a> *encoder, <a class="el" href="structmcl__encoder__uvw__level__t.html">mcl_encoder_uvw_level_t</a> *level)</td></tr>
<tr class="memdesc:a4b3eb72f466cba80de2d95ef9c798246"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get level status of uvw.  <br /></td></tr>
<tr class="separator:a4b3eb72f466cba80de2d95ef9c798246"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a850d2f8593c93fdd6110defd602459c7" name="a850d2f8593c93fdd6110defd602459c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a850d2f8593c93fdd6110defd602459c7">&#9670;&#160;</a></span>hpm_mcl_encoder_force_theta()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hpm_mcl_encoder_force_theta </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmcl__encoder__t.html">mcl_encoder_t</a> *</td>          <td class="paramname"><span class="paramname"><em>encoder</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>theta</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>enable</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Force setting of the output angle of the encoder function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">encoder</td><td><a class="el" href="structmcl__encoder__t.html">mcl_encoder_t</a> </td></tr>
    <tr><td class="paramname">theta</td><td>rad </td></tr>
    <tr><td class="paramname">enable</td><td>Enable or disable the forced output function </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="adc0e5b4f2d1fa7d929c49edbde81db6f" name="adc0e5b4f2d1fa7d929c49edbde81db6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc0e5b4f2d1fa7d929c49edbde81db6f">&#9670;&#160;</a></span>hpm_mcl_encoder_get_absolute_theta()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="hpm__mcl__common_8h.html#a572fcb9d78561a8859565bac839c49b1">hpm_mcl_stat_t</a> hpm_mcl_encoder_get_absolute_theta </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmcl__encoder__t.html">mcl_encoder_t</a> *</td>          <td class="paramname"><span class="paramname"><em>encoder</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *</td>          <td class="paramname"><span class="paramname"><em>theta</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the absolute position of the angle. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">encoder</td><td><a class="el" href="structmcl__encoder__t.html">mcl_encoder_t</a> </td></tr>
    <tr><td class="paramname">theta</td><td>rad </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="hpm__mcl__common_8h.html#a572fcb9d78561a8859565bac839c49b1">hpm_mcl_stat_t</a> </dd></dl>

</div>
</div>
<a id="a4ad192a198270565a6cb71e1fd8d9f67" name="a4ad192a198270565a6cb71e1fd8d9f67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ad192a198270565a6cb71e1fd8d9f67">&#9670;&#160;</a></span>hpm_mcl_encoder_get_forecast_theta()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float hpm_mcl_encoder_get_forecast_theta </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmcl__encoder__t.html">mcl_encoder_t</a> *</td>          <td class="paramname"><span class="paramname"><em>encoder</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the angle predicted from the speed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">encoder</td><td><a class="el" href="structmcl__encoder__t.html">mcl_encoder_t</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>theta, rad </dd></dl>

</div>
</div>
<a id="ae52331fddf8b6b71707c5b21c31bad6e" name="ae52331fddf8b6b71707c5b21c31bad6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae52331fddf8b6b71707c5b21c31bad6e">&#9670;&#160;</a></span>hpm_mcl_encoder_get_raw_theta()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float hpm_mcl_encoder_get_raw_theta </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmcl__encoder__t.html">mcl_encoder_t</a> *</td>          <td class="paramname"><span class="paramname"><em>encoder</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Getting the raw angle data of the encoder. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">encoder</td><td><a class="el" href="structmcl__encoder__t.html">mcl_encoder_t</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>theta, rad </dd></dl>

</div>
</div>
<a id="ae13b8fb0b56887159f269458f0e004be" name="ae13b8fb0b56887159f269458f0e004be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae13b8fb0b56887159f269458f0e004be">&#9670;&#160;</a></span>hpm_mcl_encoder_get_sensorless_theta()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float hpm_mcl_encoder_get_sensorless_theta </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmcl__encoder__t.html">mcl_encoder_t</a> *</td>          <td class="paramname"><span class="paramname"><em>encoder</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get sensorless theta. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">encoder</td><td><a class="el" href="structmcl__encoder__t.html">mcl_encoder_t</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>theta </dd></dl>

</div>
</div>
<a id="a7a6b6bc0edcb28692798f6950ef3f223" name="a7a6b6bc0edcb28692798f6950ef3f223"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a6b6bc0edcb28692798f6950ef3f223">&#9670;&#160;</a></span>hpm_mcl_encoder_get_speed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float hpm_mcl_encoder_get_speed </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmcl__encoder__t.html">mcl_encoder_t</a> *</td>          <td class="paramname"><span class="paramname"><em>encoder</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get speed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">encoder</td><td><a class="el" href="structmcl__encoder__t.html">mcl_encoder_t</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>rad/s </dd></dl>

</div>
</div>
<a id="a2dd59824fc0a0751c697088158e0e5e0" name="a2dd59824fc0a0751c697088158e0e5e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2dd59824fc0a0751c697088158e0e5e0">&#9670;&#160;</a></span>hpm_mcl_encoder_get_theta()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float hpm_mcl_encoder_get_theta </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmcl__encoder__t.html">mcl_encoder_t</a> *</td>          <td class="paramname"><span class="paramname"><em>encoder</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the encoder angle value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">encoder</td><td><a class="el" href="structmcl__encoder__t.html">mcl_encoder_t</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>angle value, rad </dd></dl>

</div>
</div>
<a id="a4b3eb72f466cba80de2d95ef9c798246" name="a4b3eb72f466cba80de2d95ef9c798246"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b3eb72f466cba80de2d95ef9c798246">&#9670;&#160;</a></span>hpm_mcl_encoder_get_uvw_status()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="hpm__mcl__common_8h.html#a572fcb9d78561a8859565bac839c49b1">hpm_mcl_stat_t</a> hpm_mcl_encoder_get_uvw_status </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmcl__encoder__t.html">mcl_encoder_t</a> *</td>          <td class="paramname"><span class="paramname"><em>encoder</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmcl__encoder__uvw__level__t.html">mcl_encoder_uvw_level_t</a> *</td>          <td class="paramname"><span class="paramname"><em>level</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get level status of uvw. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">encoder</td><td><a class="el" href="structmcl__encoder__t.html">mcl_encoder_t</a> </td></tr>
    <tr><td class="paramname">level</td><td>0: low , 1: high </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="hpm__mcl__common_8h.html#a572fcb9d78561a8859565bac839c49b1">hpm_mcl_stat_t</a> </dd></dl>

</div>
</div>
<a id="a0c3b77c8d50cba6c95816b8eb555ecea" name="a0c3b77c8d50cba6c95816b8eb555ecea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c3b77c8d50cba6c95816b8eb555ecea">&#9670;&#160;</a></span>hpm_mcl_encoder_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="hpm__mcl__common_8h.html#a572fcb9d78561a8859565bac839c49b1">hpm_mcl_stat_t</a> hpm_mcl_encoder_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmcl__encoder__t.html">mcl_encoder_t</a> *</td>          <td class="paramname"><span class="paramname"><em>encoder</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmcl__cfg__t.html">mcl_cfg_t</a> *</td>          <td class="paramname"><span class="paramname"><em>mcl_cfg</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmcl__encoer__cfg__t.html">mcl_encoer_cfg_t</a> *</td>          <td class="paramname"><span class="paramname"><em>encoder_cfg</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmcl__filter__iir__df1__t.html">mcl_filter_iir_df1_t</a> *</td>          <td class="paramname"><span class="paramname"><em>iir</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize encoder data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">encoder</td><td><a class="el" href="structmcl__encoder__t.html">mcl_encoder_t</a> </td></tr>
    <tr><td class="paramname">mcl_cfg</td><td><a class="el" href="structmcl__cfg__t.html">mcl_cfg_t</a> </td></tr>
    <tr><td class="paramname">encoder_cfg</td><td><a class="el" href="structmcl__encoer__cfg__t.html">mcl_encoer_cfg_t</a> </td></tr>
    <tr><td class="paramname">iir</td><td><a class="el" href="structmcl__filter__iir__df1__t.html">mcl_filter_iir_df1_t</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="hpm__mcl__common_8h.html#a572fcb9d78561a8859565bac839c49b1">hpm_mcl_stat_t</a> </dd></dl>
<p>parameter check</p>
<p>null function initialisation</p>
<p>parameter initial</p>

</div>
</div>
<a id="a570404d74284f07ad4f0a671f58c6f6e" name="a570404d74284f07ad4f0a671f58c6f6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a570404d74284f07ad4f0a671f58c6f6e">&#9670;&#160;</a></span>hpm_mcl_encoder_process()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="hpm__mcl__common_8h.html#a572fcb9d78561a8859565bac839c49b1">hpm_mcl_stat_t</a> hpm_mcl_encoder_process </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmcl__encoder__t.html">mcl_encoder_t</a> *</td>          <td class="paramname"><span class="paramname"><em>encoder</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>tick_deta</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Encoder processing, cycle call. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">encoder</td><td><a class="el" href="structmcl__encoder__t.html">mcl_encoder_t</a> </td></tr>
    <tr><td class="paramname">tick_deta</td><td>Difference in the number of cycles between two calls </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="hpm__mcl__common_8h.html#a572fcb9d78561a8859565bac839c49b1">hpm_mcl_stat_t</a> </dd></dl>
<p>iir filter</p>

</div>
</div>
<a id="a488c3471f2d49a3565f9eab503472faa" name="a488c3471f2d49a3565f9eab503472faa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a488c3471f2d49a3565f9eab503472faa">&#9670;&#160;</a></span>hpm_mcl_encoder_set_initial_theta()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="hpm__mcl__common_8h.html#a572fcb9d78561a8859565bac839c49b1">hpm_mcl_stat_t</a> hpm_mcl_encoder_set_initial_theta </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmcl__encoder__t.html">mcl_encoder_t</a> *</td>          <td class="paramname"><span class="paramname"><em>encoder</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>theta</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the initial value of the angle. Normally, the programme does the initial value setting automatically, but if you are not satisfied with the result, you can set the initial value. The initial value determines the zero point of the electrical angle. This means that the angle read by the sensor is calibrated to zero by the initial value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">encoder</td><td><a class="el" href="structmcl__encoder__t.html">mcl_encoder_t</a> </td></tr>
    <tr><td class="paramname">theta</td><td>Used to calibrate electrical angle to zero </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="hpm__mcl__common_8h.html#a572fcb9d78561a8859565bac839c49b1">hpm_mcl_stat_t</a> <a class="el" href="hpm__mcl__common_8h.html#a572fcb9d78561a8859565bac839c49b1">hpm_mcl_stat_t</a> </dd></dl>

</div>
</div>
<a id="ae5fb00ae11775e198b3006df7c219504" name="ae5fb00ae11775e198b3006df7c219504"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5fb00ae11775e198b3006df7c219504">&#9670;&#160;</a></span>hpm_mcl_encoder_set_status()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="hpm__mcl__common_8h.html#a572fcb9d78561a8859565bac839c49b1">hpm_mcl_stat_t</a> hpm_mcl_encoder_set_status </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmcl__encoder__t.html">mcl_encoder_t</a> *</td>          <td class="paramname"><span class="paramname"><em>encoder</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="hpm__mcl__encoder_8h.html#ada292d0bcc6c9a8bb5ffd264f3f572c7">mcl_encoder_status_t</a></td>          <td class="paramname"><span class="paramname"><em>status</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Force update of encoder status. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">encoder</td><td><a class="el" href="structmcl__encoder__t.html">mcl_encoder_t</a> </td></tr>
    <tr><td class="paramname">status</td><td><a class="el" href="hpm__mcl__encoder_8h.html#ada292d0bcc6c9a8bb5ffd264f3f572c7">mcl_encoder_status_t</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="hpm__mcl__common_8h.html#a572fcb9d78561a8859565bac839c49b1">hpm_mcl_stat_t</a> </dd></dl>

</div>
</div>
<a id="a0c0cb83fb5da4e216567125747517da0" name="a0c0cb83fb5da4e216567125747517da0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c0cb83fb5da4e216567125747517da0">&#9670;&#160;</a></span>hpm_mcl_encoder_start_sample()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="hpm__mcl__common_8h.html#a572fcb9d78561a8859565bac839c49b1">hpm_mcl_stat_t</a> hpm_mcl_encoder_start_sample </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmcl__encoder__t.html">mcl_encoder_t</a> *</td>          <td class="paramname"><span class="paramname"><em>encoder</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Encoder starts sampling. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">encoder</td><td><a class="el" href="structmcl__encoder__t.html">mcl_encoder_t</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="hpm__mcl__common_8h.html#a572fcb9d78561a8859565bac839c49b1">hpm_mcl_stat_t</a> </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_f382573a88a6eedb79e240e7ead9d11a.html">middleware</a></li><li class="navelem"><a class="el" href="dir_ecbac26568943cf3cc4e54d3cc1d6fa3.html">hpm_mcl_v2</a></li><li class="navelem"><a class="el" href="dir_97038f5c92d8b55e8401d325ee213484.html">core</a></li><li class="navelem"><a class="el" href="dir_c72eb13f66e2b53dacdda281ba85279f.html">sensor</a></li><li class="navelem"><a class="el" href="hpm__mcl__encoder_8c.html">hpm_mcl_encoder.c</a></li>
    <li class="footer">Generated on Mon Mar 31 2025 13:16:03 for HPM SDK by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
