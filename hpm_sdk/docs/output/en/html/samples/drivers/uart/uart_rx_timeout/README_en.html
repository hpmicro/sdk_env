<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>64.5. UART rx timeout &mdash; HPMicro Software Development Kit  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/css/theme.css" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/tabs.css" />

  
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../../_static/doctools.js"></script>
        <script src="../../../../_static/sphinx_highlight.js"></script>
        <script src="../../../../_static/tabs.js"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="64.6. UART_9bit" href="../uart_9bit/README_en.html" />
    <link rel="prev" title="64.4. UART software rx idle detection" href="../uart_software_rx_idle/README_en.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../../index.html">
            
              <img src="../../../../_static/logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../get_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../boards/index_en.html">Evaluation Boards</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../index_en.html">Samples</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index_en.html">Drivers Examples</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../acmp/README_en.html">1. ACMP</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../adc/index_en.html">2. ADC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../butn/README_en.html">3. BUTN</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cam_dvp/README_en.html">4. CAM_DVP</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../can/README_en.html">5. CAN</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../crc/README_en.html">6. CRC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../dac/README_en.html">7. DAC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../dma/index_en.html">8. DMA</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../dmav2/index_en.html">9. DMAV2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../enet/index_en.html">10. ENET</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ewdg/README_en.html">11. EWDG</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../femc/index_en.html">12. FEMC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ffa/README_en.html">13. FFA</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../gpio/README_en.html">14. GPIO</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../gpiom/README_en.html">15. GPIOM</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../gptmr/index_en.html">16. GPTMR</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../gwc/README_en.html">17. GWC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../hall/README_en.html">18. Hall</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i2c/index_en.html">19. I2C</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i2s/index_en.html">20. I2S</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../jpeg/README_en.html">21. JPEG</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../l1c/README_en.html">22. L1 Cache</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../lcdc/README_en.html">23. LCDC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../lin/index_en.html">24. LIN</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../linv2/index_en.html">25. LINV2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../lobs/README_en.html">26. LOBS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../mbx/index_en.html">27. MBX</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../mcan/README_en.html">28. MCAN</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../mchtmr/README_en.html">29. MCHTMR</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../mipi_csi/README_en.html">30. MIPI_CSI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../mmc/index_en.html">31. MMC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../mono/README_en.html">32. MONO</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../mtg/index_en.html">33. MTG</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../opamp/README_en.html">34. OPAMP</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../pdgo/README_en.html">35. PDGO</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../pdma/README_en.html">36. PDMA</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../pla/index_en.html">37. PLA</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../plb/index_en.html">38. PLB</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../plic/README_en.html">39. PLIC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../pllctl/README_en.html">40. PLLCTL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../pllctlv2/README_en.html">41. PLLCTLV2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../pmp/README_en.html">42. PMP</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ppi/index_en.html">43. PPI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ppor/README_en.html">44. PPOR</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ptpc/README_en.html">45. PTPC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../pwm/index_en.html">46. PWM</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../pwmv2/index_en.html">47. PWMV2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../qei/README_en.html">48. QEI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../qeiv2/index_en.html">49. QEIV2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../qeo/index_en.html">50. QEO</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../qeov2/index_en.html">51. QEOV2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rdc/README_en.html">52. RDC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rng/README_en.html">53. RNG</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rtc/README_en.html">54. RTC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sdm/README_en.html">55. SDM</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sdxc/index_en.html">56. SDXC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sei/index_en.html">57. SEI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../smix/index_en.html">58. SMIX</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../spi/index_en.html">59. SPI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../synt/README_en.html">60. SYNT</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tamp/README_en.html">61. TAMP</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tsns/README_en.html">62. TSNS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tsw/README_en.html">63. TSW</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index_en.html">64. UART</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../uart_dma/README_en.html">64.1. Use DMA to receive and send UART data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../uart_hardware_rx_idle/README_en.html">64.2. UART hardware rx idle detection</a></li>
<li class="toctree-l3"><a class="reference internal" href="../uart_irq/README_en.html">64.3. Universal asynchronous transceiver UART</a></li>
<li class="toctree-l3"><a class="reference internal" href="../uart_software_rx_idle/README_en.html">64.4. UART software rx idle detection</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">64.5. UART rx timeout</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#overview">64.5.1. Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="#port-settings">64.5.2. Port Settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="#board-setting">64.5.3. Board Setting</a></li>
<li class="toctree-l4"><a class="reference internal" href="#running-the-example">64.5.4. Running the example</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../uart_9bit/README_en.html">64.6. UART_9bit</a></li>
<li class="toctree-l3"><a class="reference internal" href="../uart_tamagawa/README_en.html">64.7. UART tomagawa</a></li>
<li class="toctree-l3"><a class="reference internal" href="../uart_lin/master/README_en.html">64.8. uart_lin_master</a></li>
<li class="toctree-l3"><a class="reference internal" href="../uart_lin/slave/README_en.html">64.9. uart_lin_slave</a></li>
<li class="toctree-l3"><a class="reference internal" href="../uart_rx_line_status/README_en.html">64.10. UART_RXLINE_STATUS</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../vad/README_en.html">65. VAD</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../vsc/index_en.html">66. VSC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../wdg/README_en.html">67. WDG</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../docs/cmake_intro.html">SDK CMake API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../api_doc.html">SDK API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../CHANGELOG.html">Change Log</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">HPMicro Software Development Kit</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../index_en.html">Drivers Examples</a></li>
          <li class="breadcrumb-item"><a href="../index_en.html"><span class="section-number">64. </span>UART</a></li>
      <li class="breadcrumb-item active"><span class="section-number">64.5. </span>UART rx timeout</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../_sources/samples/drivers/uart/uart_rx_timeout/README_en.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section class="tex2jax_ignore mathjax_ignore" id="uart-rx-timeout">
<h1><span class="section-number">64.5. </span>UART rx timeout<a class="headerlink" href="#uart-rx-timeout" title="Permalink to this heading"></a></h1>
<section id="overview">
<h2><span class="section-number">64.5.1. </span>Overview<a class="headerlink" href="#overview" title="Permalink to this heading"></a></h2>
<p>In this example project, UART can use the principle of rx fifo timeout to receives variable length data (data size less than defined BUFF_SIZE in program).</p>
<p>Compared with uart_irq sample,this method can reduce the number of interrupt times triggered by reception.For example,to receive 1000 bytes,1000 interrupts are required for single-byte reception,but this method only needs 77 times.Moreover,the FIFO timeout can be used to judge whether the uart bus is idle,so as to receive data of variable lenth.
If the hardware supports receiving idle detection, uart can use uart_hardware_rx_idle sample.</p>
<p>if you want use software to support idle detection,you can use uart_software_rx_idle sample</p>
</section>
<section id="port-settings">
<h2><span class="section-number">64.5.2. </span>Port Settings<a class="headerlink" href="#port-settings" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p>Serial port baud rate is set to <code class="docutils literal notranslate"><span class="pre">115200bps</span></code>, with <code class="docutils literal notranslate"><span class="pre">one</span> <span class="pre">stop</span> <span class="pre">bit</span></code> and <code class="docutils literal notranslate"><span class="pre">no</span> <span class="pre">parity</span> <span class="pre">bit</span></code></p></li>
</ul>
</section>
<section id="board-setting">
<h2><span class="section-number">64.5.3. </span>Board Setting<a class="headerlink" href="#board-setting" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p>Use the usb2ttl module for testing,connect the tx pin of the module to rx pin of the board to be tested, connect the rx pin of the module to tx pin of the board to be tested,and connect th gnd pin of the module to gnd pin of the board to be tested</p></li>
<li><p>Please refer to <a class="reference internal" href="../../../../boards/index_en.html#lab-board-resource"><span class="std std-ref">Pin Description</span></a> for specific board</p></li>
</ul>
</section>
<section id="running-the-example">
<h2><span class="section-number">64.5.4. </span>Running the example<a class="headerlink" href="#running-the-example" title="Permalink to this heading"></a></h2>
<p>When the sample is running correctly, input some data through the serial port, and the serial port will send the corresponding data. The serial port terminal will output information in the following form:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">UART RX FIFO timeout example</span>
<span class="go">uart rx data size:10 interrupt count is :1</span>
<span class="go">uart rx data size:20 interrupt count is :2</span>
<span class="go">uart rx data size:30 interrupt count is :3</span>
<span class="go">uart rx data size:40 interrupt count is :4</span>
<span class="go">uart rx data size:50 interrupt count is :4</span>
<span class="go">uart rx data size:60 interrupt count is :5</span>
<span class="go">uart rx data size:70 interrupt count is :6</span>
<span class="go">uart rx data size:80 interrupt count is :7</span>
<span class="go">uart rx data size:90 interrupt count is :7</span>
<span class="go">uart rx data size:100 interrupt count is :8</span>
<span class="go">uart rx data size:200 interrupt count is :16</span>
<span class="go">uart rx data size:300 interrupt count is :24</span>
<span class="go">uart rx data size:400 interrupt count is :31</span>
<span class="go">uart rx data size:500 interrupt count is :39</span>
<span class="go">uart rx data size:600 interrupt count is :47</span>
<span class="go">uart rx data size:700 interrupt count is :54</span>
<span class="go">uart rx data size:800 interrupt count is :62</span>
<span class="go">uart rx data size:900 interrupt count is :70</span>
<span class="go">uart rx data size:1000 interrupt count is :77</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Phenomenon of serial tools</p></li>
</ul>
<p><img alt="" src="../../../../_images/uart_rxfifo_timeout.png" /></p>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020-2024, HPMicro.
      <span class="lastupdated">Last updated on Jun 28, 2024.
      </span></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>