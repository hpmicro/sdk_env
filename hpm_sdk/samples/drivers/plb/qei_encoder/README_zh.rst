.. _plb_qei_encoder_example:

PLB QEI编码器
====================

概述
------

本示例演示了如何使用PLB外设实现正交编码器(QEI)功能。PLB可以配置为AB相或ABZ相编码器接口，用于测量电机的位置和圈数信息。

主要功能:
 - 支持AB相和ABZ相两种编码器模式
 - 可配置每圈脉冲数
 - 支持输入信号数字滤波
 - 可获取位置计数和圈数信息
 - 支持Z相触发圈数计数

硬件设置
------------

- 连接电机板和电机到开发板
- 根据电机编码器类型连接:
   - AB相模式: 将编码器的A、B信号连接到开发板对应引脚
   - ABZ相模式: 将编码器的A、B、Z信号连接到开发板对应引脚

运行现象
------------

当工程正确运行后，串口终端会每100ms输出一次编码器的位置和圈数信息：

.. code-block:: console

   hase:3133. z:1
   phase:597. z:2
   phase:1792. z:2
   phase:2596. z:2
   phase:2593. z:2
   phase:2415. z:2
   phase:1199. z:2
   phase:3886. z:1
   phase:2652. z:1
   phase:2208. z:1
   phase:2208. z:1
   phase:2208. z:1
   phase:2208. z:1
   phase:2208. z:1
   phase:2208. z:1
   phase:2208. z:1
   phase:2208. z:1
   phase:2208. z:1
   phase:2208. z:1
   phase:2208. z:1
   phase:2208. z:1
   phase:2208. z:1
   phase:2208. z:1

注意事项
--------

- 启用相位计数功能时,每圈脉冲数必须大于4
- Z相功能仅在ABZ模式下有效

